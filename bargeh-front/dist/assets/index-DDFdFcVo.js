var FC=t=>{throw TypeError(t)};var w0=(t,e,n)=>e.has(t)||FC("Cannot "+n);var Qt=(t,e,n)=>(w0(t,e,"read from private field"),n?n.call(t):e.get(t)),es=(t,e,n)=>e.has(t)?FC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),wr=(t,e,n,r)=>(w0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ts=(t,e,n)=>(w0(t,e,"access private method"),n);var BC=(t,e,n,r)=>({set _(i){wr(t,e,i,n)},get _(){return Qt(t,e,r)}});function MI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C0={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function DI(){if(VC)return $u;VC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return $u.Fragment=e,$u.jsx=n,$u.jsxs=n,$u}var HC;function LI(){return HC||(HC=1,C0.exports=DI()),C0.exports}var h=LI(),E0={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function zI(){if($C)return ot;$C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function C(F,Z,fe){this.props=F,this.context=Z,this.refs=x,this.updater=fe||y}C.prototype.isReactComponent={},C.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=C.prototype;function k(F,Z,fe){this.props=F,this.context=Z,this.refs=x,this.updater=fe||y}var T=k.prototype=new E;T.constructor=k,S(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function I(F,Z,fe,ce,_e,Ae){return fe=Ae.ref,{$$typeof:t,type:F,key:Z,ref:fe!==void 0?fe:null,props:Ae}}function M(F,Z){return I(F.type,Z,void 0,void 0,void 0,F.props)}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function $(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(fe){return Z[fe]})}var U=/\/+/g;function D(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?$(""+F.key):Z.toString(36)}function B(){}function H(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(B,B):(F.status="pending",F.then(function(Z){F.status==="pending"&&(F.status="fulfilled",F.value=Z)},function(Z){F.status==="pending"&&(F.status="rejected",F.reason=Z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,Z,fe,ce,_e){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Re=!1;if(F===null)Re=!0;else switch(Ae){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(F.$$typeof){case t:case e:Re=!0;break;case g:return Re=F._init,G(Re(F._payload),Z,fe,ce,_e)}}if(Re)return _e=_e(F),Re=ce===""?"."+D(F,0):ce,R(_e)?(fe="",Re!=null&&(fe=Re.replace(U,"$&/")+"/"),G(_e,Z,fe,"",function(pe){return pe})):_e!=null&&(L(_e)&&(_e=M(_e,fe+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+Re)),Z.push(_e)),1;Re=0;var ge=ce===""?".":ce+":";if(R(F))for(var ue=0;ue<F.length;ue++)ce=F[ue],Ae=ge+D(ce,ue),Re+=G(ce,Z,fe,Ae,_e);else if(ue=b(F),typeof ue=="function")for(F=ue.call(F),ue=0;!(ce=F.next()).done;)ce=ce.value,Ae=ge+D(ce,ue++),Re+=G(ce,Z,fe,Ae,_e);else if(Ae==="object"){if(typeof F.then=="function")return G(H(F),Z,fe,ce,_e);throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function P(F,Z,fe){if(F==null)return F;var ce=[],_e=0;return G(F,ce,"","",function(Ae){return Z.call(fe,Ae,_e++)}),ce}function W(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(fe){(F._status===0||F._status===-1)&&(F._status=1,F._result=fe)},function(fe){(F._status===0||F._status===-1)&&(F._status=2,F._result=fe)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var Q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function se(){}return ot.Children={map:P,forEach:function(F,Z,fe){P(F,function(){Z.apply(this,arguments)},fe)},count:function(F){var Z=0;return P(F,function(){Z++}),Z},toArray:function(F){return P(F,function(Z){return Z})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ot.Component=C,ot.Fragment=n,ot.Profiler=i,ot.PureComponent=k,ot.StrictMode=r,ot.Suspense=d,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,ot.__COMPILER_RUNTIME={__proto__:null,c:function(F){return _.H.useMemoCache(F)}},ot.cache=function(F){return function(){return F.apply(null,arguments)}},ot.cloneElement=function(F,Z,fe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ce=S({},F.props),_e=F.key,Ae=void 0;if(Z!=null)for(Re in Z.ref!==void 0&&(Ae=void 0),Z.key!==void 0&&(_e=""+Z.key),Z)!O.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(ce[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)ce.children=fe;else if(1<Re){for(var ge=Array(Re),ue=0;ue<Re;ue++)ge[ue]=arguments[ue+2];ce.children=ge}return I(F.type,_e,void 0,void 0,Ae,ce)},ot.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},ot.createElement=function(F,Z,fe){var ce,_e={},Ae=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ae=""+Z.key),Z)O.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=Z[ce]);var Re=arguments.length-2;if(Re===1)_e.children=fe;else if(1<Re){for(var ge=Array(Re),ue=0;ue<Re;ue++)ge[ue]=arguments[ue+2];_e.children=ge}if(F&&F.defaultProps)for(ce in Re=F.defaultProps,Re)_e[ce]===void 0&&(_e[ce]=Re[ce]);return I(F,Ae,void 0,void 0,null,_e)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(F){return{$$typeof:c,render:F}},ot.isValidElement=L,ot.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:W}},ot.memo=function(F,Z){return{$$typeof:f,type:F,compare:Z===void 0?null:Z}},ot.startTransition=function(F){var Z=_.T,fe={};_.T=fe;try{var ce=F(),_e=_.S;_e!==null&&_e(fe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(se,Q)}catch(Ae){Q(Ae)}finally{_.T=Z}},ot.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},ot.use=function(F){return _.H.use(F)},ot.useActionState=function(F,Z,fe){return _.H.useActionState(F,Z,fe)},ot.useCallback=function(F,Z){return _.H.useCallback(F,Z)},ot.useContext=function(F){return _.H.useContext(F)},ot.useDebugValue=function(){},ot.useDeferredValue=function(F,Z){return _.H.useDeferredValue(F,Z)},ot.useEffect=function(F,Z,fe){var ce=_.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(F,Z)},ot.useId=function(){return _.H.useId()},ot.useImperativeHandle=function(F,Z,fe){return _.H.useImperativeHandle(F,Z,fe)},ot.useInsertionEffect=function(F,Z){return _.H.useInsertionEffect(F,Z)},ot.useLayoutEffect=function(F,Z){return _.H.useLayoutEffect(F,Z)},ot.useMemo=function(F,Z){return _.H.useMemo(F,Z)},ot.useOptimistic=function(F,Z){return _.H.useOptimistic(F,Z)},ot.useReducer=function(F,Z,fe){return _.H.useReducer(F,Z,fe)},ot.useRef=function(F){return _.H.useRef(F)},ot.useState=function(F){return _.H.useState(F)},ot.useSyncExternalStore=function(F,Z,fe){return _.H.useSyncExternalStore(F,Z,fe)},ot.useTransition=function(){return _.H.useTransition()},ot.version="19.1.1",ot}var UC;function by(){return UC||(UC=1,E0.exports=zI()),E0.exports}var A=by();const Mt=th(A),WC=MI({__proto__:null,default:Mt},[A]);var A0={exports:{}},Uu={},_0={exports:{}},T0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function FI(){return GC||(GC=1,function(t){function e(P,W){var Q=P.length;P.push(W);e:for(;0<Q;){var se=Q-1>>>1,F=P[se];if(0<i(F,W))P[se]=W,P[Q]=F,Q=se;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var W=P[0],Q=P.pop();if(Q!==W){P[0]=Q;e:for(var se=0,F=P.length,Z=F>>>1;se<Z;){var fe=2*(se+1)-1,ce=P[fe],_e=fe+1,Ae=P[_e];if(0>i(ce,Q))_e<F&&0>i(Ae,ce)?(P[se]=Ae,P[_e]=Q,se=_e):(P[se]=ce,P[fe]=Q,se=fe);else if(_e<F&&0>i(Ae,Q))P[se]=Ae,P[_e]=Q,se=_e;else break e}}return W}function i(P,W){var Q=P.sortIndex-W.sortIndex;return Q!==0?Q:P.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],g=1,m=null,b=3,y=!1,S=!1,x=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(P){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=P)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function _(P){if(x=!1,R(P),!S)if(n(d)!==null)S=!0,O||(O=!0,D());else{var W=n(f);W!==null&&G(_,W.startTime-P)}}var O=!1,I=-1,M=5,L=-1;function $(){return C?!0:!(t.unstable_now()-L<M)}function U(){if(C=!1,O){var P=t.unstable_now();L=P;var W=!0;try{e:{S=!1,x&&(x=!1,k(I),I=-1),y=!0;var Q=b;try{t:{for(R(P),m=n(d);m!==null&&!(m.expirationTime>P&&$());){var se=m.callback;if(typeof se=="function"){m.callback=null,b=m.priorityLevel;var F=se(m.expirationTime<=P);if(P=t.unstable_now(),typeof F=="function"){m.callback=F,R(P),W=!0;break t}m===n(d)&&r(d),R(P)}else r(d);m=n(d)}if(m!==null)W=!0;else{var Z=n(f);Z!==null&&G(_,Z.startTime-P),W=!1}}break e}finally{m=null,b=Q,y=!1}W=void 0}}finally{W?D():O=!1}}}var D;if(typeof T=="function")D=function(){T(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=U,D=function(){H.postMessage(null)}}else D=function(){E(U,0)};function G(P,W){I=E(function(){P(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(P){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var Q=b;b=W;try{return P()}finally{b=Q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Q=b;b=P;try{return W()}finally{b=Q}},t.unstable_scheduleCallback=function(P,W,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,P={id:g++,callback:W,priorityLevel:P,startTime:Q,expirationTime:F,sortIndex:-1},Q>se?(P.sortIndex=Q,e(f,P),n(d)===null&&P===n(f)&&(x?(k(I),I=-1):x=!0,G(_,Q-se))):(P.sortIndex=F,e(d,P),S||y||(S=!0,O||(O=!0,D()))),P},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(P){var W=b;return function(){var Q=b;b=W;try{return P.apply(this,arguments)}finally{b=Q}}}}(T0)),T0}var qC;function BI(){return qC||(qC=1,_0.exports=FI()),_0.exports}var R0={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function VI(){if(YC)return nr;YC=1;var t=by();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:g}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,g)},nr.flushSync=function(d){var f=a.T,g=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=g,r.d.f()}},nr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},nr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},nr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,m=c(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:y}):g==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},nr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},nr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,m=c(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},nr.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},nr.requestFormReset=function(d){r.d.r(d)},nr.unstable_batchedUpdates=function(d,f){return d(f)},nr.useFormState=function(d,f,g){return a.H.useFormState(d,f,g)},nr.useFormStatus=function(){return a.H.useHostTransitionStatus()},nr.version="19.1.1",nr}var XC;function FT(){if(XC)return R0.exports;XC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=VI(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function HI(){if(KC)return Uu;KC=1;var t=BI(),e=by(),n=FT();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,u=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(u=l.return),o=l.return;while(o)}return l.tag===3?u:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var u=o,p=l;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return c(v),o;if(w===p)return c(v),l;w=w.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=w;else{for(var j=!1,z=v.child;z;){if(z===u){j=!0,u=v,p=w;break}if(z===p){j=!0,p=v,u=w;break}z=z.sibling}if(!j){for(z=w.child;z;){if(z===u){j=!0,u=w,p=v;break}if(z===p){j=!0,p=w,u=v;break}z=z.sibling}if(!j)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:l}function f(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=f(o),l!==null)return l;o=o.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function H(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case T:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case R:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:H(o.type)||"Memo";case M:l=o._payload,o=o._init;try{return H(o(l))}catch{}}return null}var G=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],F=-1;function Z(o){return{current:o}}function fe(o){0>F||(o.current=se[F],se[F]=null,F--)}function ce(o,l){F++,se[F]=o.current,o.current=l}var _e=Z(null),Ae=Z(null),Re=Z(null),ge=Z(null);function ue(o,l){switch(ce(Re,l),ce(Ae,o),ce(_e,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?fC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=fC(l),o=gC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}fe(_e),ce(_e,o)}function pe(){fe(_e),fe(Ae),fe(Re)}function Ee(o){o.memoizedState!==null&&ce(ge,o);var l=_e.current,u=gC(l,o.type);l!==u&&(ce(Ae,o),ce(_e,u))}function te(o){Ae.current===o&&(fe(_e),fe(Ae)),ge.current===o&&(fe(ge),zu._currentValue=Q)}var Ce=Object.prototype.hasOwnProperty,ve=t.unstable_scheduleCallback,je=t.unstable_cancelCallback,Je=t.unstable_shouldYield,tt=t.unstable_requestPaint,nt=t.unstable_now,un=t.unstable_getCurrentPriorityLevel,Ir=t.unstable_ImmediatePriority,Rn=t.unstable_UserBlockingPriority,Jn=t.unstable_NormalPriority,mr=t.unstable_LowPriority,br=t.unstable_IdlePriority,gl=t.log,ta=t.unstable_setDisableYieldValue,er=null,wt=null;function Nn(o){if(typeof gl=="function"&&ta(o),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(er,o)}catch{}}var Wt=Math.clz32?Math.clz32:kh,na=Math.log,Gi=Math.LN2;function kh(o){return o>>>=0,o===0?32:31-(na(o)/Gi|0)|0}var ra=256,ia=4194304;function Es(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function sa(o,l,u){var p=o.pendingLanes;if(p===0)return 0;var v=0,w=o.suspendedLanes,j=o.pingedLanes;o=o.warmLanes;var z=p&134217727;return z!==0?(p=z&~w,p!==0?v=Es(p):(j&=z,j!==0?v=Es(j):u||(u=z&~o,u!==0&&(v=Es(u))))):(z=p&~w,z!==0?v=Es(z):j!==0?v=Es(j):u||(u=p&~o,u!==0&&(v=Es(u)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:v}function qi(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Oh(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var o=ra;return ra<<=1,(ra&4194048)===0&&(ra=256),o}function jh(){var o=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),o}function ml(o){for(var l=[],u=0;31>u;u++)l.push(o);return l}function oa(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ph(o,l,u,p,v,w){var j=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var z=o.entanglements,q=o.expirationTimes,ie=o.hiddenUpdates;for(u=j&~u;0<u;){var me=31-Wt(u),xe=1<<me;z[me]=0,q[me]=-1;var oe=ie[me];if(oe!==null)for(ie[me]=null,me=0;me<oe.length;me++){var ae=oe[me];ae!==null&&(ae.lane&=-536870913)}u&=~xe}p!==0&&aa(o,p,0),w!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=w&~(j&~l))}function aa(o,l,u){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Wt(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|u&4194090}function la(o,l){var u=o.entangledLanes|=l;for(o=o.entanglements;u;){var p=31-Wt(u),v=1<<p;v&l|o[p]&l&&(o[p]|=l),u&=~v}}function Xc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Kc(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Y(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:NC(o.type))}function ne(o,l){var u=W.p;try{return W.p=o,l()}finally{W.p=u}}var le=Math.random().toString(36).slice(2),we="__reactFiber$"+le,ke="__reactProps$"+le,Ie="__reactContainer$"+le,Le="__reactEvents$"+le,Me="__reactListeners$"+le,Ve="__reactHandles$"+le,Ue="__reactResources$"+le,De="__reactMarker$"+le;function ze(o){delete o[we],delete o[ke],delete o[Le],delete o[Me],delete o[Ve]}function at(o){var l=o[we];if(l)return l;for(var u=o.parentNode;u;){if(l=u[Ie]||u[we]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(o=vC(o);o!==null;){if(u=o[we])return u;o=vC(o)}return l}o=u,u=o.parentNode}return null}function jt(o){if(o=o[we]||o[Ie]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function rn(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function sn(o){var l=o[Ue];return l||(l=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function st(o){o[De]=!0}var Dt=new Set,Yi={};function Mr(o,l){lr(o,l),lr(o+"Capture",l)}function lr(o,l){for(Yi[o]=l,o=0;o<l.length;o++)Dt.add(l[o])}var ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},oo={};function As(o){return Ce.call(oo,o)?!0:Ce.call(bl,o)?!1:ti.test(o)?oo[o]=!0:(bl[o]=!0,!1)}function _s(o,l,u){if(As(l))if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+u)}}function Ts(o,l,u){if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+u)}}function ct(o,l,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(l,u,""+p)}}var xn,ca;function ni(o){if(xn===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);xn=l&&l[1]||"",ca=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xn+o+ca}var en=!1;function ao(o,l){if(!o||en)return"";en=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ae){var oe=ae}Reflect.construct(o,[],xe)}else{try{xe.call()}catch(ae){oe=ae}o.call(xe.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(xe=o())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),j=w[0],z=w[1];if(j&&z){var q=j.split(`
`),ie=z.split(`
`);for(v=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(p===q.length||v===ie.length)for(p=q.length-1,v=ie.length-1;1<=p&&0<=v&&q[p]!==ie[v];)v--;for(;1<=p&&0<=v;p--,v--)if(q[p]!==ie[v]){if(p!==1||v!==1)do if(p--,v--,0>v||q[p]!==ie[v]){var me=`
`+q[p].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=p&&0<=v);break}}}finally{en=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?ni(u):""}function Nh(o){switch(o.tag){case 26:case 27:case 5:return ni(o.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ao(o.type,!1);case 11:return ao(o.type.render,!1);case 1:return ao(o.type,!0);case 31:return ni("Activity");default:return""}}function Ih(o){try{var l="";do l+=Nh(o),o=o.return;while(o);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ri(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function lS(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function OP(o){var l=lS(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(j){p=""+j,w.call(this,j)}}),Object.defineProperty(o,l,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Mh(o){o._valueTracker||(o._valueTracker=OP(o))}function cS(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return o&&(p=lS(o)?o.checked?"true":"false":o.value),o=p,o!==u?(l.setValue(o),!0):!1}function Dh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var jP=/[\n"\\]/g;function ii(o){return o.replace(jP,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ym(o,l,u,p,v,w,j,z){o.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.type=j:o.removeAttribute("type"),l!=null?j==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ri(l)):o.value!==""+ri(l)&&(o.value=""+ri(l)):j!=="submit"&&j!=="reset"||o.removeAttribute("value"),l!=null?xm(o,j,ri(l)):u!=null?xm(o,j,ri(u)):p!=null&&o.removeAttribute("value"),v==null&&w!=null&&(o.defaultChecked=!!w),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+ri(z):o.removeAttribute("name")}function uS(o,l,u,p,v,w,j,z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+ri(u):"",l=l!=null?""+ri(l):u,z||l===o.value||(o.value=l),o.defaultValue=l}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=z?o.checked:!!p,o.defaultChecked=!!p,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(o.name=j)}function xm(o,l,u){l==="number"&&Dh(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function vl(o,l,u,p){if(o=o.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=l.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&p&&(o[u].defaultSelected=!0)}else{for(u=""+ri(u),l=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,p&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function dS(o,l,u){if(l!=null&&(l=""+ri(l),l!==o.value&&(o.value=l),u==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=u!=null?""+ri(u):""}function hS(o,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(G(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=ri(l),o.defaultValue=u,p=o.textContent,p===u&&p!==""&&p!==null&&(o.value=p)}function yl(o,l){if(l){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=l;return}}o.textContent=l}var PP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fS(o,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,u):typeof u!="number"||u===0||PP.has(l)?l==="float"?o.cssFloat=u:o[l]=(""+u).trim():o[l]=u+"px"}function gS(o,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var v in l)p=l[v],l.hasOwnProperty(v)&&u[v]!==p&&fS(o,v,p)}else for(var w in l)l.hasOwnProperty(w)&&fS(o,w,l[w])}function Sm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lh(o){return IP.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var wm=null;function Cm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var xl=null,Sl=null;function pS(o){var l=jt(o);if(l&&(o=l.stateNode)){var u=o[ke]||null;e:switch(o=l.stateNode,l.type){case"input":if(ym(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ii(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==o&&p.form===o.form){var v=p[ke]||null;if(!v)throw Error(r(90));ym(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===o.form&&cS(p)}break e;case"textarea":dS(o,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&vl(o,!!u.multiple,l,!1)}}}var Em=!1;function mS(o,l,u){if(Em)return o(l,u);Em=!0;try{var p=o(l);return p}finally{if(Em=!1,(xl!==null||Sl!==null)&&(Cf(),xl&&(l=xl,o=Sl,Sl=xl=null,pS(l),o)))for(l=0;l<o.length;l++)pS(o[l])}}function Qc(o,l){var u=o.stateNode;if(u===null)return null;var p=u[ke]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=!1;if(Rs)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){Am=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{Am=!1}var lo=null,_m=null,zh=null;function bS(){if(zh)return zh;var o,l=_m,u=l.length,p,v="value"in lo?lo.value:lo.textContent,w=v.length;for(o=0;o<u&&l[o]===v[o];o++);var j=u-o;for(p=1;p<=j&&l[u-p]===v[w-p];p++);return zh=v.slice(o,1<p?1-p:void 0)}function Fh(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Bh(){return!0}function vS(){return!1}function vr(o){function l(u,p,v,w,j){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(u=o[z],this[z]=u?u(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Bh:vS,this.isPropagationStopped=vS,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),l}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vh=vr(ua),Jc=g({},ua,{view:0,detail:0}),MP=vr(Jc),Tm,Rm,eu,Hh=g({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Om,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eu&&(eu&&o.type==="mousemove"?(Tm=o.screenX-eu.screenX,Rm=o.screenY-eu.screenY):Rm=Tm=0,eu=o),Tm)},movementY:function(o){return"movementY"in o?o.movementY:Rm}}),yS=vr(Hh),DP=g({},Hh,{dataTransfer:0}),LP=vr(DP),zP=g({},Jc,{relatedTarget:0}),km=vr(zP),FP=g({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),BP=vr(FP),VP=g({},ua,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),HP=vr(VP),$P=g({},ua,{data:0}),xS=vr($P),UP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=GP[o])?!!l[o]:!1}function Om(){return qP}var YP=g({},Jc,{key:function(o){if(o.key){var l=UP[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Fh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?WP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Om,charCode:function(o){return o.type==="keypress"?Fh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),XP=vr(YP),KP=g({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SS=vr(KP),QP=g({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Om}),ZP=vr(QP),JP=g({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=vr(JP),tN=g({},Hh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nN=vr(tN),rN=g({},ua,{newState:0,oldState:0}),iN=vr(rN),sN=[9,13,27,32],jm=Rs&&"CompositionEvent"in window,tu=null;Rs&&"documentMode"in document&&(tu=document.documentMode);var oN=Rs&&"TextEvent"in window&&!tu,wS=Rs&&(!jm||tu&&8<tu&&11>=tu),CS=" ",ES=!1;function AS(o,l){switch(o){case"keyup":return sN.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wl=!1;function aN(o,l){switch(o){case"compositionend":return _S(l);case"keypress":return l.which!==32?null:(ES=!0,CS);case"textInput":return o=l.data,o===CS&&ES?null:o;default:return null}}function lN(o,l){if(wl)return o==="compositionend"||!jm&&AS(o,l)?(o=bS(),zh=_m=lo=null,wl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wS&&l.locale!=="ko"?null:l.data;default:return null}}var cN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!cN[o.type]:l==="textarea"}function RS(o,l,u,p){xl?Sl?Sl.push(p):Sl=[p]:xl=p,l=kf(l,"onChange"),0<l.length&&(u=new Vh("onChange","change",null,u,p),o.push({event:u,listeners:l}))}var nu=null,ru=null;function uN(o){lC(o,0)}function $h(o){var l=rn(o);if(cS(l))return o}function kS(o,l){if(o==="change")return l}var OS=!1;if(Rs){var Pm;if(Rs){var Nm="oninput"in document;if(!Nm){var jS=document.createElement("div");jS.setAttribute("oninput","return;"),Nm=typeof jS.oninput=="function"}Pm=Nm}else Pm=!1;OS=Pm&&(!document.documentMode||9<document.documentMode)}function PS(){nu&&(nu.detachEvent("onpropertychange",NS),ru=nu=null)}function NS(o){if(o.propertyName==="value"&&$h(ru)){var l=[];RS(l,ru,o,Cm(o)),mS(uN,l)}}function dN(o,l,u){o==="focusin"?(PS(),nu=l,ru=u,nu.attachEvent("onpropertychange",NS)):o==="focusout"&&PS()}function hN(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return $h(ru)}function fN(o,l){if(o==="click")return $h(l)}function gN(o,l){if(o==="input"||o==="change")return $h(l)}function pN(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Dr=typeof Object.is=="function"?Object.is:pN;function iu(o,l){if(Dr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var u=Object.keys(o),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!Ce.call(l,v)||!Dr(o[v],l[v]))return!1}return!0}function IS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function MS(o,l){var u=IS(o);o=0;for(var p;u;){if(u.nodeType===3){if(p=o+u.textContent.length,o<=l&&p>=l)return{node:u,offset:l-o};o=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=IS(u)}}function DS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?DS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function LS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Dh(o.document);l instanceof o.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)o=l.contentWindow;else break;l=Dh(o.document)}return l}function Im(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var mN=Rs&&"documentMode"in document&&11>=document.documentMode,Cl=null,Mm=null,su=null,Dm=!1;function zS(o,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Dm||Cl==null||Cl!==Dh(p)||(p=Cl,"selectionStart"in p&&Im(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),su&&iu(su,p)||(su=p,p=kf(Mm,"onSelect"),0<p.length&&(l=new Vh("onSelect","select",null,l,u),o.push({event:l,listeners:p}),l.target=Cl)))}function da(o,l){var u={};return u[o.toLowerCase()]=l.toLowerCase(),u["Webkit"+o]="webkit"+l,u["Moz"+o]="moz"+l,u}var El={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Lm={},FS={};Rs&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function ha(o){if(Lm[o])return Lm[o];if(!El[o])return o;var l=El[o],u;for(u in l)if(l.hasOwnProperty(u)&&u in FS)return Lm[o]=l[u];return o}var BS=ha("animationend"),VS=ha("animationiteration"),HS=ha("animationstart"),bN=ha("transitionrun"),vN=ha("transitionstart"),yN=ha("transitioncancel"),$S=ha("transitionend"),US=new Map,zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zm.push("scrollEnd");function Ei(o,l){US.set(o,l),Mr(l,[o])}var WS=new WeakMap;function si(o,l){if(typeof o=="object"&&o!==null){var u=WS.get(o);return u!==void 0?u:(l={value:o,source:l,stack:Ih(l)},WS.set(o,l),l)}return{value:o,source:l,stack:Ih(l)}}var oi=[],Al=0,Fm=0;function Uh(){for(var o=Al,l=Fm=Al=0;l<o;){var u=oi[l];oi[l++]=null;var p=oi[l];oi[l++]=null;var v=oi[l];oi[l++]=null;var w=oi[l];if(oi[l++]=null,p!==null&&v!==null){var j=p.pending;j===null?v.next=v:(v.next=j.next,j.next=v),p.pending=v}w!==0&&GS(u,v,w)}}function Wh(o,l,u,p){oi[Al++]=o,oi[Al++]=l,oi[Al++]=u,oi[Al++]=p,Fm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Bm(o,l,u,p){return Wh(o,l,u,p),Gh(o)}function _l(o,l){return Wh(o,null,null,l),Gh(o)}function GS(o,l,u){o.lanes|=u;var p=o.alternate;p!==null&&(p.lanes|=u);for(var v=!1,w=o.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(v=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,v&&l!==null&&(v=31-Wt(u),o=w.hiddenUpdates,p=o[v],p===null?o[v]=[l]:p.push(l),l.lane=u|536870912),w):null}function Gh(o){if(50<Ou)throw Ou=0,Gb=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Tl={};function xN(o,l,u,p){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(o,l,u,p){return new xN(o,l,u,p)}function Vm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ks(o,l){var u=o.alternate;return u===null?(u=Lr(o.tag,l,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=l,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,l=o.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function qS(o,l){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,l=u.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function qh(o,l,u,p,v,w){var j=0;if(p=o,typeof o=="function")Vm(o)&&(j=1);else if(typeof o=="string")j=wI(o,u,_e.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Lr(31,u,l,v),o.elementType=L,o.lanes=w,o;case S:return fa(u.children,v,w,l);case x:j=8,v|=24;break;case C:return o=Lr(12,u,l,v|2),o.elementType=C,o.lanes=w,o;case _:return o=Lr(13,u,l,v),o.elementType=_,o.lanes=w,o;case O:return o=Lr(19,u,l,v),o.elementType=O,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case T:j=10;break e;case k:j=9;break e;case R:j=11;break e;case I:j=14;break e;case M:j=16,p=null;break e}j=29,u=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Lr(j,u,l,v),l.elementType=o,l.type=p,l.lanes=w,l}function fa(o,l,u,p){return o=Lr(7,o,p,l),o.lanes=u,o}function Hm(o,l,u){return o=Lr(6,o,null,l),o.lanes=u,o}function $m(o,l,u){return l=Lr(4,o.children!==null?o.children:[],o.key,l),l.lanes=u,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Rl=[],kl=0,Yh=null,Xh=0,ai=[],li=0,ga=null,Os=1,js="";function pa(o,l){Rl[kl++]=Xh,Rl[kl++]=Yh,Yh=o,Xh=l}function YS(o,l,u){ai[li++]=Os,ai[li++]=js,ai[li++]=ga,ga=o;var p=Os;o=js;var v=32-Wt(p)-1;p&=~(1<<v),u+=1;var w=32-Wt(l)+v;if(30<w){var j=v-v%5;w=(p&(1<<j)-1).toString(32),p>>=j,v-=j,Os=1<<32-Wt(l)+v|u<<v|p,js=w+o}else Os=1<<w|u<<v|p,js=o}function Um(o){o.return!==null&&(pa(o,1),YS(o,1,0))}function Wm(o){for(;o===Yh;)Yh=Rl[--kl],Rl[kl]=null,Xh=Rl[--kl],Rl[kl]=null;for(;o===ga;)ga=ai[--li],ai[li]=null,js=ai[--li],ai[li]=null,Os=ai[--li],ai[li]=null}var cr=null,on=null,Et=!1,ma=null,Xi=!1,Gm=Error(r(519));function ba(o){var l=Error(r(418,""));throw lu(si(l,o)),Gm}function XS(o){var l=o.stateNode,u=o.type,p=o.memoizedProps;switch(l[we]=o,l[ke]=p,u){case"dialog":gt("cancel",l),gt("close",l);break;case"iframe":case"object":case"embed":gt("load",l);break;case"video":case"audio":for(u=0;u<Pu.length;u++)gt(Pu[u],l);break;case"source":gt("error",l);break;case"img":case"image":case"link":gt("error",l),gt("load",l);break;case"details":gt("toggle",l);break;case"input":gt("invalid",l),uS(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Mh(l);break;case"select":gt("invalid",l);break;case"textarea":gt("invalid",l),hS(l,p.value,p.defaultValue,p.children),Mh(l)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||hC(l.textContent,u)?(p.popover!=null&&(gt("beforetoggle",l),gt("toggle",l)),p.onScroll!=null&&gt("scroll",l),p.onScrollEnd!=null&&gt("scrollend",l),p.onClick!=null&&(l.onclick=Of),l=!0):l=!1,l||ba(o)}function KS(o){for(cr=o.return;cr;)switch(cr.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:cr=cr.return}}function ou(o){if(o!==cr)return!1;if(!Et)return KS(o),Et=!0,!1;var l=o.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||l0(o.type,o.memoizedProps)),u=!u),u&&on&&ba(o),KS(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(l===0){on=_i(o.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;o=o.nextSibling}on=null}}else l===27?(l=on,Ao(o.type)?(o=h0,h0=null,on=o):on=l):on=cr?_i(o.stateNode.nextSibling):null;return!0}function au(){on=cr=null,Et=!1}function QS(){var o=ma;return o!==null&&(Sr===null?Sr=o:Sr.push.apply(Sr,o),ma=null),o}function lu(o){ma===null?ma=[o]:ma.push(o)}var qm=Z(null),va=null,Ps=null;function co(o,l,u){ce(qm,l._currentValue),l._currentValue=u}function Ns(o){o._currentValue=qm.current,fe(qm)}function Ym(o,l,u){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===u)break;o=o.return}}function Xm(o,l,u,p){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var w=v.dependencies;if(w!==null){var j=v.child;w=w.firstContext;e:for(;w!==null;){var z=w;w=v;for(var q=0;q<l.length;q++)if(z.context===l[q]){w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Ym(w.return,u,o),p||(j=null);break e}w=z.next}}else if(v.tag===18){if(j=v.return,j===null)throw Error(r(341));j.lanes|=u,w=j.alternate,w!==null&&(w.lanes|=u),Ym(j,u,o),j=null}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===o){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}}function cu(o,l,u,p){o=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var j=v.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var z=v.type;Dr(v.pendingProps.value,j.value)||(o!==null?o.push(z):o=[z])}}else if(v===ge.current){if(j=v.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(zu):o=[zu])}v=v.return}o!==null&&Xm(l,o,u,p),l.flags|=262144}function Kh(o){for(o=o.firstContext;o!==null;){if(!Dr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ya(o){va=o,Ps=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function tr(o){return ZS(va,o)}function Qh(o,l){return va===null&&ya(o),ZS(o,l)}function ZS(o,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Ps===null){if(o===null)throw Error(r(308));Ps=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ps=Ps.next=l;return u}var SN=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(u,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(u){return u()})}},wN=t.unstable_scheduleCallback,CN=t.unstable_NormalPriority,kn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new SN,data:new Map,refCount:0}}function uu(o){o.refCount--,o.refCount===0&&wN(CN,function(){o.controller.abort()})}var du=null,Qm=0,Ol=0,jl=null;function EN(o,l){if(du===null){var u=du=[];Qm=0,Ol=Jb(),jl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Qm++,l.then(JS,JS),l}function JS(){if(--Qm===0&&du!==null){jl!==null&&(jl.status="fulfilled");var o=du;du=null,Ol=0,jl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function AN(o,l){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var e1=P.S;P.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&EN(o,l),e1!==null&&e1(o,l)};var xa=Z(null);function Zm(){var o=xa.current;return o!==null?o:Gt.pooledCache}function Zh(o,l){l===null?ce(xa,xa.current):ce(xa,l.pool)}function t1(){var o=Zm();return o===null?null:{parent:kn._currentValue,pool:o}}var hu=Error(r(460)),n1=Error(r(474)),Jh=Error(r(542)),Jm={then:function(){}};function r1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ef(){}function i1(o,l,u){switch(u=o[u],u===void 0?o.push(l):u!==l&&(l.then(ef,ef),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,o1(o),o;default:if(typeof l.status=="string")l.then(ef,ef);else{if(o=Gt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=p}},function(p){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,o1(o),o}throw fu=l,hu}}var fu=null;function s1(){if(fu===null)throw Error(r(459));var o=fu;return fu=null,o}function o1(o){if(o===hu||o===Jh)throw Error(r(483))}var uo=!1;function eb(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tb(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ho(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function fo(o,l,u){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Pt&2)!==0){var v=p.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),p.pending=l,l=Gh(o),GS(o,null,u),l}return Wh(o,p,l,u),Gh(o)}function gu(o,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,u|=p,l.lanes=u,la(o,u)}}function nb(o,l){var u=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var j={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=j:w=w.next=j,u=u.next}while(u!==null);w===null?v=w=l:w=w.next=l}else v=w=l;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=l}var rb=!1;function pu(){if(rb){var o=jl;if(o!==null)throw o}}function mu(o,l,u,p){rb=!1;var v=o.updateQueue;uo=!1;var w=v.firstBaseUpdate,j=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var q=z,ie=q.next;q.next=null,j===null?w=ie:j.next=ie,j=q;var me=o.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==j&&(z===null?me.firstBaseUpdate=ie:z.next=ie,me.lastBaseUpdate=q))}if(w!==null){var xe=v.baseState;j=0,me=ie=q=null,z=w;do{var oe=z.lane&-536870913,ae=oe!==z.lane;if(ae?(xt&oe)===oe:(p&oe)===oe){oe!==0&&oe===Ol&&(rb=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Xe=o,We=z;oe=l;var Ft=u;switch(We.tag){case 1:if(Xe=We.payload,typeof Xe=="function"){xe=Xe.call(Ft,xe,oe);break e}xe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=We.payload,oe=typeof Xe=="function"?Xe.call(Ft,xe,oe):Xe,oe==null)break e;xe=g({},xe,oe);break e;case 2:uo=!0}}oe=z.callback,oe!==null&&(o.flags|=64,ae&&(o.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(ie=me=ae,q=xe):me=me.next=ae,j|=oe;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;ae=z,z=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);me===null&&(q=xe),v.baseState=q,v.firstBaseUpdate=ie,v.lastBaseUpdate=me,w===null&&(v.shared.lanes=0),So|=j,o.lanes=j,o.memoizedState=xe}}function a1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function l1(o,l){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)a1(u[o],l)}var Pl=Z(null),tf=Z(0);function c1(o,l){o=Bs,ce(tf,o),ce(Pl,l),Bs=o|l.baseLanes}function ib(){ce(tf,Bs),ce(Pl,Pl.current)}function sb(){Bs=tf.current,fe(Pl),fe(tf)}var go=0,lt=null,Lt=null,Sn=null,nf=!1,Nl=!1,Sa=!1,rf=0,bu=0,Il=null,_N=0;function dn(){throw Error(r(321))}function ob(o,l){if(l===null)return!1;for(var u=0;u<l.length&&u<o.length;u++)if(!Dr(o[u],l[u]))return!1;return!0}function ab(o,l,u,p,v,w){return go=w,lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,P.H=o===null||o.memoizedState===null?G1:q1,Sa=!1,w=u(p,v),Sa=!1,Nl&&(w=d1(l,u,p,v)),u1(o),w}function u1(o){P.H=uf;var l=Lt!==null&&Lt.next!==null;if(go=0,Sn=Lt=lt=null,nf=!1,bu=0,Il=null,l)throw Error(r(300));o===null||In||(o=o.dependencies,o!==null&&Kh(o)&&(In=!0))}function d1(o,l,u,p){lt=o;var v=0;do{if(Nl&&(Il=null),bu=0,Nl=!1,25<=v)throw Error(r(301));if(v+=1,Sn=Lt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}P.H=NN,w=l(u,p)}while(Nl);return w}function TN(){var o=P.H,l=o.useState()[0];return l=typeof l.then=="function"?vu(l):l,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(lt.flags|=1024),l}function lb(){var o=rf!==0;return rf=0,o}function cb(o,l,u){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~u}function ub(o){if(nf){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}nf=!1}go=0,Sn=Lt=lt=null,Nl=!1,bu=rf=0,Il=null}function yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?lt.memoizedState=Sn=o:Sn=Sn.next=o,Sn}function wn(){if(Lt===null){var o=lt.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var l=Sn===null?lt.memoizedState:Sn.next;if(l!==null)Sn=l,Lt=o;else{if(o===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Sn===null?lt.memoizedState=Sn=o:Sn=Sn.next=o}return Sn}function db(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(o){var l=bu;return bu+=1,Il===null&&(Il=[]),o=i1(Il,o,l),l=lt,(Sn===null?l.memoizedState:Sn.next)===null&&(l=l.alternate,P.H=l===null||l.memoizedState===null?G1:q1),o}function sf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return vu(o);if(o.$$typeof===T)return tr(o)}throw Error(r(438,String(o)))}function hb(o){var l=null,u=lt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=db(),lt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(o),p=0;p<o;p++)u[p]=$;return l.index++,u}function Is(o,l){return typeof l=="function"?l(o):l}function of(o){var l=wn();return fb(l,Lt,o)}function fb(o,l,u){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=o.baseQueue,w=p.pending;if(w!==null){if(v!==null){var j=v.next;v.next=w.next,w.next=j}l.baseQueue=v=w,p.pending=null}if(w=o.baseState,v===null)o.memoizedState=w;else{l=v.next;var z=j=null,q=null,ie=l,me=!1;do{var xe=ie.lane&-536870913;if(xe!==ie.lane?(xt&xe)===xe:(go&xe)===xe){var oe=ie.revertLane;if(oe===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),xe===Ol&&(me=!0);else if((go&oe)===oe){ie=ie.next,oe===Ol&&(me=!0);continue}else xe={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(z=q=xe,j=w):q=q.next=xe,lt.lanes|=oe,So|=oe;xe=ie.action,Sa&&u(w,xe),w=ie.hasEagerState?ie.eagerState:u(w,xe)}else oe={lane:xe,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(z=q=oe,j=w):q=q.next=oe,lt.lanes|=xe,So|=xe;ie=ie.next}while(ie!==null&&ie!==l);if(q===null?j=w:q.next=z,!Dr(w,o.memoizedState)&&(In=!0,me&&(u=jl,u!==null)))throw u;o.memoizedState=w,o.baseState=j,o.baseQueue=q,p.lastRenderedState=w}return v===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function gb(o){var l=wn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=u.dispatch,v=u.pending,w=l.memoizedState;if(v!==null){u.pending=null;var j=v=v.next;do w=o(w,j.action),j=j.next;while(j!==v);Dr(w,l.memoizedState)||(In=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,p]}function h1(o,l,u){var p=lt,v=wn(),w=Et;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=l();var j=!Dr((Lt||v).memoizedState,u);j&&(v.memoizedState=u,In=!0),v=v.queue;var z=p1.bind(null,p,v,o);if(yu(2048,8,z,[o]),v.getSnapshot!==l||j||Sn!==null&&Sn.memoizedState.tag&1){if(p.flags|=2048,Ml(9,af(),g1.bind(null,p,v,u,l),null),Gt===null)throw Error(r(349));w||(go&124)!==0||f1(p,l,u)}return u}function f1(o,l,u){o.flags|=16384,o={getSnapshot:l,value:u},l=lt.updateQueue,l===null?(l=db(),lt.updateQueue=l,l.stores=[o]):(u=l.stores,u===null?l.stores=[o]:u.push(o))}function g1(o,l,u,p){l.value=u,l.getSnapshot=p,m1(l)&&b1(o)}function p1(o,l,u){return u(function(){m1(l)&&b1(o)})}function m1(o){var l=o.getSnapshot;o=o.value;try{var u=l();return!Dr(o,u)}catch{return!0}}function b1(o){var l=_l(o,2);l!==null&&Hr(l,o,2)}function pb(o){var l=yr();if(typeof o=="function"){var u=o;if(o=u(),Sa){Nn(!0);try{u()}finally{Nn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:o},l}function v1(o,l,u,p){return o.baseState=u,fb(o,Lt,typeof p=="function"?p:Is)}function RN(o,l,u,p,v){if(cf(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){w.listeners.push(j)}};P.T!==null?u(!0):w.isTransition=!1,p(w),u=l.pending,u===null?(w.next=l.pending=w,y1(l,w)):(w.next=u.next,l.pending=u.next=w)}}function y1(o,l){var u=l.action,p=l.payload,v=o.state;if(l.isTransition){var w=P.T,j={};P.T=j;try{var z=u(v,p),q=P.S;q!==null&&q(j,z),x1(o,l,z)}catch(ie){mb(o,l,ie)}finally{P.T=w}}else try{w=u(v,p),x1(o,l,w)}catch(ie){mb(o,l,ie)}}function x1(o,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){S1(o,l,p)},function(p){return mb(o,l,p)}):S1(o,l,u)}function S1(o,l,u){l.status="fulfilled",l.value=u,w1(l),o.state=u,l=o.pending,l!==null&&(u=l.next,u===l?o.pending=null:(u=u.next,l.next=u,y1(o,u)))}function mb(o,l,u){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,w1(l),l=l.next;while(l!==p)}o.action=null}function w1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function C1(o,l){return l}function E1(o,l){if(Et){var u=Gt.formState;if(u!==null){e:{var p=lt;if(Et){if(on){t:{for(var v=on,w=Xi;v.nodeType!==8;){if(!w){v=null;break t}if(v=_i(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){on=_i(v.nextSibling),p=v.data==="F!";break e}}ba(p)}p=!1}p&&(l=u[0])}}return u=yr(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:l},u.queue=p,u=$1.bind(null,lt,p),p.dispatch=u,p=pb(!1),w=Sb.bind(null,lt,!1,p.queue),p=yr(),v={state:l,dispatch:null,action:o,pending:null},p.queue=v,u=RN.bind(null,lt,v,w,u),v.dispatch=u,p.memoizedState=o,[l,u,!1]}function A1(o){var l=wn();return _1(l,Lt,o)}function _1(o,l,u){if(l=fb(o,l,C1)[0],o=of(Is)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=vu(l)}catch(j){throw j===hu?Jh:j}else p=l;l=wn();var v=l.queue,w=v.dispatch;return u!==l.memoizedState&&(lt.flags|=2048,Ml(9,af(),kN.bind(null,v,u),null)),[p,w,o]}function kN(o,l){o.action=l}function T1(o){var l=wn(),u=Lt;if(u!==null)return _1(l,u,o);wn(),l=l.memoizedState,u=wn();var p=u.queue.dispatch;return u.memoizedState=o,[l,p,!1]}function Ml(o,l,u,p){return o={tag:o,create:u,deps:p,inst:l,next:null},l=lt.updateQueue,l===null&&(l=db(),lt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=o.next=o:(p=u.next,u.next=o,o.next=p,l.lastEffect=o),o}function af(){return{destroy:void 0,resource:void 0}}function R1(){return wn().memoizedState}function lf(o,l,u,p){var v=yr();p=p===void 0?null:p,lt.flags|=o,v.memoizedState=Ml(1|l,af(),u,p)}function yu(o,l,u,p){var v=wn();p=p===void 0?null:p;var w=v.memoizedState.inst;Lt!==null&&p!==null&&ob(p,Lt.memoizedState.deps)?v.memoizedState=Ml(l,w,u,p):(lt.flags|=o,v.memoizedState=Ml(1|l,w,u,p))}function k1(o,l){lf(8390656,8,o,l)}function O1(o,l){yu(2048,8,o,l)}function j1(o,l){return yu(4,2,o,l)}function P1(o,l){return yu(4,4,o,l)}function N1(o,l){if(typeof l=="function"){o=o();var u=l(o);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function I1(o,l,u){u=u!=null?u.concat([o]):null,yu(4,4,N1.bind(null,l,o),u)}function bb(){}function M1(o,l){var u=wn();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&ob(l,p[1])?p[0]:(u.memoizedState=[o,l],o)}function D1(o,l){var u=wn();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&ob(l,p[1]))return p[0];if(p=o(),Sa){Nn(!0);try{o()}finally{Nn(!1)}}return u.memoizedState=[p,l],p}function vb(o,l,u){return u===void 0||(go&1073741824)!==0?o.memoizedState=l:(o.memoizedState=u,o=Fw(),lt.lanes|=o,So|=o,u)}function L1(o,l,u,p){return Dr(u,l)?u:Pl.current!==null?(o=vb(o,u,p),Dr(o,l)||(In=!0),o):(go&42)===0?(In=!0,o.memoizedState=u):(o=Fw(),lt.lanes|=o,So|=o,l)}function z1(o,l,u,p,v){var w=W.p;W.p=w!==0&&8>w?w:8;var j=P.T,z={};P.T=z,Sb(o,!1,l,u);try{var q=v(),ie=P.S;if(ie!==null&&ie(z,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var me=AN(q,p);xu(o,l,me,Vr(o))}else xu(o,l,p,Vr(o))}catch(xe){xu(o,l,{then:function(){},status:"rejected",reason:xe},Vr())}finally{W.p=w,P.T=j}}function ON(){}function yb(o,l,u,p){if(o.tag!==5)throw Error(r(476));var v=F1(o).queue;z1(o,v,l,Q,u===null?ON:function(){return B1(o),u(p)})}function F1(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:Q},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:u},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function B1(o){var l=F1(o).next.queue;xu(o,l,{},Vr())}function xb(){return tr(zu)}function V1(){return wn().memoizedState}function H1(){return wn().memoizedState}function jN(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var u=Vr();o=ho(u);var p=fo(l,o,u);p!==null&&(Hr(p,l,u),gu(p,l,u)),l={cache:Km()},o.payload=l;return}l=l.return}}function PN(o,l,u){var p=Vr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},cf(o)?U1(l,u):(u=Bm(o,l,u,p),u!==null&&(Hr(u,o,p),W1(u,l,p)))}function $1(o,l,u){var p=Vr();xu(o,l,u,p)}function xu(o,l,u,p){var v={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cf(o))U1(l,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,z=w(j,u);if(v.hasEagerState=!0,v.eagerState=z,Dr(z,j))return Wh(o,l,v,0),Gt===null&&Uh(),!1}catch{}finally{}if(u=Bm(o,l,v,p),u!==null)return Hr(u,o,p),W1(u,l,p),!0}return!1}function Sb(o,l,u,p){if(p={lane:2,revertLane:Jb(),action:p,hasEagerState:!1,eagerState:null,next:null},cf(o)){if(l)throw Error(r(479))}else l=Bm(o,u,p,2),l!==null&&Hr(l,o,2)}function cf(o){var l=o.alternate;return o===lt||l!==null&&l===lt}function U1(o,l){Nl=nf=!0;var u=o.pending;u===null?l.next=l:(l.next=u.next,u.next=l),o.pending=l}function W1(o,l,u){if((u&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,u|=p,l.lanes=u,la(o,u)}}var uf={readContext:tr,use:sf,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},G1={readContext:tr,use:sf,useCallback:function(o,l){return yr().memoizedState=[o,l===void 0?null:l],o},useContext:tr,useEffect:k1,useImperativeHandle:function(o,l,u){u=u!=null?u.concat([o]):null,lf(4194308,4,N1.bind(null,l,o),u)},useLayoutEffect:function(o,l){return lf(4194308,4,o,l)},useInsertionEffect:function(o,l){lf(4,2,o,l)},useMemo:function(o,l){var u=yr();l=l===void 0?null:l;var p=o();if(Sa){Nn(!0);try{o()}finally{Nn(!1)}}return u.memoizedState=[p,l],p},useReducer:function(o,l,u){var p=yr();if(u!==void 0){var v=u(l);if(Sa){Nn(!0);try{u(l)}finally{Nn(!1)}}}else v=l;return p.memoizedState=p.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},p.queue=o,o=o.dispatch=PN.bind(null,lt,o),[p.memoizedState,o]},useRef:function(o){var l=yr();return o={current:o},l.memoizedState=o},useState:function(o){o=pb(o);var l=o.queue,u=$1.bind(null,lt,l);return l.dispatch=u,[o.memoizedState,u]},useDebugValue:bb,useDeferredValue:function(o,l){var u=yr();return vb(u,o,l)},useTransition:function(){var o=pb(!1);return o=z1.bind(null,lt,o.queue,!0,!1),yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,u){var p=lt,v=yr();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),Gt===null)throw Error(r(349));(xt&124)!==0||f1(p,l,u)}v.memoizedState=u;var w={value:u,getSnapshot:l};return v.queue=w,k1(p1.bind(null,p,w,o),[o]),p.flags|=2048,Ml(9,af(),g1.bind(null,p,w,u,l),null),u},useId:function(){var o=yr(),l=Gt.identifierPrefix;if(Et){var u=js,p=Os;u=(p&~(1<<32-Wt(p)-1)).toString(32)+u,l=""+l+"R"+u,u=rf++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=_N++,l=""+l+"r"+u.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:xb,useFormState:E1,useActionState:E1,useOptimistic:function(o){var l=yr();l.memoizedState=l.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Sb.bind(null,lt,!0,u),u.dispatch=l,[o,l]},useMemoCache:hb,useCacheRefresh:function(){return yr().memoizedState=jN.bind(null,lt)}},q1={readContext:tr,use:sf,useCallback:M1,useContext:tr,useEffect:O1,useImperativeHandle:I1,useInsertionEffect:j1,useLayoutEffect:P1,useMemo:D1,useReducer:of,useRef:R1,useState:function(){return of(Is)},useDebugValue:bb,useDeferredValue:function(o,l){var u=wn();return L1(u,Lt.memoizedState,o,l)},useTransition:function(){var o=of(Is)[0],l=wn().memoizedState;return[typeof o=="boolean"?o:vu(o),l]},useSyncExternalStore:h1,useId:V1,useHostTransitionStatus:xb,useFormState:A1,useActionState:A1,useOptimistic:function(o,l){var u=wn();return v1(u,Lt,o,l)},useMemoCache:hb,useCacheRefresh:H1},NN={readContext:tr,use:sf,useCallback:M1,useContext:tr,useEffect:O1,useImperativeHandle:I1,useInsertionEffect:j1,useLayoutEffect:P1,useMemo:D1,useReducer:gb,useRef:R1,useState:function(){return gb(Is)},useDebugValue:bb,useDeferredValue:function(o,l){var u=wn();return Lt===null?vb(u,o,l):L1(u,Lt.memoizedState,o,l)},useTransition:function(){var o=gb(Is)[0],l=wn().memoizedState;return[typeof o=="boolean"?o:vu(o),l]},useSyncExternalStore:h1,useId:V1,useHostTransitionStatus:xb,useFormState:T1,useActionState:T1,useOptimistic:function(o,l){var u=wn();return Lt!==null?v1(u,Lt,o,l):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:hb,useCacheRefresh:H1},Dl=null,Su=0;function df(o){var l=Su;return Su+=1,Dl===null&&(Dl=[]),i1(Dl,o,l)}function wu(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function hf(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function Y1(o){var l=o._init;return l(o._payload)}function X1(o){function l(J,X){if(o){var re=J.deletions;re===null?(J.deletions=[X],J.flags|=16):re.push(X)}}function u(J,X){if(!o)return null;for(;X!==null;)l(J,X),X=X.sibling;return null}function p(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function v(J,X){return J=ks(J,X),J.index=0,J.sibling=null,J}function w(J,X,re){return J.index=re,o?(re=J.alternate,re!==null?(re=re.index,re<X?(J.flags|=67108866,X):re):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function j(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function z(J,X,re,be){return X===null||X.tag!==6?(X=Hm(re,J.mode,be),X.return=J,X):(X=v(X,re),X.return=J,X)}function q(J,X,re,be){var Ne=re.type;return Ne===S?me(J,X,re.props.children,be,re.key):X!==null&&(X.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&Y1(Ne)===X.type)?(X=v(X,re.props),wu(X,re),X.return=J,X):(X=qh(re.type,re.key,re.props,null,J.mode,be),wu(X,re),X.return=J,X)}function ie(J,X,re,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=$m(re,J.mode,be),X.return=J,X):(X=v(X,re.children||[]),X.return=J,X)}function me(J,X,re,be,Ne){return X===null||X.tag!==7?(X=fa(re,J.mode,be,Ne),X.return=J,X):(X=v(X,re),X.return=J,X)}function xe(J,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Hm(""+X,J.mode,re),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return re=qh(X.type,X.key,X.props,null,J.mode,re),wu(re,X),re.return=J,re;case y:return X=$m(X,J.mode,re),X.return=J,X;case M:var be=X._init;return X=be(X._payload),xe(J,X,re)}if(G(X)||D(X))return X=fa(X,J.mode,re,null),X.return=J,X;if(typeof X.then=="function")return xe(J,df(X),re);if(X.$$typeof===T)return xe(J,Qh(J,X),re);hf(J,X)}return null}function oe(J,X,re,be){var Ne=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ne!==null?null:z(J,X,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===Ne?q(J,X,re,be):null;case y:return re.key===Ne?ie(J,X,re,be):null;case M:return Ne=re._init,re=Ne(re._payload),oe(J,X,re,be)}if(G(re)||D(re))return Ne!==null?null:me(J,X,re,be,null);if(typeof re.then=="function")return oe(J,X,df(re),be);if(re.$$typeof===T)return oe(J,X,Qh(J,re),be);hf(J,re)}return null}function ae(J,X,re,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return J=J.get(re)||null,z(X,J,""+be,Ne);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return J=J.get(be.key===null?re:be.key)||null,q(X,J,be,Ne);case y:return J=J.get(be.key===null?re:be.key)||null,ie(X,J,be,Ne);case M:var ut=be._init;return be=ut(be._payload),ae(J,X,re,be,Ne)}if(G(be)||D(be))return J=J.get(re)||null,me(X,J,be,Ne,null);if(typeof be.then=="function")return ae(J,X,re,df(be),Ne);if(be.$$typeof===T)return ae(J,X,re,Qh(X,be),Ne);hf(X,be)}return null}function Xe(J,X,re,be){for(var Ne=null,ut=null,Fe=X,Ge=X=0,Dn=null;Fe!==null&&Ge<re.length;Ge++){Fe.index>Ge?(Dn=Fe,Fe=null):Dn=Fe.sibling;var Ct=oe(J,Fe,re[Ge],be);if(Ct===null){Fe===null&&(Fe=Dn);break}o&&Fe&&Ct.alternate===null&&l(J,Fe),X=w(Ct,X,Ge),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct,Fe=Dn}if(Ge===re.length)return u(J,Fe),Et&&pa(J,Ge),Ne;if(Fe===null){for(;Ge<re.length;Ge++)Fe=xe(J,re[Ge],be),Fe!==null&&(X=w(Fe,X,Ge),ut===null?Ne=Fe:ut.sibling=Fe,ut=Fe);return Et&&pa(J,Ge),Ne}for(Fe=p(Fe);Ge<re.length;Ge++)Dn=ae(Fe,J,Ge,re[Ge],be),Dn!==null&&(o&&Dn.alternate!==null&&Fe.delete(Dn.key===null?Ge:Dn.key),X=w(Dn,X,Ge),ut===null?Ne=Dn:ut.sibling=Dn,ut=Dn);return o&&Fe.forEach(function(Oo){return l(J,Oo)}),Et&&pa(J,Ge),Ne}function We(J,X,re,be){if(re==null)throw Error(r(151));for(var Ne=null,ut=null,Fe=X,Ge=X=0,Dn=null,Ct=re.next();Fe!==null&&!Ct.done;Ge++,Ct=re.next()){Fe.index>Ge?(Dn=Fe,Fe=null):Dn=Fe.sibling;var Oo=oe(J,Fe,Ct.value,be);if(Oo===null){Fe===null&&(Fe=Dn);break}o&&Fe&&Oo.alternate===null&&l(J,Fe),X=w(Oo,X,Ge),ut===null?Ne=Oo:ut.sibling=Oo,ut=Oo,Fe=Dn}if(Ct.done)return u(J,Fe),Et&&pa(J,Ge),Ne;if(Fe===null){for(;!Ct.done;Ge++,Ct=re.next())Ct=xe(J,Ct.value,be),Ct!==null&&(X=w(Ct,X,Ge),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct);return Et&&pa(J,Ge),Ne}for(Fe=p(Fe);!Ct.done;Ge++,Ct=re.next())Ct=ae(Fe,J,Ge,Ct.value,be),Ct!==null&&(o&&Ct.alternate!==null&&Fe.delete(Ct.key===null?Ge:Ct.key),X=w(Ct,X,Ge),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct);return o&&Fe.forEach(function(II){return l(J,II)}),Et&&pa(J,Ge),Ne}function Ft(J,X,re,be){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var Ne=re.key;X!==null;){if(X.key===Ne){if(Ne=re.type,Ne===S){if(X.tag===7){u(J,X.sibling),be=v(X,re.props.children),be.return=J,J=be;break e}}else if(X.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&Y1(Ne)===X.type){u(J,X.sibling),be=v(X,re.props),wu(be,re),be.return=J,J=be;break e}u(J,X);break}else l(J,X);X=X.sibling}re.type===S?(be=fa(re.props.children,J.mode,be,re.key),be.return=J,J=be):(be=qh(re.type,re.key,re.props,null,J.mode,be),wu(be,re),be.return=J,J=be)}return j(J);case y:e:{for(Ne=re.key;X!==null;){if(X.key===Ne)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(J,X.sibling),be=v(X,re.children||[]),be.return=J,J=be;break e}else{u(J,X);break}else l(J,X);X=X.sibling}be=$m(re,J.mode,be),be.return=J,J=be}return j(J);case M:return Ne=re._init,re=Ne(re._payload),Ft(J,X,re,be)}if(G(re))return Xe(J,X,re,be);if(D(re)){if(Ne=D(re),typeof Ne!="function")throw Error(r(150));return re=Ne.call(re),We(J,X,re,be)}if(typeof re.then=="function")return Ft(J,X,df(re),be);if(re.$$typeof===T)return Ft(J,X,Qh(J,re),be);hf(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(J,X.sibling),be=v(X,re),be.return=J,J=be):(u(J,X),be=Hm(re,J.mode,be),be.return=J,J=be),j(J)):u(J,X)}return function(J,X,re,be){try{Su=0;var Ne=Ft(J,X,re,be);return Dl=null,Ne}catch(Fe){if(Fe===hu||Fe===Jh)throw Fe;var ut=Lr(29,Fe,null,J.mode);return ut.lanes=be,ut.return=J,ut}finally{}}}var Ll=X1(!0),K1=X1(!1),ci=Z(null),Ki=null;function po(o){var l=o.alternate;ce(On,On.current&1),ce(ci,o),Ki===null&&(l===null||Pl.current!==null||l.memoizedState!==null)&&(Ki=o)}function Q1(o){if(o.tag===22){if(ce(On,On.current),ce(ci,o),Ki===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ki=o)}}else mo()}function mo(){ce(On,On.current),ce(ci,ci.current)}function Ms(o){fe(ci),Ki===o&&(Ki=null),fe(On)}var On=Z(0);function ff(o){for(var l=o;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||d0(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function wb(o,l,u,p){l=o.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Cb={enqueueSetState:function(o,l,u){o=o._reactInternals;var p=Vr(),v=ho(p);v.payload=l,u!=null&&(v.callback=u),l=fo(o,v,p),l!==null&&(Hr(l,o,p),gu(l,o,p))},enqueueReplaceState:function(o,l,u){o=o._reactInternals;var p=Vr(),v=ho(p);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=fo(o,v,p),l!==null&&(Hr(l,o,p),gu(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var u=Vr(),p=ho(u);p.tag=2,l!=null&&(p.callback=l),l=fo(o,p,u),l!==null&&(Hr(l,o,u),gu(l,o,u))}};function Z1(o,l,u,p,v,w,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,j):l.prototype&&l.prototype.isPureReactComponent?!iu(u,p)||!iu(v,w):!0}function J1(o,l,u,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==o&&Cb.enqueueReplaceState(l,l.state,null)}function wa(o,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(o=o.defaultProps){u===l&&(u=g({},u));for(var v in o)u[v]===void 0&&(u[v]=o[v])}return u}var gf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function ew(o){gf(o)}function tw(o){console.error(o)}function nw(o){gf(o)}function pf(o,l){try{var u=o.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function rw(o,l,u){try{var p=o.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Eb(o,l,u){return u=ho(u),u.tag=3,u.payload={element:null},u.callback=function(){pf(o,l)},u}function iw(o){return o=ho(o),o.tag=3,o}function sw(o,l,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=p.value;o.payload=function(){return v(w)},o.callback=function(){rw(l,u,p)}}var j=u.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){rw(l,u,p),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function IN(o,l,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&cu(l,u,v,!0),u=ci.current,u!==null){switch(u.tag){case 13:return Ki===null?Yb():u.alternate===null&&an===0&&(an=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===Jm?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),Kb(o,p,v)),!1;case 22:return u.flags|=65536,p===Jm?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),Kb(o,p,v)),!1}throw Error(r(435,u.tag))}return Kb(o,p,v),Yb(),!1}if(Et)return l=ci.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,p!==Gm&&(o=Error(r(422),{cause:p}),lu(si(o,u)))):(p!==Gm&&(l=Error(r(423),{cause:p}),lu(si(l,u))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,p=si(p,u),v=Eb(o.stateNode,p,v),nb(o,v),an!==4&&(an=2)),!1;var w=Error(r(520),{cause:p});if(w=si(w,u),ku===null?ku=[w]:ku.push(w),an!==4&&(an=2),l===null)return!0;p=si(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,o=v&-v,u.lanes|=o,o=Eb(u.stateNode,p,o),nb(u,o),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wo===null||!wo.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=iw(v),sw(v,o,u,p),nb(u,v),!1}u=u.return}while(u!==null);return!1}var ow=Error(r(461)),In=!1;function Wn(o,l,u,p){l.child=o===null?K1(l,null,u,p):Ll(l,o.child,u,p)}function aw(o,l,u,p,v){u=u.render;var w=l.ref;if("ref"in p){var j={};for(var z in p)z!=="ref"&&(j[z]=p[z])}else j=p;return ya(l),p=ab(o,l,u,j,w,v),z=lb(),o!==null&&!In?(cb(o,l,v),Ds(o,l,v)):(Et&&z&&Um(l),l.flags|=1,Wn(o,l,p,v),l.child)}function lw(o,l,u,p,v){if(o===null){var w=u.type;return typeof w=="function"&&!Vm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,cw(o,l,w,p,v)):(o=qh(u.type,null,p,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!Pb(o,v)){var j=w.memoizedProps;if(u=u.compare,u=u!==null?u:iu,u(j,p)&&o.ref===l.ref)return Ds(o,l,v)}return l.flags|=1,o=ks(w,p),o.ref=l.ref,o.return=l,l.child=o}function cw(o,l,u,p,v){if(o!==null){var w=o.memoizedProps;if(iu(w,p)&&o.ref===l.ref)if(In=!1,l.pendingProps=p=w,Pb(o,v))(o.flags&131072)!==0&&(In=!0);else return l.lanes=o.lanes,Ds(o,l,v)}return Ab(o,l,u,p,v)}function uw(o,l,u){var p=l.pendingProps,v=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=w!==null?w.baseLanes|u:u,o!==null){for(v=l.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~p}else l.childLanes=0,l.child=null;return dw(o,l,p,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zh(l,w!==null?w.cachePool:null),w!==null?c1(l,w):ib(),Q1(l);else return l.lanes=l.childLanes=536870912,dw(o,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(Zh(l,w.cachePool),c1(l,w),mo(),l.memoizedState=null):(o!==null&&Zh(l,null),ib(),mo());return Wn(o,l,v,u),l.child}function dw(o,l,u,p){var v=Zm();return v=v===null?null:{parent:kn._currentValue,pool:v},l.memoizedState={baseLanes:u,cachePool:v},o!==null&&Zh(l,null),ib(),Q1(l),o!==null&&cu(o,l,p,!0),null}function mf(o,l){var u=l.ref;if(u===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(l.flags|=4194816)}}function Ab(o,l,u,p,v){return ya(l),u=ab(o,l,u,p,void 0,v),p=lb(),o!==null&&!In?(cb(o,l,v),Ds(o,l,v)):(Et&&p&&Um(l),l.flags|=1,Wn(o,l,u,v),l.child)}function hw(o,l,u,p,v,w){return ya(l),l.updateQueue=null,u=d1(l,p,u,v),u1(o),p=lb(),o!==null&&!In?(cb(o,l,w),Ds(o,l,w)):(Et&&p&&Um(l),l.flags|=1,Wn(o,l,u,w),l.child)}function fw(o,l,u,p,v){if(ya(l),l.stateNode===null){var w=Tl,j=u.contextType;typeof j=="object"&&j!==null&&(w=tr(j)),w=new u(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Cb,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},eb(l),j=u.contextType,w.context=typeof j=="object"&&j!==null?tr(j):Tl,w.state=l.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(wb(l,u,j,p),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(j=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),j!==w.state&&Cb.enqueueReplaceState(w,w.state,null),mu(l,p,w,v),pu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){w=l.stateNode;var z=l.memoizedProps,q=wa(u,z);w.props=q;var ie=w.context,me=u.contextType;j=Tl,typeof me=="object"&&me!==null&&(j=tr(me));var xe=u.getDerivedStateFromProps;me=typeof xe=="function"||typeof w.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,me||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z||ie!==j)&&J1(l,w,p,j),uo=!1;var oe=l.memoizedState;w.state=oe,mu(l,p,w,v),pu(),ie=l.memoizedState,z||oe!==ie||uo?(typeof xe=="function"&&(wb(l,u,xe,p),ie=l.memoizedState),(q=uo||Z1(l,u,q,p,oe,ie,j))?(me||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ie),w.props=p,w.state=ie,w.context=j,p=q):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,tb(o,l),j=l.memoizedProps,me=wa(u,j),w.props=me,xe=l.pendingProps,oe=w.context,ie=u.contextType,q=Tl,typeof ie=="object"&&ie!==null&&(q=tr(ie)),z=u.getDerivedStateFromProps,(ie=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==xe||oe!==q)&&J1(l,w,p,q),uo=!1,oe=l.memoizedState,w.state=oe,mu(l,p,w,v),pu();var ae=l.memoizedState;j!==xe||oe!==ae||uo||o!==null&&o.dependencies!==null&&Kh(o.dependencies)?(typeof z=="function"&&(wb(l,u,z,p),ae=l.memoizedState),(me=uo||Z1(l,u,me,p,oe,ae,q)||o!==null&&o.dependencies!==null&&Kh(o.dependencies))?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ae,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ae,q)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ae),w.props=p,w.state=ae,w.context=q,p=me):(typeof w.componentDidUpdate!="function"||j===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),p=!1)}return w=p,mf(o,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&p?(l.child=Ll(l,o.child,null,v),l.child=Ll(l,null,u,v)):Wn(o,l,u,v),l.memoizedState=w.state,o=l.child):o=Ds(o,l,v),o}function gw(o,l,u,p){return au(),l.flags|=256,Wn(o,l,u,p),l.child}var _b={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tb(o){return{baseLanes:o,cachePool:t1()}}function Rb(o,l,u){return o=o!==null?o.childLanes&~u:0,l&&(o|=ui),o}function pw(o,l,u){var p=l.pendingProps,v=!1,w=(l.flags&128)!==0,j;if((j=w)||(j=o!==null&&o.memoizedState===null?!1:(On.current&2)!==0),j&&(v=!0,l.flags&=-129),j=(l.flags&32)!==0,l.flags&=-33,o===null){if(Et){if(v?po(l):mo(),Et){var z=on,q;if(q=z){e:{for(q=z,z=Xi;q.nodeType!==8;){if(!z){z=null;break e}if(q=_i(q.nextSibling),q===null){z=null;break e}}z=q}z!==null?(l.memoizedState={dehydrated:z,treeContext:ga!==null?{id:Os,overflow:js}:null,retryLane:536870912,hydrationErrors:null},q=Lr(18,null,null,0),q.stateNode=z,q.return=l,l.child=q,cr=l,on=null,q=!0):q=!1}q||ba(l)}if(z=l.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return d0(z)?l.lanes=32:l.lanes=536870912,null;Ms(l)}return z=p.children,p=p.fallback,v?(mo(),v=l.mode,z=bf({mode:"hidden",children:z},v),p=fa(p,v,u,null),z.return=l,p.return=l,z.sibling=p,l.child=z,v=l.child,v.memoizedState=Tb(u),v.childLanes=Rb(o,j,u),l.memoizedState=_b,p):(po(l),kb(l,z))}if(q=o.memoizedState,q!==null&&(z=q.dehydrated,z!==null)){if(w)l.flags&256?(po(l),l.flags&=-257,l=Ob(o,l,u)):l.memoizedState!==null?(mo(),l.child=o.child,l.flags|=128,l=null):(mo(),v=p.fallback,z=l.mode,p=bf({mode:"visible",children:p.children},z),v=fa(v,z,u,null),v.flags|=2,p.return=l,v.return=l,p.sibling=v,l.child=p,Ll(l,o.child,null,u),p=l.child,p.memoizedState=Tb(u),p.childLanes=Rb(o,j,u),l.memoizedState=_b,l=v);else if(po(l),d0(z)){if(j=z.nextSibling&&z.nextSibling.dataset,j)var ie=j.dgst;j=ie,p=Error(r(419)),p.stack="",p.digest=j,lu({value:p,source:null,stack:null}),l=Ob(o,l,u)}else if(In||cu(o,l,u,!1),j=(u&o.childLanes)!==0,In||j){if(j=Gt,j!==null&&(p=u&-u,p=(p&42)!==0?1:Xc(p),p=(p&(j.suspendedLanes|u))!==0?0:p,p!==0&&p!==q.retryLane))throw q.retryLane=p,_l(o,p),Hr(j,o,p),ow;z.data==="$?"||Yb(),l=Ob(o,l,u)}else z.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=q.treeContext,on=_i(z.nextSibling),cr=l,Et=!0,ma=null,Xi=!1,o!==null&&(ai[li++]=Os,ai[li++]=js,ai[li++]=ga,Os=o.id,js=o.overflow,ga=l),l=kb(l,p.children),l.flags|=4096);return l}return v?(mo(),v=p.fallback,z=l.mode,q=o.child,ie=q.sibling,p=ks(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ie!==null?v=ks(ie,v):(v=fa(v,z,u,null),v.flags|=2),v.return=l,p.return=l,p.sibling=v,l.child=p,p=v,v=l.child,z=o.child.memoizedState,z===null?z=Tb(u):(q=z.cachePool,q!==null?(ie=kn._currentValue,q=q.parent!==ie?{parent:ie,pool:ie}:q):q=t1(),z={baseLanes:z.baseLanes|u,cachePool:q}),v.memoizedState=z,v.childLanes=Rb(o,j,u),l.memoizedState=_b,p):(po(l),u=o.child,o=u.sibling,u=ks(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,o!==null&&(j=l.deletions,j===null?(l.deletions=[o],l.flags|=16):j.push(o)),l.child=u,l.memoizedState=null,u)}function kb(o,l){return l=bf({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function bf(o,l){return o=Lr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ob(o,l,u){return Ll(l,o.child,null,u),o=kb(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function mw(o,l,u){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Ym(o.return,l,u)}function jb(o,l,u,p,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=v)}function bw(o,l,u){var p=l.pendingProps,v=p.revealOrder,w=p.tail;if(Wn(o,l,p.children,u),p=On.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mw(o,u,l);else if(o.tag===19)mw(o,u,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(ce(On,p),v){case"forwards":for(u=l.child,v=null;u!==null;)o=u.alternate,o!==null&&ff(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),jb(l,!1,v,u,w);break;case"backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&ff(o)===null){l.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}jb(l,!0,u,null,w);break;case"together":jb(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ds(o,l,u){if(o!==null&&(l.dependencies=o.dependencies),So|=l.lanes,(u&l.childLanes)===0)if(o!==null){if(cu(o,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,u=ks(o,o.pendingProps),l.child=u,u.return=l;o.sibling!==null;)o=o.sibling,u=u.sibling=ks(o,o.pendingProps),u.return=l;u.sibling=null}return l.child}function Pb(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Kh(o)))}function MN(o,l,u){switch(l.tag){case 3:ue(l,l.stateNode.containerInfo),co(l,kn,o.memoizedState.cache),au();break;case 27:case 5:Ee(l);break;case 4:ue(l,l.stateNode.containerInfo);break;case 10:co(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(po(l),l.flags|=128,null):(u&l.child.childLanes)!==0?pw(o,l,u):(po(l),o=Ds(o,l,u),o!==null?o.sibling:null);po(l);break;case 19:var v=(o.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(cu(o,l,u,!1),p=(u&l.childLanes)!==0),v){if(p)return bw(o,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ce(On,On.current),p)break;return null;case 22:case 23:return l.lanes=0,uw(o,l,u);case 24:co(l,kn,o.memoizedState.cache)}return Ds(o,l,u)}function vw(o,l,u){if(o!==null)if(o.memoizedProps!==l.pendingProps)In=!0;else{if(!Pb(o,u)&&(l.flags&128)===0)return In=!1,MN(o,l,u);In=(o.flags&131072)!==0}else In=!1,Et&&(l.flags&1048576)!==0&&YS(l,Xh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,v=p._init;if(p=v(p._payload),l.type=p,typeof p=="function")Vm(p)?(o=wa(p,o),l.tag=1,l=fw(null,l,p,o,u)):(l.tag=0,l=Ab(null,l,p,o,u));else{if(p!=null){if(v=p.$$typeof,v===R){l.tag=11,l=aw(null,l,p,o,u);break e}else if(v===I){l.tag=14,l=lw(null,l,p,o,u);break e}}throw l=H(p)||p,Error(r(306,l,""))}}return l;case 0:return Ab(o,l,l.type,l.pendingProps,u);case 1:return p=l.type,v=wa(p,l.pendingProps),fw(o,l,p,v,u);case 3:e:{if(ue(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;v=w.element,tb(o,l),mu(l,p,null,u);var j=l.memoizedState;if(p=j.cache,co(l,kn,p),p!==w.cache&&Xm(l,[kn],u,!0),pu(),p=j.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:j.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=gw(o,l,p,u);break e}else if(p!==v){v=si(Error(r(424)),l),lu(v),l=gw(o,l,p,u);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(on=_i(o.firstChild),cr=l,Et=!0,ma=null,Xi=!0,u=K1(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(au(),p===v){l=Ds(o,l,u);break e}Wn(o,l,p,u)}l=l.child}return l;case 26:return mf(o,l),o===null?(u=wC(l.type,null,l.pendingProps,null))?l.memoizedState=u:Et||(u=l.type,o=l.pendingProps,p=jf(Re.current).createElement(u),p[we]=l,p[ke]=o,qn(p,u,o),st(p),l.stateNode=p):l.memoizedState=wC(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ee(l),o===null&&Et&&(p=l.stateNode=yC(l.type,l.pendingProps,Re.current),cr=l,Xi=!0,v=on,Ao(l.type)?(h0=v,on=_i(p.firstChild)):on=v),Wn(o,l,l.pendingProps.children,u),mf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Et&&((v=p=on)&&(p=cI(p,l.type,l.pendingProps,Xi),p!==null?(l.stateNode=p,cr=l,on=_i(p.firstChild),Xi=!1,v=!0):v=!1),v||ba(l)),Ee(l),v=l.type,w=l.pendingProps,j=o!==null?o.memoizedProps:null,p=w.children,l0(v,w)?p=null:j!==null&&l0(v,j)&&(l.flags|=32),l.memoizedState!==null&&(v=ab(o,l,TN,null,null,u),zu._currentValue=v),mf(o,l),Wn(o,l,p,u),l.child;case 6:return o===null&&Et&&((o=u=on)&&(u=uI(u,l.pendingProps,Xi),u!==null?(l.stateNode=u,cr=l,on=null,o=!0):o=!1),o||ba(l)),null;case 13:return pw(o,l,u);case 4:return ue(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=Ll(l,null,p,u):Wn(o,l,p,u),l.child;case 11:return aw(o,l,l.type,l.pendingProps,u);case 7:return Wn(o,l,l.pendingProps,u),l.child;case 8:return Wn(o,l,l.pendingProps.children,u),l.child;case 12:return Wn(o,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,co(l,l.type,p.value),Wn(o,l,p.children,u),l.child;case 9:return v=l.type._context,p=l.pendingProps.children,ya(l),v=tr(v),p=p(v),l.flags|=1,Wn(o,l,p,u),l.child;case 14:return lw(o,l,l.type,l.pendingProps,u);case 15:return cw(o,l,l.type,l.pendingProps,u);case 19:return bw(o,l,u);case 31:return p=l.pendingProps,u=l.mode,p={mode:p.mode,children:p.children},o===null?(u=bf(p,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=ks(o.child,p),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return uw(o,l,u);case 24:return ya(l),p=tr(kn),o===null?(v=Zm(),v===null&&(v=Gt,w=Km(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),l.memoizedState={parent:p,cache:v},eb(l),co(l,kn,v)):((o.lanes&u)!==0&&(tb(o,l),mu(l,null,null,u),pu()),v=o.memoizedState,w=l.memoizedState,v.parent!==p?(v={parent:p,cache:p},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),co(l,kn,p)):(p=w.cache,co(l,kn,p),p!==v.cache&&Xm(l,[kn],u,!0))),Wn(o,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ls(o){o.flags|=4}function yw(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!TC(l)){if(l=ci.current,l!==null&&((xt&4194048)===xt?Ki!==null:(xt&62914560)!==xt&&(xt&536870912)===0||l!==Ki))throw fu=Jm,n1;o.flags|=8192}}function vf(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?jh():536870912,o.lanes|=l,Vl|=l)}function Cu(o,l){if(!Et)switch(o.tailMode){case"hidden":l=o.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function tn(o){var l=o.alternate!==null&&o.alternate.child===o.child,u=0,p=0;if(l)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=p,o.childLanes=u,l}function DN(o,l,u){var p=l.pendingProps;switch(Wm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(l),null;case 1:return tn(l),null;case 3:return u=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ns(kn),pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(ou(l)?Ls(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,QS())),tn(l),null;case 26:return u=l.memoizedState,o===null?(Ls(l),u!==null?(tn(l),yw(l,u)):(tn(l),l.flags&=-16777217)):u?u!==o.memoizedState?(Ls(l),tn(l),yw(l,u)):(tn(l),l.flags&=-16777217):(o.memoizedProps!==p&&Ls(l),tn(l),l.flags&=-16777217),null;case 27:te(l),u=Re.current;var v=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ls(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return tn(l),null}o=_e.current,ou(l)?XS(l):(o=yC(v,p,u),l.stateNode=o,Ls(l))}return tn(l),null;case 5:if(te(l),u=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ls(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return tn(l),null}if(o=_e.current,ou(l))XS(l);else{switch(v=jf(Re.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?v.createElement(u,{is:p.is}):v.createElement(u)}}o[we]=l,o[ke]=p;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=o;e:switch(qn(o,u,p),u){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ls(l)}}return tn(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&Ls(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Re.current,ou(l)){if(o=l.stateNode,u=l.memoizedProps,p=null,v=cr,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}o[we]=l,o=!!(o.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||hC(o.nodeValue,u)),o||ba(l)}else o=jf(o).createTextNode(p),o[we]=l,l.stateNode=o}return tn(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=ou(l),p!==null&&p.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[we]=l}else au(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;tn(l),v=!1}else v=QS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Ms(l),l):(Ms(l),null)}if(Ms(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=p!==null,o=o!==null&&o.memoizedState!==null,u){p=l.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==v&&(p.flags|=2048)}return u!==o&&u&&(l.child.flags|=8192),vf(l,l.updateQueue),tn(l),null;case 4:return pe(),o===null&&r0(l.stateNode.containerInfo),tn(l),null;case 10:return Ns(l.type),tn(l),null;case 19:if(fe(On),v=l.memoizedState,v===null)return tn(l),null;if(p=(l.flags&128)!==0,w=v.rendering,w===null)if(p)Cu(v,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=ff(o),w!==null){for(l.flags|=128,Cu(v,!1),o=w.updateQueue,l.updateQueue=o,vf(l,o),l.subtreeFlags=0,o=u,u=l.child;u!==null;)qS(u,o),u=u.sibling;return ce(On,On.current&1|2),l.child}o=o.sibling}v.tail!==null&&nt()>Sf&&(l.flags|=128,p=!0,Cu(v,!1),l.lanes=4194304)}else{if(!p)if(o=ff(w),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,vf(l,o),Cu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Et)return tn(l),null}else 2*nt()-v.renderingStartTime>Sf&&u!==536870912&&(l.flags|=128,p=!0,Cu(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(o=v.last,o!==null?o.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=nt(),l.sibling=null,o=On.current,ce(On,p?o&1|2:o&1),l):(tn(l),null);case 22:case 23:return Ms(l),sb(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(tn(l),l.subtreeFlags&6&&(l.flags|=8192)):tn(l),u=l.updateQueue,u!==null&&vf(l,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),o!==null&&fe(xa),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ns(kn),tn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function LN(o,l){switch(Wm(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ns(kn),pe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return te(l),null;case 13:if(Ms(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));au()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return fe(On),null;case 4:return pe(),null;case 10:return Ns(l.type),null;case 22:case 23:return Ms(l),sb(),o!==null&&fe(xa),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ns(kn),null;case 25:return null;default:return null}}function xw(o,l){switch(Wm(l),l.tag){case 3:Ns(kn),pe();break;case 26:case 27:case 5:te(l);break;case 4:pe();break;case 13:Ms(l);break;case 19:fe(On);break;case 10:Ns(l.type);break;case 22:case 23:Ms(l),sb(),o!==null&&fe(xa);break;case 24:Ns(kn)}}function Eu(o,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&o)===o){p=void 0;var w=u.create,j=u.inst;p=w(),j.destroy=p}u=u.next}while(u!==v)}}catch(z){Vt(l,l.return,z)}}function bo(o,l,u){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next;p=w;do{if((p.tag&o)===o){var j=p.inst,z=j.destroy;if(z!==void 0){j.destroy=void 0,v=l;var q=u,ie=z;try{ie()}catch(me){Vt(v,q,me)}}}p=p.next}while(p!==w)}}catch(me){Vt(l,l.return,me)}}function Sw(o){var l=o.updateQueue;if(l!==null){var u=o.stateNode;try{l1(l,u)}catch(p){Vt(o,o.return,p)}}}function ww(o,l,u){u.props=wa(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(p){Vt(o,l,p)}}function Au(o,l){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof u=="function"?o.refCleanup=u(p):u.current=p}}catch(v){Vt(o,l,v)}}function Qi(o,l){var u=o.ref,p=o.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Vt(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Vt(o,l,v)}else u.current=null}function Cw(o){var l=o.type,u=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Vt(o,o.return,v)}}function Nb(o,l,u){try{var p=o.stateNode;iI(p,o.type,u,l),p[ke]=l}catch(v){Vt(o,o.return,v)}}function Ew(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ao(o.type)||o.tag===4}function Ib(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ew(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ao(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Mb(o,l,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(o),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Of));else if(p!==4&&(p===27&&Ao(o.type)&&(u=o.stateNode,l=null),o=o.child,o!==null))for(Mb(o,l,u),o=o.sibling;o!==null;)Mb(o,l,u),o=o.sibling}function yf(o,l,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?u.insertBefore(o,l):u.appendChild(o);else if(p!==4&&(p===27&&Ao(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(yf(o,l,u),o=o.sibling;o!==null;)yf(o,l,u),o=o.sibling}function Aw(o){var l=o.stateNode,u=o.memoizedProps;try{for(var p=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);qn(l,p,u),l[we]=o,l[ke]=u}catch(w){Vt(o,o.return,w)}}var zs=!1,hn=!1,Db=!1,_w=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function zN(o,l){if(o=o.containerInfo,o0=Lf,o=LS(o),Im(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var j=0,z=-1,q=-1,ie=0,me=0,xe=o,oe=null;t:for(;;){for(var ae;xe!==u||v!==0&&xe.nodeType!==3||(z=j+v),xe!==w||p!==0&&xe.nodeType!==3||(q=j+p),xe.nodeType===3&&(j+=xe.nodeValue.length),(ae=xe.firstChild)!==null;)oe=xe,xe=ae;for(;;){if(xe===o)break t;if(oe===u&&++ie===v&&(z=j),oe===w&&++me===p&&(q=j),(ae=xe.nextSibling)!==null)break;xe=oe,oe=xe.parentNode}xe=ae}u=z===-1||q===-1?null:{start:z,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(a0={focusedElem:o,selectionRange:u},Lf=!1,Mn=l;Mn!==null;)if(l=Mn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,Mn=o;else for(;Mn!==null;){switch(l=Mn,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,u=l,v=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Xe=wa(u.type,v,u.elementType===u.type);o=p.getSnapshotBeforeUpdate(Xe,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(We){Vt(u,u.return,We)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,u=o.nodeType,u===9)u0(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":u0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Mn=o;break}Mn=l.return}}function Tw(o,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:vo(o,u),p&4&&Eu(5,u);break;case 1:if(vo(o,u),p&4)if(o=u.stateNode,l===null)try{o.componentDidMount()}catch(j){Vt(u,u.return,j)}else{var v=wa(u.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(j){Vt(u,u.return,j)}}p&64&&Sw(u),p&512&&Au(u,u.return);break;case 3:if(vo(o,u),p&64&&(o=u.updateQueue,o!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{l1(o,l)}catch(j){Vt(u,u.return,j)}}break;case 27:l===null&&p&4&&Aw(u);case 26:case 5:vo(o,u),l===null&&p&4&&Cw(u),p&512&&Au(u,u.return);break;case 12:vo(o,u);break;case 13:vo(o,u),p&4&&Ow(o,u),p&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=qN.bind(null,u),dI(o,u))));break;case 22:if(p=u.memoizedState!==null||zs,!p){l=l!==null&&l.memoizedState!==null||hn,v=zs;var w=hn;zs=p,(hn=l)&&!w?yo(o,u,(u.subtreeFlags&8772)!==0):vo(o,u),zs=v,hn=w}break;case 30:break;default:vo(o,u)}}function Rw(o){var l=o.alternate;l!==null&&(o.alternate=null,Rw(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ze(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Kt=null,xr=!1;function Fs(o,l,u){for(u=u.child;u!==null;)kw(o,l,u),u=u.sibling}function kw(o,l,u){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(er,u)}catch{}switch(u.tag){case 26:hn||Qi(u,l),Fs(o,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||Qi(u,l);var p=Kt,v=xr;Ao(u.type)&&(Kt=u.stateNode,xr=!1),Fs(o,l,u),Iu(u.stateNode),Kt=p,xr=v;break;case 5:hn||Qi(u,l);case 6:if(p=Kt,v=xr,Kt=null,Fs(o,l,u),Kt=p,xr=v,Kt!==null)if(xr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(w){Vt(u,l,w)}else try{Kt.removeChild(u.stateNode)}catch(w){Vt(u,l,w)}break;case 18:Kt!==null&&(xr?(o=Kt,bC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Hu(o)):bC(Kt,u.stateNode));break;case 4:p=Kt,v=xr,Kt=u.stateNode.containerInfo,xr=!0,Fs(o,l,u),Kt=p,xr=v;break;case 0:case 11:case 14:case 15:hn||bo(2,u,l),hn||bo(4,u,l),Fs(o,l,u);break;case 1:hn||(Qi(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&ww(u,l,p)),Fs(o,l,u);break;case 21:Fs(o,l,u);break;case 22:hn=(p=hn)||u.memoizedState!==null,Fs(o,l,u),hn=p;break;default:Fs(o,l,u)}}function Ow(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Hu(o)}catch(u){Vt(l,l.return,u)}}function FN(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new _w),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new _w),l;default:throw Error(r(435,o.tag))}}function Lb(o,l){var u=FN(o);l.forEach(function(p){var v=YN.bind(null,o,p);u.has(p)||(u.add(p),p.then(v,v))})}function zr(o,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],w=o,j=l,z=j;e:for(;z!==null;){switch(z.tag){case 27:if(Ao(z.type)){Kt=z.stateNode,xr=!1;break e}break;case 5:Kt=z.stateNode,xr=!1;break e;case 3:case 4:Kt=z.stateNode.containerInfo,xr=!0;break e}z=z.return}if(Kt===null)throw Error(r(160));kw(w,j,v),Kt=null,xr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)jw(l,o),l=l.sibling}var Ai=null;function jw(o,l){var u=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:zr(l,o),Fr(o),p&4&&(bo(3,o,o.return),Eu(3,o),bo(5,o,o.return));break;case 1:zr(l,o),Fr(o),p&512&&(hn||u===null||Qi(u,u.return)),p&64&&zs&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Ai;if(zr(l,o),Fr(o),p&512&&(hn||u===null||Qi(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=o.memoizedState,u===null)if(p===null)if(o.stateNode===null){e:{p=o.type,u=o.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":w=v.getElementsByTagName("title")[0],(!w||w[De]||w[we]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(p),v.head.insertBefore(w,v.querySelector("head > title"))),qn(w,p,u),w[we]=o,st(w),p=w;break e;case"link":var j=AC("link","href",v).get(p+(u.href||""));if(j){for(var z=0;z<j.length;z++)if(w=j[z],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){j.splice(z,1);break t}}w=v.createElement(p),qn(w,p,u),v.head.appendChild(w);break;case"meta":if(j=AC("meta","content",v).get(p+(u.content||""))){for(z=0;z<j.length;z++)if(w=j[z],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){j.splice(z,1);break t}}w=v.createElement(p),qn(w,p,u),v.head.appendChild(w);break;default:throw Error(r(468,p))}w[we]=o,st(w),p=w}o.stateNode=p}else _C(v,o.type,o.stateNode);else o.stateNode=EC(v,p,o.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?_C(v,o.type,o.stateNode):EC(v,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Nb(o,o.memoizedProps,u.memoizedProps)}break;case 27:zr(l,o),Fr(o),p&512&&(hn||u===null||Qi(u,u.return)),u!==null&&p&4&&Nb(o,o.memoizedProps,u.memoizedProps);break;case 5:if(zr(l,o),Fr(o),p&512&&(hn||u===null||Qi(u,u.return)),o.flags&32){v=o.stateNode;try{yl(v,"")}catch(ae){Vt(o,o.return,ae)}}p&4&&o.stateNode!=null&&(v=o.memoizedProps,Nb(o,v,u!==null?u.memoizedProps:v)),p&1024&&(Db=!0);break;case 6:if(zr(l,o),Fr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,u=o.stateNode;try{u.nodeValue=p}catch(ae){Vt(o,o.return,ae)}}break;case 3:if(If=null,v=Ai,Ai=Pf(l.containerInfo),zr(l,o),Ai=v,Fr(o),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Hu(l.containerInfo)}catch(ae){Vt(o,o.return,ae)}Db&&(Db=!1,Pw(o));break;case 4:p=Ai,Ai=Pf(o.stateNode.containerInfo),zr(l,o),Fr(o),Ai=p;break;case 12:zr(l,o),Fr(o);break;case 13:zr(l,o),Fr(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($b=nt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Lb(o,p)));break;case 22:v=o.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,ie=zs,me=hn;if(zs=ie||v,hn=me||q,zr(l,o),hn=me,zs=ie,Fr(o),p&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||q||zs||hn||Ca(o)),u=null,l=o;;){if(l.tag===5||l.tag===26){if(u===null){q=u=l;try{if(w=q.stateNode,v)j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{z=q.stateNode;var xe=q.memoizedProps.style,oe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;z.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){Vt(q,q.return,ae)}}}else if(l.tag===6){if(u===null){q=l;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(ae){Vt(q,q.return,ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Lb(o,u))));break;case 19:zr(l,o),Fr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Lb(o,p)));break;case 30:break;case 21:break;default:zr(l,o),Fr(o)}}function Fr(o){var l=o.flags;if(l&2){try{for(var u,p=o.return;p!==null;){if(Ew(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=Ib(o);yf(o,w,v);break;case 5:var j=u.stateNode;u.flags&32&&(yl(j,""),u.flags&=-33);var z=Ib(o);yf(o,z,j);break;case 3:case 4:var q=u.stateNode.containerInfo,ie=Ib(o);Mb(o,ie,q);break;default:throw Error(r(161))}}catch(me){Vt(o,o.return,me)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Pw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Pw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function vo(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Tw(o,l.alternate,l),l=l.sibling}function Ca(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:bo(4,l,l.return),Ca(l);break;case 1:Qi(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&ww(l,l.return,u),Ca(l);break;case 27:Iu(l.stateNode);case 26:case 5:Qi(l,l.return),Ca(l);break;case 22:l.memoizedState===null&&Ca(l);break;case 30:Ca(l);break;default:Ca(l)}o=o.sibling}}function yo(o,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,v=o,w=l,j=w.flags;switch(w.tag){case 0:case 11:case 15:yo(v,w,u),Eu(4,w);break;case 1:if(yo(v,w,u),p=w,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Vt(p,p.return,ie)}if(p=w,v=p.updateQueue,v!==null){var z=p.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)a1(q[v],z)}catch(ie){Vt(p,p.return,ie)}}u&&j&64&&Sw(w),Au(w,w.return);break;case 27:Aw(w);case 26:case 5:yo(v,w,u),u&&p===null&&j&4&&Cw(w),Au(w,w.return);break;case 12:yo(v,w,u);break;case 13:yo(v,w,u),u&&j&4&&Ow(v,w);break;case 22:w.memoizedState===null&&yo(v,w,u),Au(w,w.return);break;case 30:break;default:yo(v,w,u)}l=l.sibling}}function zb(o,l){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&uu(u))}function Fb(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&uu(o))}function Zi(o,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Nw(o,l,u,p),l=l.sibling}function Nw(o,l,u,p){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Zi(o,l,u,p),v&2048&&Eu(9,l);break;case 1:Zi(o,l,u,p);break;case 3:Zi(o,l,u,p),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&uu(o)));break;case 12:if(v&2048){Zi(o,l,u,p),o=l.stateNode;try{var w=l.memoizedProps,j=w.id,z=w.onPostCommit;typeof z=="function"&&z(j,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){Vt(l,l.return,q)}}else Zi(o,l,u,p);break;case 13:Zi(o,l,u,p);break;case 23:break;case 22:w=l.stateNode,j=l.alternate,l.memoizedState!==null?w._visibility&2?Zi(o,l,u,p):_u(o,l):w._visibility&2?Zi(o,l,u,p):(w._visibility|=2,zl(o,l,u,p,(l.subtreeFlags&10256)!==0)),v&2048&&zb(j,l);break;case 24:Zi(o,l,u,p),v&2048&&Fb(l.alternate,l);break;default:Zi(o,l,u,p)}}function zl(o,l,u,p,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,j=l,z=u,q=p,ie=j.flags;switch(j.tag){case 0:case 11:case 15:zl(w,j,z,q,v),Eu(8,j);break;case 23:break;case 22:var me=j.stateNode;j.memoizedState!==null?me._visibility&2?zl(w,j,z,q,v):_u(w,j):(me._visibility|=2,zl(w,j,z,q,v)),v&&ie&2048&&zb(j.alternate,j);break;case 24:zl(w,j,z,q,v),v&&ie&2048&&Fb(j.alternate,j);break;default:zl(w,j,z,q,v)}l=l.sibling}}function _u(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=o,p=l,v=p.flags;switch(p.tag){case 22:_u(u,p),v&2048&&zb(p.alternate,p);break;case 24:_u(u,p),v&2048&&Fb(p.alternate,p);break;default:_u(u,p)}l=l.sibling}}var Tu=8192;function Fl(o){if(o.subtreeFlags&Tu)for(o=o.child;o!==null;)Iw(o),o=o.sibling}function Iw(o){switch(o.tag){case 26:Fl(o),o.flags&Tu&&o.memoizedState!==null&&EI(Ai,o.memoizedState,o.memoizedProps);break;case 5:Fl(o);break;case 3:case 4:var l=Ai;Ai=Pf(o.stateNode.containerInfo),Fl(o),Ai=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Tu,Tu=16777216,Fl(o),Tu=l):Fl(o));break;default:Fl(o)}}function Mw(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Ru(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Mn=p,Lw(p,o)}Mw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Dw(o),o=o.sibling}function Dw(o){switch(o.tag){case 0:case 11:case 15:Ru(o),o.flags&2048&&bo(9,o,o.return);break;case 3:Ru(o);break;case 12:Ru(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,xf(o)):Ru(o);break;default:Ru(o)}}function xf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Mn=p,Lw(p,o)}Mw(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:bo(8,l,l.return),xf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,xf(l));break;default:xf(l)}o=o.sibling}}function Lw(o,l){for(;Mn!==null;){var u=Mn;switch(u.tag){case 0:case 11:case 15:bo(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:uu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Mn=p;else e:for(u=o;Mn!==null;){p=Mn;var v=p.sibling,w=p.return;if(Rw(p),p===u){Mn=null;break e}if(v!==null){v.return=w,Mn=v;break e}Mn=w}}}var BN={getCacheForType:function(o){var l=tr(kn),u=l.data.get(o);return u===void 0&&(u=o(),l.data.set(o,u)),u}},VN=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Gt=null,ft=null,xt=0,Nt=0,Br=null,xo=!1,Bl=!1,Bb=!1,Bs=0,an=0,So=0,Ea=0,Vb=0,ui=0,Vl=0,ku=null,Sr=null,Hb=!1,$b=0,Sf=1/0,wf=null,wo=null,Gn=0,Co=null,Hl=null,$l=0,Ub=0,Wb=null,zw=null,Ou=0,Gb=null;function Vr(){if((Pt&2)!==0&&xt!==0)return xt&-xt;if(P.T!==null){var o=Ol;return o!==0?o:Jb()}return Y()}function Fw(){ui===0&&(ui=(xt&536870912)===0||Et?pl():536870912);var o=ci.current;return o!==null&&(o.flags|=32),ui}function Hr(o,l,u){(o===Gt&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)&&(Ul(o,0),Eo(o,xt,ui,!1)),oa(o,u),((Pt&2)===0||o!==Gt)&&(o===Gt&&((Pt&2)===0&&(Ea|=u),an===4&&Eo(o,xt,ui,!1)),Ji(o))}function Bw(o,l,u){if((Pt&6)!==0)throw Error(r(327));var p=!u&&(l&124)===0&&(l&o.expiredLanes)===0||qi(o,l),v=p?UN(o,l):Xb(o,l,!0),w=p;do{if(v===0){Bl&&!p&&Eo(o,l,0,!1);break}else{if(u=o.current.alternate,w&&!HN(u)){v=Xb(o,l,!1),w=!1;continue}if(v===2){if(w=l,o.errorRecoveryDisabledLanes&w)var j=0;else j=o.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){l=j;e:{var z=o;v=ku;var q=z.current.memoizedState.isDehydrated;if(q&&(Ul(z,j).flags|=256),j=Xb(z,j,!1),j!==2){if(Bb&&!q){z.errorRecoveryDisabledLanes|=w,Ea|=w,v=4;break e}w=Sr,Sr=v,w!==null&&(Sr===null?Sr=w:Sr.push.apply(Sr,w))}v=j}if(w=!1,v!==2)continue}}if(v===1){Ul(o,0),Eo(o,l,0,!0);break}e:{switch(p=o,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Eo(p,l,ui,!xo);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=$b+300-nt(),10<v)){if(Eo(p,l,ui,!xo),sa(p,0,!0)!==0)break e;p.timeoutHandle=pC(Vw.bind(null,p,u,Sr,wf,Hb,l,ui,Ea,Vl,xo,w,2,-0,0),v);break e}Vw(p,u,Sr,wf,Hb,l,ui,Ea,Vl,xo,w,0,-0,0)}}break}while(!0);Ji(o)}function Vw(o,l,u,p,v,w,j,z,q,ie,me,xe,oe,ae){if(o.timeoutHandle=-1,xe=l.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Lu={stylesheets:null,count:0,unsuspend:CI},Iw(l),xe=AI(),xe!==null)){o.cancelPendingCommit=xe(Yw.bind(null,o,l,w,u,p,v,j,z,q,me,1,oe,ae)),Eo(o,w,j,!ie);return}Yw(o,l,w,u,p,v,j,z,q)}function HN(o){for(var l=o;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!Dr(w(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Eo(o,l,u,p){l&=~Vb,l&=~Ea,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var v=l;0<v;){var w=31-Wt(v),j=1<<w;p[w]=-1,v&=~j}u!==0&&aa(o,u,l)}function Cf(){return(Pt&6)===0?(ju(0),!1):!0}function qb(){if(ft!==null){if(Nt===0)var o=ft.return;else o=ft,Ps=va=null,ub(o),Dl=null,Su=0,o=ft;for(;o!==null;)xw(o.alternate,o),o=o.return;ft=null}}function Ul(o,l){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,oI(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),qb(),Gt=o,ft=u=ks(o.current,null),xt=l,Nt=0,Br=null,xo=!1,Bl=qi(o,l),Bb=!1,Vl=ui=Vb=Ea=So=an=0,Sr=ku=null,Hb=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var v=31-Wt(p),w=1<<v;l|=o[v],p&=~w}return Bs=l,Uh(),u}function Hw(o,l){lt=null,P.H=uf,l===hu||l===Jh?(l=s1(),Nt=3):l===n1?(l=s1(),Nt=4):Nt=l===ow?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Br=l,ft===null&&(an=1,pf(o,si(l,o.current)))}function $w(){var o=P.H;return P.H=uf,o===null?uf:o}function Uw(){var o=P.A;return P.A=BN,o}function Yb(){an=4,xo||(xt&4194048)!==xt&&ci.current!==null||(Bl=!0),(So&134217727)===0&&(Ea&134217727)===0||Gt===null||Eo(Gt,xt,ui,!1)}function Xb(o,l,u){var p=Pt;Pt|=2;var v=$w(),w=Uw();(Gt!==o||xt!==l)&&(wf=null,Ul(o,l)),l=!1;var j=an;e:do try{if(Nt!==0&&ft!==null){var z=ft,q=Br;switch(Nt){case 8:qb(),j=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(l=!0);var ie=Nt;if(Nt=0,Br=null,Wl(o,z,q,ie),u&&Bl){j=0;break e}break;default:ie=Nt,Nt=0,Br=null,Wl(o,z,q,ie)}}$N(),j=an;break}catch(me){Hw(o,me)}while(!0);return l&&o.shellSuspendCounter++,Ps=va=null,Pt=p,P.H=v,P.A=w,ft===null&&(Gt=null,xt=0,Uh()),j}function $N(){for(;ft!==null;)Ww(ft)}function UN(o,l){var u=Pt;Pt|=2;var p=$w(),v=Uw();Gt!==o||xt!==l?(wf=null,Sf=nt()+500,Ul(o,l)):Bl=qi(o,l);e:do try{if(Nt!==0&&ft!==null){l=ft;var w=Br;t:switch(Nt){case 1:Nt=0,Br=null,Wl(o,l,w,1);break;case 2:case 9:if(r1(w)){Nt=0,Br=null,Gw(l);break}l=function(){Nt!==2&&Nt!==9||Gt!==o||(Nt=7),Ji(o)},w.then(l,l);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:r1(w)?(Nt=0,Br=null,Gw(l)):(Nt=0,Br=null,Wl(o,l,w,7));break;case 5:var j=null;switch(ft.tag){case 26:j=ft.memoizedState;case 5:case 27:var z=ft;if(!j||TC(j)){Nt=0,Br=null;var q=z.sibling;if(q!==null)ft=q;else{var ie=z.return;ie!==null?(ft=ie,Ef(ie)):ft=null}break t}}Nt=0,Br=null,Wl(o,l,w,5);break;case 6:Nt=0,Br=null,Wl(o,l,w,6);break;case 8:qb(),an=6;break e;default:throw Error(r(462))}}WN();break}catch(me){Hw(o,me)}while(!0);return Ps=va=null,P.H=p,P.A=v,Pt=u,ft!==null?0:(Gt=null,xt=0,Uh(),an)}function WN(){for(;ft!==null&&!Je();)Ww(ft)}function Ww(o){var l=vw(o.alternate,o,Bs);o.memoizedProps=o.pendingProps,l===null?Ef(o):ft=l}function Gw(o){var l=o,u=l.alternate;switch(l.tag){case 15:case 0:l=hw(u,l,l.pendingProps,l.type,void 0,xt);break;case 11:l=hw(u,l,l.pendingProps,l.type.render,l.ref,xt);break;case 5:ub(l);default:xw(u,l),l=ft=qS(l,Bs),l=vw(u,l,Bs)}o.memoizedProps=o.pendingProps,l===null?Ef(o):ft=l}function Wl(o,l,u,p){Ps=va=null,ub(l),Dl=null,Su=0;var v=l.return;try{if(IN(o,v,l,u,xt)){an=1,pf(o,si(u,o.current)),ft=null;return}}catch(w){if(v!==null)throw ft=v,w;an=1,pf(o,si(u,o.current)),ft=null;return}l.flags&32768?(Et||p===1?o=!0:Bl||(xt&536870912)!==0?o=!1:(xo=o=!0,(p===2||p===9||p===3||p===6)&&(p=ci.current,p!==null&&p.tag===13&&(p.flags|=16384))),qw(l,o)):Ef(l)}function Ef(o){var l=o;do{if((l.flags&32768)!==0){qw(l,xo);return}o=l.return;var u=DN(l.alternate,l,Bs);if(u!==null){ft=u;return}if(l=l.sibling,l!==null){ft=l;return}ft=l=o}while(l!==null);an===0&&(an=5)}function qw(o,l){do{var u=LN(o.alternate,o);if(u!==null){u.flags&=32767,ft=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(o=o.sibling,o!==null)){ft=o;return}ft=o=u}while(o!==null);an=6,ft=null}function Yw(o,l,u,p,v,w,j,z,q){o.cancelPendingCommit=null;do Af();while(Gn!==0);if((Pt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Fm,Ph(o,u,w,j,z,q),o===Gt&&(ft=Gt=null,xt=0),Hl=l,Co=o,$l=u,Ub=w,Wb=v,zw=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,XN(Jn,function(){return Jw(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=P.T,P.T=null,v=W.p,W.p=2,j=Pt,Pt|=4;try{zN(o,l,u)}finally{Pt=j,W.p=v,P.T=p}}Gn=1,Xw(),Kw(),Qw()}}function Xw(){if(Gn===1){Gn=0;var o=Co,l=Hl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var p=W.p;W.p=2;var v=Pt;Pt|=4;try{jw(l,o);var w=a0,j=LS(o.containerInfo),z=w.focusedElem,q=w.selectionRange;if(j!==z&&z&&z.ownerDocument&&DS(z.ownerDocument.documentElement,z)){if(q!==null&&Im(z)){var ie=q.start,me=q.end;if(me===void 0&&(me=ie),"selectionStart"in z)z.selectionStart=ie,z.selectionEnd=Math.min(me,z.value.length);else{var xe=z.ownerDocument||document,oe=xe&&xe.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),Xe=z.textContent.length,We=Math.min(q.start,Xe),Ft=q.end===void 0?We:Math.min(q.end,Xe);!ae.extend&&We>Ft&&(j=Ft,Ft=We,We=j);var J=MS(z,We),X=MS(z,Ft);if(J&&X&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var re=xe.createRange();re.setStart(J.node,J.offset),ae.removeAllRanges(),We>Ft?(ae.addRange(re),ae.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ae.addRange(re))}}}}for(xe=[],ae=z;ae=ae.parentNode;)ae.nodeType===1&&xe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<xe.length;z++){var be=xe[z];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Lf=!!o0,a0=o0=null}finally{Pt=v,W.p=p,P.T=u}}o.current=l,Gn=2}}function Kw(){if(Gn===2){Gn=0;var o=Co,l=Hl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var p=W.p;W.p=2;var v=Pt;Pt|=4;try{Tw(o,l.alternate,l)}finally{Pt=v,W.p=p,P.T=u}}Gn=3}}function Qw(){if(Gn===4||Gn===3){Gn=0,tt();var o=Co,l=Hl,u=$l,p=zw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Gn=5:(Gn=0,Hl=Co=null,Zw(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(wo=null),Kc(u),l=l.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(er,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=P.T,v=W.p,W.p=2,P.T=null;try{for(var w=o.onRecoverableError,j=0;j<p.length;j++){var z=p[j];w(z.value,{componentStack:z.stack})}}finally{P.T=l,W.p=v}}($l&3)!==0&&Af(),Ji(o),v=o.pendingLanes,(u&4194090)!==0&&(v&42)!==0?o===Gb?Ou++:(Ou=0,Gb=o):Ou=0,ju(0)}}function Zw(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,uu(l)))}function Af(o){return Xw(),Kw(),Qw(),Jw()}function Jw(){if(Gn!==5)return!1;var o=Co,l=Ub;Ub=0;var u=Kc($l),p=P.T,v=W.p;try{W.p=32>u?32:u,P.T=null,u=Wb,Wb=null;var w=Co,j=$l;if(Gn=0,Hl=Co=null,$l=0,(Pt&6)!==0)throw Error(r(331));var z=Pt;if(Pt|=4,Dw(w.current),Nw(w,w.current,j,u),Pt=z,ju(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(er,w)}catch{}return!0}finally{W.p=v,P.T=p,Zw(o,l)}}function eC(o,l,u){l=si(u,l),l=Eb(o.stateNode,l,2),o=fo(o,l,2),o!==null&&(oa(o,2),Ji(o))}function Vt(o,l,u){if(o.tag===3)eC(o,o,u);else for(;l!==null;){if(l.tag===3){eC(l,o,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wo===null||!wo.has(p))){o=si(u,o),u=iw(2),p=fo(l,u,2),p!==null&&(sw(u,p,l,o),oa(p,2),Ji(p));break}}l=l.return}}function Kb(o,l,u){var p=o.pingCache;if(p===null){p=o.pingCache=new VN;var v=new Set;p.set(l,v)}else v=p.get(l),v===void 0&&(v=new Set,p.set(l,v));v.has(u)||(Bb=!0,v.add(u),o=GN.bind(null,o,l,u),l.then(o,o))}function GN(o,l,u){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,Gt===o&&(xt&u)===u&&(an===4||an===3&&(xt&62914560)===xt&&300>nt()-$b?(Pt&2)===0&&Ul(o,0):Vb|=u,Vl===xt&&(Vl=0)),Ji(o)}function tC(o,l){l===0&&(l=jh()),o=_l(o,l),o!==null&&(oa(o,l),Ji(o))}function qN(o){var l=o.memoizedState,u=0;l!==null&&(u=l.retryLane),tC(o,u)}function YN(o,l){var u=0;switch(o.tag){case 13:var p=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),tC(o,u)}function XN(o,l){return ve(o,l)}var _f=null,Gl=null,Qb=!1,Tf=!1,Zb=!1,Aa=0;function Ji(o){o!==Gl&&o.next===null&&(Gl===null?_f=Gl=o:Gl=Gl.next=o),Tf=!0,Qb||(Qb=!0,QN())}function ju(o,l){if(!Zb&&Tf){Zb=!0;do for(var u=!1,p=_f;p!==null;){if(o!==0){var v=p.pendingLanes;if(v===0)var w=0;else{var j=p.suspendedLanes,z=p.pingedLanes;w=(1<<31-Wt(42|o)+1)-1,w&=v&~(j&~z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,sC(p,w))}else w=xt,w=sa(p,p===Gt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||qi(p,w)||(u=!0,sC(p,w));p=p.next}while(u);Zb=!1}}function KN(){nC()}function nC(){Tf=Qb=!1;var o=0;Aa!==0&&(sI()&&(o=Aa),Aa=0);for(var l=nt(),u=null,p=_f;p!==null;){var v=p.next,w=rC(p,l);w===0?(p.next=null,u===null?_f=v:u.next=v,v===null&&(Gl=u)):(u=p,(o!==0||(w&3)!==0)&&(Tf=!0)),p=v}ju(o)}function rC(o,l){for(var u=o.suspendedLanes,p=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var j=31-Wt(w),z=1<<j,q=v[j];q===-1?((z&u)===0||(z&p)!==0)&&(v[j]=Oh(z,l)):q<=l&&(o.expiredLanes|=z),w&=~z}if(l=Gt,u=xt,u=sa(o,o===l?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,u===0||o===l&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&je(p),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||qi(o,u)){if(l=u&-u,l===o.callbackPriority)return l;switch(p!==null&&je(p),Kc(u)){case 2:case 8:u=Rn;break;case 32:u=Jn;break;case 268435456:u=br;break;default:u=Jn}return p=iC.bind(null,o),u=ve(u,p),o.callbackPriority=l,o.callbackNode=u,l}return p!==null&&p!==null&&je(p),o.callbackPriority=2,o.callbackNode=null,2}function iC(o,l){if(Gn!==0&&Gn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Af()&&o.callbackNode!==u)return null;var p=xt;return p=sa(o,o===Gt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(Bw(o,p,l),rC(o,nt()),o.callbackNode!=null&&o.callbackNode===u?iC.bind(null,o):null)}function sC(o,l){if(Af())return null;Bw(o,l,!0)}function QN(){aI(function(){(Pt&6)!==0?ve(Ir,KN):nC()})}function Jb(){return Aa===0&&(Aa=pl()),Aa}function oC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Lh(""+o)}function aC(o,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,o.id&&u.setAttribute("form",o.id),l.parentNode.insertBefore(u,l),o=new FormData(o),u.parentNode.removeChild(u),o}function ZN(o,l,u,p,v){if(l==="submit"&&u&&u.stateNode===v){var w=oC((v[ke]||null).action),j=p.submitter;j&&(l=(l=j[ke]||null)?oC(l.formAction):j.getAttribute("formAction"),l!==null&&(w=l,j=null));var z=new Vh("action","action",null,p,v);o.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Aa!==0){var q=j?aC(v,j):new FormData(v);yb(u,{pending:!0,data:q,method:v.method,action:w},null,q)}}else typeof w=="function"&&(z.preventDefault(),q=j?aC(v,j):new FormData(v),yb(u,{pending:!0,data:q,method:v.method,action:w},w,q))},currentTarget:v}]})}}for(var e0=0;e0<zm.length;e0++){var t0=zm[e0],JN=t0.toLowerCase(),eI=t0[0].toUpperCase()+t0.slice(1);Ei(JN,"on"+eI)}Ei(BS,"onAnimationEnd"),Ei(VS,"onAnimationIteration"),Ei(HS,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(bN,"onTransitionRun"),Ei(vN,"onTransitionStart"),Ei(yN,"onTransitionCancel"),Ei($S,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function lC(o,l){l=(l&4)!==0;for(var u=0;u<o.length;u++){var p=o[u],v=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var j=p.length-1;0<=j;j--){var z=p[j],q=z.instance,ie=z.currentTarget;if(z=z.listener,q!==w&&v.isPropagationStopped())break e;w=z,v.currentTarget=ie;try{w(v)}catch(me){gf(me)}v.currentTarget=null,w=q}else for(j=0;j<p.length;j++){if(z=p[j],q=z.instance,ie=z.currentTarget,z=z.listener,q!==w&&v.isPropagationStopped())break e;w=z,v.currentTarget=ie;try{w(v)}catch(me){gf(me)}v.currentTarget=null,w=q}}}}function gt(o,l){var u=l[Le];u===void 0&&(u=l[Le]=new Set);var p=o+"__bubble";u.has(p)||(cC(l,o,2,!1),u.add(p))}function n0(o,l,u){var p=0;l&&(p|=4),cC(u,o,p,l)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function r0(o){if(!o[Rf]){o[Rf]=!0,Dt.forEach(function(u){u!=="selectionchange"&&(tI.has(u)||n0(u,!1,o),n0(u,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Rf]||(l[Rf]=!0,n0("selectionchange",!1,l))}}function cC(o,l,u,p){switch(NC(l)){case 2:var v=RI;break;case 8:v=kI;break;default:v=b0}u=v.bind(null,l,u,o),v=void 0,!Am||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),p?v!==void 0?o.addEventListener(l,u,{capture:!0,passive:v}):o.addEventListener(l,u,!0):v!==void 0?o.addEventListener(l,u,{passive:v}):o.addEventListener(l,u,!1)}function i0(o,l,u,p,v){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var z=p.stateNode.containerInfo;if(z===v)break;if(j===4)for(j=p.return;j!==null;){var q=j.tag;if((q===3||q===4)&&j.stateNode.containerInfo===v)return;j=j.return}for(;z!==null;){if(j=at(z),j===null)return;if(q=j.tag,q===5||q===6||q===26||q===27){p=w=j;continue e}z=z.parentNode}}p=p.return}mS(function(){var ie=w,me=Cm(u),xe=[];e:{var oe=US.get(o);if(oe!==void 0){var ae=Vh,Xe=o;switch(o){case"keypress":if(Fh(u)===0)break e;case"keydown":case"keyup":ae=XP;break;case"focusin":Xe="focus",ae=km;break;case"focusout":Xe="blur",ae=km;break;case"beforeblur":case"afterblur":ae=km;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=yS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=LP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=ZP;break;case BS:case VS:case HS:ae=BP;break;case $S:ae=eN;break;case"scroll":case"scrollend":ae=MP;break;case"wheel":ae=nN;break;case"copy":case"cut":case"paste":ae=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=SS;break;case"toggle":case"beforetoggle":ae=iN}var We=(l&4)!==0,Ft=!We&&(o==="scroll"||o==="scrollend"),J=We?oe!==null?oe+"Capture":null:oe;We=[];for(var X=ie,re;X!==null;){var be=X;if(re=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||re===null||J===null||(be=Qc(X,J),be!=null&&We.push(Nu(X,be,re))),Ft)break;X=X.return}0<We.length&&(oe=new ae(oe,Xe,null,u,me),xe.push({event:oe,listeners:We}))}}if((l&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",ae=o==="mouseout"||o==="pointerout",oe&&u!==wm&&(Xe=u.relatedTarget||u.fromElement)&&(at(Xe)||Xe[Ie]))break e;if((ae||oe)&&(oe=me.window===me?me:(oe=me.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(Xe=u.relatedTarget||u.toElement,ae=ie,Xe=Xe?at(Xe):null,Xe!==null&&(Ft=s(Xe),We=Xe.tag,Xe!==Ft||We!==5&&We!==27&&We!==6)&&(Xe=null)):(ae=null,Xe=ie),ae!==Xe)){if(We=yS,be="onMouseLeave",J="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(We=SS,be="onPointerLeave",J="onPointerEnter",X="pointer"),Ft=ae==null?oe:rn(ae),re=Xe==null?oe:rn(Xe),oe=new We(be,X+"leave",ae,u,me),oe.target=Ft,oe.relatedTarget=re,be=null,at(me)===ie&&(We=new We(J,X+"enter",Xe,u,me),We.target=re,We.relatedTarget=Ft,be=We),Ft=be,ae&&Xe)t:{for(We=ae,J=Xe,X=0,re=We;re;re=ql(re))X++;for(re=0,be=J;be;be=ql(be))re++;for(;0<X-re;)We=ql(We),X--;for(;0<re-X;)J=ql(J),re--;for(;X--;){if(We===J||J!==null&&We===J.alternate)break t;We=ql(We),J=ql(J)}We=null}else We=null;ae!==null&&uC(xe,oe,ae,We,!1),Xe!==null&&Ft!==null&&uC(xe,Ft,Xe,We,!0)}}e:{if(oe=ie?rn(ie):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var Ne=kS;else if(TS(oe))if(OS)Ne=gN;else{Ne=hN;var ut=dN}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Sm(ie.elementType)&&(Ne=kS):Ne=fN;if(Ne&&(Ne=Ne(o,ie))){RS(xe,Ne,u,me);break e}ut&&ut(o,oe,ie),o==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&xm(oe,"number",oe.value)}switch(ut=ie?rn(ie):window,o){case"focusin":(TS(ut)||ut.contentEditable==="true")&&(Cl=ut,Mm=ie,su=null);break;case"focusout":su=Mm=Cl=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,zS(xe,u,me);break;case"selectionchange":if(mN)break;case"keydown":case"keyup":zS(xe,u,me)}var Fe;if(jm)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else wl?AS(o,u)&&(Ge="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(wS&&u.locale!=="ko"&&(wl||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&wl&&(Fe=bS()):(lo=me,_m="value"in lo?lo.value:lo.textContent,wl=!0)),ut=kf(ie,Ge),0<ut.length&&(Ge=new xS(Ge,o,null,u,me),xe.push({event:Ge,listeners:ut}),Fe?Ge.data=Fe:(Fe=_S(u),Fe!==null&&(Ge.data=Fe)))),(Fe=oN?aN(o,u):lN(o,u))&&(Ge=kf(ie,"onBeforeInput"),0<Ge.length&&(ut=new xS("onBeforeInput","beforeinput",null,u,me),xe.push({event:ut,listeners:Ge}),ut.data=Fe)),ZN(xe,o,ie,u,me)}lC(xe,l)})}function Nu(o,l,u){return{instance:o,listener:l,currentTarget:u}}function kf(o,l){for(var u=l+"Capture",p=[];o!==null;){var v=o,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Qc(o,u),v!=null&&p.unshift(Nu(o,v,w)),v=Qc(o,l),v!=null&&p.push(Nu(o,v,w))),o.tag===3)return p;o=o.return}return[]}function ql(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function uC(o,l,u,p,v){for(var w=l._reactName,j=[];u!==null&&u!==p;){var z=u,q=z.alternate,ie=z.stateNode;if(z=z.tag,q!==null&&q===p)break;z!==5&&z!==26&&z!==27||ie===null||(q=ie,v?(ie=Qc(u,w),ie!=null&&j.unshift(Nu(u,ie,q))):v||(ie=Qc(u,w),ie!=null&&j.push(Nu(u,ie,q)))),u=u.return}j.length!==0&&o.push({event:l,listeners:j})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function dC(o){return(typeof o=="string"?o:""+o).replace(nI,`
`).replace(rI,"")}function hC(o,l){return l=dC(l),dC(o)===l}function Of(){}function zt(o,l,u,p,v,w){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||yl(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&yl(o,""+p);break;case"className":Ts(o,"class",p);break;case"tabIndex":Ts(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(o,u,p);break;case"style":gS(o,p,w);break;case"data":if(l!=="object"){Ts(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){o.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Lh(""+p),o.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&zt(o,l,"name",v.name,v,null),zt(o,l,"formEncType",v.formEncType,v,null),zt(o,l,"formMethod",v.formMethod,v,null),zt(o,l,"formTarget",v.formTarget,v,null)):(zt(o,l,"encType",v.encType,v,null),zt(o,l,"method",v.method,v,null),zt(o,l,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Lh(""+p),o.setAttribute(u,p);break;case"onClick":p!=null&&(o.onclick=Of);break;case"onScroll":p!=null&&gt("scroll",o);break;case"onScrollEnd":p!=null&&gt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}u=Lh(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""+p):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":p===!0?o.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,p):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(u,p):o.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(u):o.setAttribute(u,p);break;case"popover":gt("beforetoggle",o),gt("toggle",o),_s(o,"popover",p);break;case"xlinkActuate":ct(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ct(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ct(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ct(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ct(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ct(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ct(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ct(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ct(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":_s(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=NP.get(u)||u,_s(o,u,p))}}function s0(o,l,u,p,v,w){switch(u){case"style":gS(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof p=="string"?yl(o,p):(typeof p=="number"||typeof p=="bigint")&&yl(o,""+p);break;case"onScroll":p!=null&&gt("scroll",o);break;case"onScrollEnd":p!=null&&gt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yi.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),w=o[ke]||null,w=w!=null?w[u]:null,typeof w=="function"&&o.removeEventListener(l,w,v),typeof p=="function")){typeof w!="function"&&w!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(l,p,v);break e}u in o?o[u]=p:p===!0?o.setAttribute(u,""):_s(o,u,p)}}}function qn(o,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",o),gt("load",o);var p=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var j=u[w];if(j!=null)switch(w){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(o,l,w,j,u,null)}}v&&zt(o,l,"srcSet",u.srcSet,u,null),p&&zt(o,l,"src",u.src,u,null);return;case"input":gt("invalid",o);var z=w=j=v=null,q=null,ie=null;for(p in u)if(u.hasOwnProperty(p)){var me=u[p];if(me!=null)switch(p){case"name":v=me;break;case"type":j=me;break;case"checked":q=me;break;case"defaultChecked":ie=me;break;case"value":w=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:zt(o,l,p,me,u,null)}}uS(o,w,z,q,ie,j,v,!1),Mh(o);return;case"select":gt("invalid",o),p=j=w=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":w=z;break;case"defaultValue":j=z;break;case"multiple":p=z;default:zt(o,l,v,z,u,null)}l=w,u=j,o.multiple=!!p,l!=null?vl(o,!!p,l,!1):u!=null&&vl(o,!!p,u,!0);return;case"textarea":gt("invalid",o),w=v=p=null;for(j in u)if(u.hasOwnProperty(j)&&(z=u[j],z!=null))switch(j){case"value":p=z;break;case"defaultValue":v=z;break;case"children":w=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:zt(o,l,j,z,u,null)}hS(o,p,v,w),Mh(o);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(p=u[q],p!=null))switch(q){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:zt(o,l,q,p,u,null)}return;case"dialog":gt("beforetoggle",o),gt("toggle",o),gt("cancel",o),gt("close",o);break;case"iframe":case"object":gt("load",o);break;case"video":case"audio":for(p=0;p<Pu.length;p++)gt(Pu[p],o);break;case"image":gt("error",o),gt("load",o);break;case"details":gt("toggle",o);break;case"embed":case"source":case"link":gt("error",o),gt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in u)if(u.hasOwnProperty(ie)&&(p=u[ie],p!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(o,l,ie,p,u,null)}return;default:if(Sm(l)){for(me in u)u.hasOwnProperty(me)&&(p=u[me],p!==void 0&&s0(o,l,me,p,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(p=u[z],p!=null&&zt(o,l,z,p,u,null))}function iI(o,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,j=null,z=null,q=null,ie=null,me=null;for(ae in u){var xe=u[ae];if(u.hasOwnProperty(ae)&&xe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=xe;default:p.hasOwnProperty(ae)||zt(o,l,ae,null,p,xe)}}for(var oe in p){var ae=p[oe];if(xe=u[oe],p.hasOwnProperty(oe)&&(ae!=null||xe!=null))switch(oe){case"type":w=ae;break;case"name":v=ae;break;case"checked":ie=ae;break;case"defaultChecked":me=ae;break;case"value":j=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:ae!==xe&&zt(o,l,oe,ae,p,xe)}}ym(o,j,z,q,ie,me,w,v);return;case"select":ae=j=z=oe=null;for(w in u)if(q=u[w],u.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ae=q;default:p.hasOwnProperty(w)||zt(o,l,w,null,p,q)}for(v in p)if(w=p[v],q=u[v],p.hasOwnProperty(v)&&(w!=null||q!=null))switch(v){case"value":oe=w;break;case"defaultValue":z=w;break;case"multiple":j=w;default:w!==q&&zt(o,l,v,w,p,q)}l=z,u=j,p=ae,oe!=null?vl(o,!!u,oe,!1):!!p!=!!u&&(l!=null?vl(o,!!u,l,!0):vl(o,!!u,u?[]:"",!1));return;case"textarea":ae=oe=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:zt(o,l,z,null,p,v)}for(j in p)if(v=p[j],w=u[j],p.hasOwnProperty(j)&&(v!=null||w!=null))switch(j){case"value":oe=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&zt(o,l,j,v,p,w)}dS(o,oe,ae);return;case"option":for(var Xe in u)if(oe=u[Xe],u.hasOwnProperty(Xe)&&oe!=null&&!p.hasOwnProperty(Xe))switch(Xe){case"selected":o.selected=!1;break;default:zt(o,l,Xe,null,p,oe)}for(q in p)if(oe=p[q],ae=u[q],p.hasOwnProperty(q)&&oe!==ae&&(oe!=null||ae!=null))switch(q){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:zt(o,l,q,oe,p,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in u)oe=u[We],u.hasOwnProperty(We)&&oe!=null&&!p.hasOwnProperty(We)&&zt(o,l,We,null,p,oe);for(ie in p)if(oe=p[ie],ae=u[ie],p.hasOwnProperty(ie)&&oe!==ae&&(oe!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:zt(o,l,ie,oe,p,ae)}return;default:if(Sm(l)){for(var Ft in u)oe=u[Ft],u.hasOwnProperty(Ft)&&oe!==void 0&&!p.hasOwnProperty(Ft)&&s0(o,l,Ft,void 0,p,oe);for(me in p)oe=p[me],ae=u[me],!p.hasOwnProperty(me)||oe===ae||oe===void 0&&ae===void 0||s0(o,l,me,oe,p,ae);return}}for(var J in u)oe=u[J],u.hasOwnProperty(J)&&oe!=null&&!p.hasOwnProperty(J)&&zt(o,l,J,null,p,oe);for(xe in p)oe=p[xe],ae=u[xe],!p.hasOwnProperty(xe)||oe===ae||oe==null&&ae==null||zt(o,l,xe,oe,p,ae)}var o0=null,a0=null;function jf(o){return o.nodeType===9?o:o.ownerDocument}function fC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function l0(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var c0=null;function sI(){var o=window.event;return o&&o.type==="popstate"?o===c0?!1:(c0=o,!0):(c0=null,!1)}var pC=typeof setTimeout=="function"?setTimeout:void 0,oI=typeof clearTimeout=="function"?clearTimeout:void 0,mC=typeof Promise=="function"?Promise:void 0,aI=typeof queueMicrotask=="function"?queueMicrotask:typeof mC<"u"?function(o){return mC.resolve(null).then(o).catch(lI)}:pC;function lI(o){setTimeout(function(){throw o})}function Ao(o){return o==="head"}function bC(o,l){var u=l,p=0,v=0;do{var w=u.nextSibling;if(o.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<p&&8>p){u=p;var j=o.ownerDocument;if(u&1&&Iu(j.documentElement),u&2&&Iu(j.body),u&4)for(u=j.head,Iu(u),j=u.firstChild;j;){var z=j.nextSibling,q=j.nodeName;j[De]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&j.rel.toLowerCase()==="stylesheet"||u.removeChild(j),j=z}}if(v===0){o.removeChild(w),Hu(l);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:p=u.charCodeAt(0)-48;else p=0;u=w}while(u);Hu(l)}function u0(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":u0(u),ze(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function cI(o,l,u,p){for(;o.nodeType===1;){var v=u;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[De])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=_i(o.nextSibling),o===null)break}return null}function uI(o,l,u){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=_i(o.nextSibling),o===null))return null;return o}function d0(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function dI(o,l){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function _i(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var h0=null;function vC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return o;l--}else u==="/$"&&l++}o=o.previousSibling}return null}function yC(o,l,u){switch(l=jf(u),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Iu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ze(o)}var di=new Map,xC=new Set;function Pf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Vs=W.d;W.d={f:hI,r:fI,D:gI,C:pI,L:mI,m:bI,X:yI,S:vI,M:xI};function hI(){var o=Vs.f(),l=Cf();return o||l}function fI(o){var l=jt(o);l!==null&&l.tag===5&&l.type==="form"?B1(l):Vs.r(o)}var Yl=typeof document>"u"?null:document;function SC(o,l,u){var p=Yl;if(p&&typeof l=="string"&&l){var v=ii(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),xC.has(v)||(xC.add(v),o={rel:o,crossOrigin:u,href:l},p.querySelector(v)===null&&(l=p.createElement("link"),qn(l,"link",o),st(l),p.head.appendChild(l)))}}function gI(o){Vs.D(o),SC("dns-prefetch",o,null)}function pI(o,l){Vs.C(o,l),SC("preconnect",o,l)}function mI(o,l,u){Vs.L(o,l,u);var p=Yl;if(p&&o&&l){var v='link[rel="preload"][as="'+ii(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+ii(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+ii(u.imageSizes)+'"]')):v+='[href="'+ii(o)+'"]';var w=v;switch(l){case"style":w=Xl(o);break;case"script":w=Kl(o)}di.has(w)||(o=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:o,as:l},u),di.set(w,o),p.querySelector(v)!==null||l==="style"&&p.querySelector(Mu(w))||l==="script"&&p.querySelector(Du(w))||(l=p.createElement("link"),qn(l,"link",o),st(l),p.head.appendChild(l)))}}function bI(o,l){Vs.m(o,l);var u=Yl;if(u&&o){var p=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+ii(p)+'"][href="'+ii(o)+'"]',w=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Kl(o)}if(!di.has(w)&&(o=g({rel:"modulepreload",href:o},l),di.set(w,o),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Du(w)))return}p=u.createElement("link"),qn(p,"link",o),st(p),u.head.appendChild(p)}}}function vI(o,l,u){Vs.S(o,l,u);var p=Yl;if(p&&o){var v=sn(p).hoistableStyles,w=Xl(o);l=l||"default";var j=v.get(w);if(!j){var z={loading:0,preload:null};if(j=p.querySelector(Mu(w)))z.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":l},u),(u=di.get(w))&&f0(o,u);var q=j=p.createElement("link");st(q),qn(q,"link",o),q._p=new Promise(function(ie,me){q.onload=ie,q.onerror=me}),q.addEventListener("load",function(){z.loading|=1}),q.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Nf(j,l,p)}j={type:"stylesheet",instance:j,count:1,state:z},v.set(w,j)}}}function yI(o,l){Vs.X(o,l);var u=Yl;if(u&&o){var p=sn(u).hoistableScripts,v=Kl(o),w=p.get(v);w||(w=u.querySelector(Du(v)),w||(o=g({src:o,async:!0},l),(l=di.get(v))&&g0(o,l),w=u.createElement("script"),st(w),qn(w,"link",o),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function xI(o,l){Vs.M(o,l);var u=Yl;if(u&&o){var p=sn(u).hoistableScripts,v=Kl(o),w=p.get(v);w||(w=u.querySelector(Du(v)),w||(o=g({src:o,async:!0,type:"module"},l),(l=di.get(v))&&g0(o,l),w=u.createElement("script"),st(w),qn(w,"link",o),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function wC(o,l,u,p){var v=(v=Re.current)?Pf(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Xl(u.href),u=sn(v).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=Xl(u.href);var w=sn(v).hoistableStyles,j=w.get(o);if(j||(v=v.ownerDocument||v,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,j),(w=v.querySelector(Mu(o)))&&!w._p&&(j.instance=w,j.state.loading=5),di.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},di.set(o,u),w||SI(v,o,u,j.state))),l&&p===null)throw Error(r(528,""));return j}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Kl(u),u=sn(v).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Xl(o){return'href="'+ii(o)+'"'}function Mu(o){return'link[rel="stylesheet"]['+o+"]"}function CC(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function SI(o,l,u,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),qn(l,"link",u),st(l),o.head.appendChild(l))}function Kl(o){return'[src="'+ii(o)+'"]'}function Du(o){return"script[async]"+o}function EC(o,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+ii(u.href)+'"]');if(p)return l.instance=p,st(p),p;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),st(p),qn(p,"style",v),Nf(p,u.precedence,o),l.instance=p;case"stylesheet":v=Xl(u.href);var w=o.querySelector(Mu(v));if(w)return l.state.loading|=4,l.instance=w,st(w),w;p=CC(u),(v=di.get(v))&&f0(p,v),w=(o.ownerDocument||o).createElement("link"),st(w);var j=w;return j._p=new Promise(function(z,q){j.onload=z,j.onerror=q}),qn(w,"link",p),l.state.loading|=4,Nf(w,u.precedence,o),l.instance=w;case"script":return w=Kl(u.src),(v=o.querySelector(Du(w)))?(l.instance=v,st(v),v):(p=u,(v=di.get(w))&&(p=g({},u),g0(p,v)),o=o.ownerDocument||o,v=o.createElement("script"),st(v),qn(v,"link",p),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Nf(p,u.precedence,o));return l.instance}function Nf(o,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,w=v,j=0;j<p.length;j++){var z=p[j];if(z.dataset.precedence===l)w=z;else if(w!==v)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(o,l.firstChild))}function f0(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function g0(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var If=null;function AC(o,l,u){if(If===null){var p=new Map,v=If=new Map;v.set(u,p)}else v=If,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(o))return p;for(p.set(o,null),u=u.getElementsByTagName(o),v=0;v<u.length;v++){var w=u[v];if(!(w[De]||w[we]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var j=w.getAttribute(l)||"";j=o+j;var z=p.get(j);z?z.push(w):p.set(j,[w])}}return p}function _C(o,l,u){o=o.ownerDocument||o,o.head.insertBefore(u,l==="title"?o.querySelector("head > title"):null)}function wI(o,l,u){if(u===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function TC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Lu=null;function CI(){}function EI(o,l,u){if(Lu===null)throw Error(r(475));var p=Lu;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Xl(u.href),w=o.querySelector(Mu(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=Mf.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=w,st(w);return}w=o.ownerDocument||o,u=CC(u),(v=di.get(v))&&f0(u,v),w=w.createElement("link"),st(w);var j=w;j._p=new Promise(function(z,q){j.onload=z,j.onerror=q}),qn(w,"link",u),l.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Mf.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function AI(){if(Lu===null)throw Error(r(475));var o=Lu;return o.stylesheets&&o.count===0&&p0(o,o.stylesheets),0<o.count?function(l){var u=setTimeout(function(){if(o.stylesheets&&p0(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(u)}}:null}function Mf(){if(this.count--,this.count===0){if(this.stylesheets)p0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Df=null;function p0(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Df=new Map,l.forEach(_I,o),Df=null,Mf.call(o))}function _I(o,l){if(!(l.state.loading&4)){var u=Df.get(o);if(u)var p=u.get(null);else{u=new Map,Df.set(o,u);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var j=v[w];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(u.set(j.dataset.precedence,j),p=j)}p&&u.set(null,p)}v=l.instance,j=v.getAttribute("data-precedence"),w=u.get(j)||p,w===p&&u.set(null,v),u.set(j,v),this.count++,p=Mf.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),w?w.parentNode.insertBefore(v,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var zu={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function TI(o,l,u,p,v,w,j,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function RC(o,l,u,p,v,w,j,z,q,ie,me,xe){return o=new TI(o,l,u,j,z,q,ie,xe),l=1,w===!0&&(l|=24),w=Lr(3,null,null,l),o.current=w,w.stateNode=o,l=Km(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:l},eb(w),o}function kC(o){return o?(o=Tl,o):Tl}function OC(o,l,u,p,v,w){v=kC(v),p.context===null?p.context=v:p.pendingContext=v,p=ho(l),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=fo(o,p,l),u!==null&&(Hr(u,o,l),gu(u,o,l))}function jC(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<l?u:l}}function m0(o,l){jC(o,l),(o=o.alternate)&&jC(o,l)}function PC(o){if(o.tag===13){var l=_l(o,67108864);l!==null&&Hr(l,o,67108864),m0(o,67108864)}}var Lf=!0;function RI(o,l,u,p){var v=P.T;P.T=null;var w=W.p;try{W.p=2,b0(o,l,u,p)}finally{W.p=w,P.T=v}}function kI(o,l,u,p){var v=P.T;P.T=null;var w=W.p;try{W.p=8,b0(o,l,u,p)}finally{W.p=w,P.T=v}}function b0(o,l,u,p){if(Lf){var v=v0(p);if(v===null)i0(o,l,p,zf,u),IC(o,p);else if(jI(v,o,l,u,p))p.stopPropagation();else if(IC(o,p),l&4&&-1<OI.indexOf(o)){for(;v!==null;){var w=jt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var j=Es(w.pendingLanes);if(j!==0){var z=w;for(z.pendingLanes|=2,z.entangledLanes|=2;j;){var q=1<<31-Wt(j);z.entanglements[1]|=q,j&=~q}Ji(w),(Pt&6)===0&&(Sf=nt()+500,ju(0))}}break;case 13:z=_l(w,2),z!==null&&Hr(z,w,2),Cf(),m0(w,2)}if(w=v0(p),w===null&&i0(o,l,p,zf,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else i0(o,l,p,null,u)}}function v0(o){return o=Cm(o),y0(o)}var zf=null;function y0(o){if(zf=null,o=at(o),o!==null){var l=s(o);if(l===null)o=null;else{var u=l.tag;if(u===13){if(o=a(l),o!==null)return o;o=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return zf=o,null}function NC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case Ir:return 2;case Rn:return 8;case Jn:case mr:return 32;case br:return 268435456;default:return 32}default:return 32}}var x0=!1,_o=null,To=null,Ro=null,Fu=new Map,Bu=new Map,ko=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IC(o,l){switch(o){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Fu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(l.pointerId)}}function Vu(o,l,u,p,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},l!==null&&(l=jt(l),l!==null&&PC(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function jI(o,l,u,p,v){switch(l){case"focusin":return _o=Vu(_o,o,l,u,p,v),!0;case"dragenter":return To=Vu(To,o,l,u,p,v),!0;case"mouseover":return Ro=Vu(Ro,o,l,u,p,v),!0;case"pointerover":var w=v.pointerId;return Fu.set(w,Vu(Fu.get(w)||null,o,l,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,Bu.set(w,Vu(Bu.get(w)||null,o,l,u,p,v)),!0}return!1}function MC(o){var l=at(o.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=a(u),l!==null){o.blockedOn=l,ne(o.priority,function(){if(u.tag===13){var p=Vr();p=Xc(p);var v=_l(u,p);v!==null&&Hr(v,u,p),m0(u,p)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ff(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var u=v0(o.nativeEvent);if(u===null){u=o.nativeEvent;var p=new u.constructor(u.type,u);wm=p,u.target.dispatchEvent(p),wm=null}else return l=jt(u),l!==null&&PC(l),o.blockedOn=u,!1;l.shift()}return!0}function DC(o,l,u){Ff(o)&&u.delete(l)}function PI(){x0=!1,_o!==null&&Ff(_o)&&(_o=null),To!==null&&Ff(To)&&(To=null),Ro!==null&&Ff(Ro)&&(Ro=null),Fu.forEach(DC),Bu.forEach(DC)}function Bf(o,l){o.blockedOn===l&&(o.blockedOn=null,x0||(x0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PI)))}var Vf=null;function LC(o){Vf!==o&&(Vf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===o&&(Vf=null);for(var l=0;l<o.length;l+=3){var u=o[l],p=o[l+1],v=o[l+2];if(typeof p!="function"){if(y0(p||u)===null)continue;break}var w=jt(u);w!==null&&(o.splice(l,3),l-=3,yb(w,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function Hu(o){function l(q){return Bf(q,o)}_o!==null&&Bf(_o,o),To!==null&&Bf(To,o),Ro!==null&&Bf(Ro,o),Fu.forEach(l),Bu.forEach(l);for(var u=0;u<ko.length;u++){var p=ko[u];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ko.length&&(u=ko[0],u.blockedOn===null);)MC(u),u.blockedOn===null&&ko.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],w=u[p+1],j=v[ke]||null;if(typeof w=="function")j||LC(u);else if(j){var z=null;if(w&&w.hasAttribute("formAction")){if(v=w,j=w[ke]||null)z=j.formAction;else if(y0(v)!==null)continue}else z=j.action;typeof z=="function"?u[p+1]=z:(u.splice(p,3),p-=3),LC(u)}}}function S0(o){this._internalRoot=o}Hf.prototype.render=S0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=Vr();OC(u,p,o,l,null,null)},Hf.prototype.unmount=S0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;OC(o.current,2,null,o,null,null),Cf(),l[Ie]=null}};function Hf(o){this._internalRoot=o}Hf.prototype.unstable_scheduleHydration=function(o){if(o){var l=Y();o={blockedOn:null,target:o,priority:l};for(var u=0;u<ko.length&&l!==0&&l<ko[u].priority;u++);ko.splice(u,0,o),u===0&&MC(o)}};var zC=e.version;if(zC!=="19.1.1")throw Error(r(527,zC,"19.1.1"));W.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var NI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{er=$f.inject(NI),wt=$f}catch{}}return Uu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var u=!1,p="",v=ew,w=tw,j=nw,z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks)),l=RC(o,1,!1,null,null,u,p,v,w,j,z,null),o[Ie]=l.current,r0(o),new S0(l)},Uu.hydrateRoot=function(o,l,u){if(!i(o))throw Error(r(299));var p=!1,v="",w=ew,j=tw,z=nw,q=null,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ie=u.formState)),l=RC(o,1,!0,l,u??null,p,v,w,j,z,q,ie),l.context=kC(null),u=l.current,p=Vr(),p=Xc(p),v=ho(p),v.callback=null,fo(u,v,p),u=p,l.current.lanes=u,oa(l,u),Ji(l),o[Ie]=l.current,r0(o),new Hf(l)},Uu.version="19.1.1",Uu}var QC;function $I(){if(QC)return A0.exports;QC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A0.exports=HI(),A0.exports}var UI=$I();function BT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var WI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GI=BT(function(t){return WI.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function qI(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function YI(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var XI=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YI(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=qI(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),rr="-ms-",Wg="-moz-",At="-webkit-",VT="comm",vy="rule",yy="decl",KI="@import",HT="@keyframes",QI="@layer",ZI=Math.abs,wp=String.fromCharCode,JI=Object.assign;function eM(t,e){return Qn(t,0)^45?(((e<<2^Qn(t,0))<<2^Qn(t,1))<<2^Qn(t,2))<<2^Qn(t,3):0}function $T(t){return t.trim()}function tM(t,e){return(t=e.exec(t))?t[0]:t}function _t(t,e,n){return t.replace(e,n)}function Sv(t,e){return t.indexOf(e)}function Qn(t,e){return t.charCodeAt(e)|0}function Md(t,e,n){return t.slice(e,n)}function cs(t){return t.length}function xy(t){return t.length}function Uf(t,e){return e.push(t),t}function nM(t,e){return t.map(e).join("")}var Cp=1,Tc=1,UT=0,Pr=0,An=0,Dc="";function Ep(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cp,column:Tc,length:a,return:""}}function Wu(t,e){return JI(Ep("",null,null,"",null,null,0),t,{length:-t.length},e)}function rM(){return An}function iM(){return An=Pr>0?Qn(Dc,--Pr):0,Tc--,An===10&&(Tc=1,Cp--),An}function Zr(){return An=Pr<UT?Qn(Dc,Pr++):0,Tc++,An===10&&(Tc=1,Cp++),An}function gs(){return Qn(Dc,Pr)}function bg(){return Pr}function nh(t,e){return Md(Dc,t,e)}function Dd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WT(t){return Cp=Tc=1,UT=cs(Dc=t),Pr=0,[]}function GT(t){return Dc="",t}function vg(t){return $T(nh(Pr-1,wv(t===91?t+2:t===40?t+1:t)))}function sM(t){for(;(An=gs())&&An<33;)Zr();return Dd(t)>2||Dd(An)>3?"":" "}function oM(t,e){for(;--e&&Zr()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return nh(t,bg()+(e<6&&gs()==32&&Zr()==32))}function wv(t){for(;Zr();)switch(An){case t:return Pr;case 34:case 39:t!==34&&t!==39&&wv(An);break;case 40:t===41&&wv(t);break;case 92:Zr();break}return Pr}function aM(t,e){for(;Zr()&&t+An!==57;)if(t+An===84&&gs()===47)break;return"/*"+nh(e,Pr-1)+"*"+wp(t===47?t:Zr())}function lM(t){for(;!Dd(gs());)Zr();return nh(t,Pr)}function cM(t){return GT(yg("",null,null,null,[""],t=WT(t),0,[0],t))}function yg(t,e,n,r,i,s,a,c,d){for(var f=0,g=0,m=a,b=0,y=0,S=0,x=1,C=1,E=1,k=0,T="",R=i,_=s,O=r,I=T;C;)switch(S=k,k=Zr()){case 40:if(S!=108&&Qn(I,m-1)==58){Sv(I+=_t(vg(k),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:I+=vg(k);break;case 9:case 10:case 13:case 32:I+=sM(S);break;case 92:I+=oM(bg()-1,7);continue;case 47:switch(gs()){case 42:case 47:Uf(uM(aM(Zr(),bg()),e,n),d);break;default:I+="/"}break;case 123*x:c[f++]=cs(I)*E;case 125*x:case 59:case 0:switch(k){case 0:case 125:C=0;case 59+g:E==-1&&(I=_t(I,/\f/g,"")),y>0&&cs(I)-m&&Uf(y>32?JC(I+";",r,n,m-1):JC(_t(I," ","")+";",r,n,m-2),d);break;case 59:I+=";";default:if(Uf(O=ZC(I,e,n,f,g,i,c,T,R=[],_=[],m),s),k===123)if(g===0)yg(I,e,O,O,R,s,m,c,_);else switch(b===99&&Qn(I,3)===110?100:b){case 100:case 108:case 109:case 115:yg(t,O,O,r&&Uf(ZC(t,O,O,0,0,i,c,T,i,R=[],m),_),i,_,m,c,r?R:_);break;default:yg(I,O,O,O,[""],_,0,c,_)}}f=g=y=0,x=E=1,T=I="",m=a;break;case 58:m=1+cs(I),y=S;default:if(x<1){if(k==123)--x;else if(k==125&&x++==0&&iM()==125)continue}switch(I+=wp(k),k*x){case 38:E=g>0?1:(I+="\f",-1);break;case 44:c[f++]=(cs(I)-1)*E,E=1;break;case 64:gs()===45&&(I+=vg(Zr())),b=gs(),g=m=cs(T=I+=lM(bg())),k++;break;case 45:S===45&&cs(I)==2&&(x=0)}}return s}function ZC(t,e,n,r,i,s,a,c,d,f,g){for(var m=i-1,b=i===0?s:[""],y=xy(b),S=0,x=0,C=0;S<r;++S)for(var E=0,k=Md(t,m+1,m=ZI(x=a[S])),T=t;E<y;++E)(T=$T(x>0?b[E]+" "+k:_t(k,/&\f/g,b[E])))&&(d[C++]=T);return Ep(t,e,n,i===0?vy:c,d,f,g)}function uM(t,e,n){return Ep(t,e,n,VT,wp(rM()),Md(t,2,-2),0)}function JC(t,e,n,r){return Ep(t,e,n,yy,Md(t,0,r),Md(t,r+1,-1),r)}function bc(t,e){for(var n="",r=xy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function dM(t,e,n,r){switch(t.type){case QI:if(t.children.length)break;case KI:case yy:return t.return=t.return||t.value;case VT:return"";case HT:return t.return=t.value+"{"+bc(t.children,r)+"}";case vy:t.value=t.props.join(",")}return cs(n=bc(t.children,r))?t.return=t.value+"{"+n+"}":""}function hM(t){var e=xy(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function fM(t){return function(e){e.root||(e=e.return)&&t(e)}}var gM=function(e,n,r){for(var i=0,s=0;i=s,s=gs(),i===38&&s===12&&(n[r]=1),!Dd(s);)Zr();return nh(e,Pr)},pM=function(e,n){var r=-1,i=44;do switch(Dd(i)){case 0:i===38&&gs()===12&&(n[r]=1),e[r]+=gM(Pr-1,n,r);break;case 2:e[r]+=vg(i);break;case 4:if(i===44){e[++r]=gs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=wp(i)}while(i=Zr());return e},mM=function(e,n){return GT(pM(WT(e),n))},eE=new WeakMap,bM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!eE.get(r))&&!i){eE.set(e,!0);for(var s=[],a=mM(n,s),c=r.props,d=0,f=0;d<a.length;d++)for(var g=0;g<c.length;g++,f++)e.props[f]=s[d]?a[d].replace(/&\f/g,c[g]):c[g]+" "+a[d]}}},vM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function qT(t,e){switch(eM(t,e)){case 5103:return At+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return At+t+Wg+t+rr+t+t;case 6828:case 4268:return At+t+rr+t+t;case 6165:return At+t+rr+"flex-"+t+t;case 5187:return At+t+_t(t,/(\w+).+(:[^]+)/,At+"box-$1$2"+rr+"flex-$1$2")+t;case 5443:return At+t+rr+"flex-item-"+_t(t,/flex-|-self/,"")+t;case 4675:return At+t+rr+"flex-line-pack"+_t(t,/align-content|flex-|-self/,"")+t;case 5548:return At+t+rr+_t(t,"shrink","negative")+t;case 5292:return At+t+rr+_t(t,"basis","preferred-size")+t;case 6060:return At+"box-"+_t(t,"-grow","")+At+t+rr+_t(t,"grow","positive")+t;case 4554:return At+_t(t,/([^-])(transform)/g,"$1"+At+"$2")+t;case 6187:return _t(_t(_t(t,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),t,"")+t;case 5495:case 3959:return _t(t,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return _t(_t(t,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+t+t;case 4095:case 3583:case 4068:case 2532:return _t(t,/(.+)-inline(.+)/,At+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cs(t)-1-e>6)switch(Qn(t,e+1)){case 109:if(Qn(t,e+4)!==45)break;case 102:return _t(t,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+Wg+(Qn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Sv(t,"stretch")?qT(_t(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qn(t,e+1)!==115)break;case 6444:switch(Qn(t,cs(t)-3-(~Sv(t,"!important")&&10))){case 107:return _t(t,":",":"+At)+t;case 101:return _t(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Qn(t,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+rr+"$2box$3")+t}break;case 5936:switch(Qn(t,e+11)){case 114:return At+t+rr+_t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return At+t+rr+_t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return At+t+rr+_t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return At+t+rr+t+t}return t}var yM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case yy:e.return=qT(e.value,e.length);break;case HT:return bc([Wu(e,{value:_t(e.value,"@","@"+At)})],i);case vy:if(e.length)return nM(e.props,function(s){switch(tM(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bc([Wu(e,{props:[_t(s,/:(read-\w+)/,":"+Wg+"$1")]})],i);case"::placeholder":return bc([Wu(e,{props:[_t(s,/:(plac\w+)/,":"+At+"input-$1")]}),Wu(e,{props:[_t(s,/:(plac\w+)/,":"+Wg+"$1")]}),Wu(e,{props:[_t(s,/:(plac\w+)/,rr+"input-$1")]})],i)}return""})}},xM=[yM],SM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||xM,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),E=1;E<C.length;E++)s[C[E]]=!0;c.push(x)});var d,f=[bM,vM];{var g,m=[dM,fM(function(x){g.insert(x)})],b=hM(f.concat(i,m)),y=function(C){return bc(cM(C),b)};d=function(C,E,k,T){g=k,y(C?C+"{"+E.styles+"}":E.styles),T&&(S.inserted[E.name]=!0)}}var S={key:n,sheet:new XI({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return S.sheet.hydrate(c),S},k0={exports:{}},kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function wM(){if(tE)return kt;tE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function T(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case e:switch(_=_.type,_){case d:case f:case r:case s:case i:case m:return _;default:switch(_=_&&_.$$typeof,_){case c:case g:case S:case y:case a:return _;default:return O}}case n:return O}}}function R(_){return T(_)===f}return kt.AsyncMode=d,kt.ConcurrentMode=f,kt.ContextConsumer=c,kt.ContextProvider=a,kt.Element=e,kt.ForwardRef=g,kt.Fragment=r,kt.Lazy=S,kt.Memo=y,kt.Portal=n,kt.Profiler=s,kt.StrictMode=i,kt.Suspense=m,kt.isAsyncMode=function(_){return R(_)||T(_)===d},kt.isConcurrentMode=R,kt.isContextConsumer=function(_){return T(_)===c},kt.isContextProvider=function(_){return T(_)===a},kt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},kt.isForwardRef=function(_){return T(_)===g},kt.isFragment=function(_){return T(_)===r},kt.isLazy=function(_){return T(_)===S},kt.isMemo=function(_){return T(_)===y},kt.isPortal=function(_){return T(_)===n},kt.isProfiler=function(_){return T(_)===s},kt.isStrictMode=function(_){return T(_)===i},kt.isSuspense=function(_){return T(_)===m},kt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===f||_===s||_===i||_===m||_===b||typeof _=="object"&&_!==null&&(_.$$typeof===S||_.$$typeof===y||_.$$typeof===a||_.$$typeof===c||_.$$typeof===g||_.$$typeof===C||_.$$typeof===E||_.$$typeof===k||_.$$typeof===x)},kt.typeOf=T,kt}var nE;function CM(){return nE||(nE=1,k0.exports=wM()),k0.exports}var O0,rE;function EM(){if(rE)return O0;rE=1;var t=CM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function a(S){return t.isMemo(S)?i:s[S.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,b=Object.prototype;function y(S,x,C){if(typeof x!="string"){if(b){var E=m(x);E&&E!==b&&y(S,E,C)}var k=d(x);f&&(k=k.concat(f(x)));for(var T=a(S),R=a(x),_=0;_<k.length;++_){var O=k[_];if(!n[O]&&!(C&&C[O])&&!(R&&R[O])&&!(T&&T[O])){var I=g(x,O);try{c(S,O,I)}catch{}}}}return S}return O0=y,O0}EM();var AM=!0;function YT(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Sy=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||AM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},wy=function(e,n,r){Sy(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function _M(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var TM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RM=/[A-Z]|^ms/g,kM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XT=function(e){return e.charCodeAt(1)===45},iE=function(e){return e!=null&&typeof e!="boolean"},j0=BT(function(t){return XT(t)?t:t.replace(RM,"-$&").toLowerCase()}),sE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(kM,function(r,i,s){return us={name:i,styles:s,next:us},i})}return TM[e]!==1&&!XT(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ld(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return us={name:i.name,styles:i.styles,next:us},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)us={name:a.name,styles:a.styles,next:us},a=a.next;var c=s.styles+";";return c}return OM(t,e,n)}case"function":{if(t!==void 0){var d=us,f=n(t);return us=d,Ld(t,e,f)}break}}var g=n;if(e==null)return g;var m=e[g];return m!==void 0?m:g}function OM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ld(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":iE(c)&&(r+=j0(s)+":"+sE(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var d=0;d<a.length;d++)iE(a[d])&&(r+=j0(s)+":"+sE(s,a[d])+";");else{var f=Ld(t,e,a);switch(s){case"animation":case"animationName":{r+=j0(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var oE=/label:\s*([^\s;{]+)\s*(;|$)/g,us;function Cy(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";us=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ld(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=Ld(n,e,t[c]),r){var d=s;i+=d[c]}oE.lastIndex=0;for(var f="",g;(g=oE.exec(i))!==null;)f+="-"+g[1];var m=_M(i)+f;return{name:m,styles:i,next:us}}var jM=function(e){return e()},KT=WC.useInsertionEffect?WC.useInsertionEffect:!1,QT=KT||jM,aE=KT||A.useLayoutEffect,ZT=A.createContext(typeof HTMLElement<"u"?SM({key:"css"}):null);ZT.Provider;var Ey=function(e){return A.forwardRef(function(n,r){var i=A.useContext(ZT);return e(n,i,r)})},Ay=A.createContext({}),_y={}.hasOwnProperty,Cv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",PM=function(e,n){var r={};for(var i in n)_y.call(n,i)&&(r[i]=n[i]);return r[Cv]=e,r},NM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Sy(n,r,i),QT(function(){return wy(n,r,i)}),null},IM=Ey(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Cv],s=[r],a="";typeof t.className=="string"?a=YT(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=Cy(s,void 0,A.useContext(Ay));a+=e.key+"-"+c.name;var d={};for(var f in t)_y.call(t,f)&&f!=="css"&&f!==Cv&&(d[f]=t[f]);return d.className=a,n&&(d.ref=n),A.createElement(A.Fragment,null,A.createElement(NM,{cache:e,serialized:c,isStringTag:typeof i=="string"}),A.createElement(i,d))}),MM=IM,lE=function(e,n){var r=arguments;if(n==null||!_y.call(n,"css"))return A.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=MM,s[1]=PM(e,n);for(var a=2;a<i;a++)s[a]=r[a];return A.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(lE||(lE={}));var cE=Ey(function(t,e){var n=t.styles,r=Cy([n],void 0,A.useContext(Ay)),i=A.useRef();return aE(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",s),a.hydrate([d])),i.current=[a,c],function(){a.flush()}},[e]),aE(function(){var s=i.current,a=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&wy(e,r.next,!0),a.tags.length){var d=a.tags[a.tags.length-1].nextElementSibling;a.before=d,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function DM(...t){return function(...n){t.forEach(r=>r?.(...n))}}const LM=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),zM=/^on[A-Z]/;function zd(...t){let e={};for(let n of t){for(let r in e){if(zM.test(r)&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=DM(e[r],n[r]);continue}if(r==="className"||r==="class"){e[r]=LM(e[r],n[r]);continue}if(r==="style"){e[r]=Object.assign({},e[r]??{},n[r]??{});continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function FM(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function BM(...t){return e=>{t.forEach(n=>{FM(n,e)})}}function Lc(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}const Jr=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function VM(t){return t.default||t}const Tr=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),vs=t=>typeof t=="string",Ty=t=>typeof t=="function";function HM(t){const e=A.version;return!vs(e)||e.startsWith("18.")?t?.ref:t?.props?.ref}const JT=(...t)=>{const e=t.reduce((n,r)=>(r?.forEach(i=>n.add(i)),n),new Set([]));return Array.from(e)};function $M(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function vc(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=t,c=A.createContext(a);c.displayName=e;function d(){const f=A.useContext(c);if(!f&&n){const g=new Error(s??$M(r,i));throw g.name="ContextError",Error.captureStackTrace?.(g,d),g}return f}return[c.Provider,d,c]}const[UM,Ap]=vc({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function WM(t){const{value:e,children:n}=t;return h.jsxs(UM,{value:e,children:[!e._config.disableLayers&&h.jsx(cE,{styles:e.layers.atRule}),h.jsx(cE,{styles:e._global}),n]})}const GM=(t,e)=>{const n={},r={},i=Object.keys(t);for(const s of i)e(s)?r[s]=t[s]:n[s]=t[s];return[r,n]},yc=(t,e)=>{const n=Ty(e)?e:r=>e.includes(r);return GM(t,n)},qM=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function YM(t){return typeof t=="string"&&qM.has(t)}function XM(t,e,n){const{css:r,isValidProperty:i}=Ap(),{children:s,...a}=t,c=A.useMemo(()=>{const[b,y]=yc(a,k=>n(k,e.variantKeys)),[S,x]=yc(y,e.variantKeys),[C,E]=yc(x,i);return{forwardedProps:b,variantProps:S,styleProps:C,elementProps:E}},[e.variantKeys,n,a,i]),{css:d,...f}=c.styleProps,g=A.useMemo(()=>{const b={...c.variantProps};return e.variantKeys.includes("colorPalette")||(b.colorPalette=a.colorPalette),e.variantKeys.includes("orientation")||(b.orientation=a.orientation),e(b)},[e,c.variantProps,a.colorPalette,a.orientation]);return{styles:A.useMemo(()=>r(g,...KM(d),f),[r,g,d,f]),props:{...c.forwardedProps,...c.elementProps,children:s}}}const KM=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),QM=VM(GI),ZM=QM,JM=t=>t!=="theme",eD=(t,e,n)=>{let r;if(e){const i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?s=>t.__emotion_forwardProp(s)&&i(s):i}return typeof r!="function"&&n&&(r=t.__emotion_forwardProp),r};let tD=typeof document<"u";const uE=({cache:t,serialized:e,isStringTag:n})=>{Sy(t,e,n);const r=QT(()=>wy(t,e,n));if(!tD&&r!==void 0){let i=e.name,s=e.next;for(;s!==void 0;)i=Jr(i,s.name),s=s.next;return h.jsx("style",{"data-emotion":Jr(t.key,i),dangerouslySetInnerHTML:{__html:r},nonce:t.sheet.nonce})}return null},dE={path:["d"],text:["x","y"],circle:["cx","cy","r"],rect:["width","height","x","y","rx","ry"],ellipse:["cx","cy","rx","ry"],g:["transform"],stop:["offset","stopOpacity"]},nD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),rD=(t,e={},n={})=>{if(nD(dE,t)){n.forwardProps||(n.forwardProps=[]);const f=dE[t];n.forwardProps=JT([...n.forwardProps,...f])}const r=t.__emotion_real===t,i=r&&t.__emotion_base||t;let s,a;n!==void 0&&(s=n.label,a=n.target);let c=[];const d=Ey((f,g,m)=>{const{cva:b,isValidProperty:y}=Ap(),S=e.__cva__?e:b(e),x=sD(t.__emotion_cva,S),C=H=>(G,P)=>H.includes(G)?!0:!P?.includes(G)&&!y(G);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=C(n.forwardProps));const E=(H,G)=>{const P=typeof t=="string"&&t.charCodeAt(0)>96?ZM:JM,W=!G?.includes(H)&&!y(H);return P(H)&&W},k=eD(t,n,r)||E,T=A.useMemo(()=>Object.assign({},n.defaultProps,Lc(f)),[f]),{props:R,styles:_}=XM(T,x,k);let O="",I=[_],M=R;if(R.theme==null){M={};for(let H in R)M[H]=R[H];M.theme=A.useContext(Ay)}typeof R.className=="string"?O=YT(g.registered,I,R.className):R.className!=null&&(O=Jr(O,R.className));const L=Cy(c.concat(I),g.registered,M);O=Jr(O,`${g.key}-${L.name}`),a!==void 0&&(O=Jr(O,a));const $=!k("as");let U=$&&R.as||i,D={};for(let H in R)if(!($&&H==="as")){if(YM(H)){const G=H.replace("html","").toLowerCase();D[G]=R[H];continue}k(H)&&(D[H]=R[H])}D.className=O.trim(),D.ref=m;const B=n.forwardAsChild||n.forwardProps?.includes("asChild");if(R.asChild&&!B){const H=A.Children.only(R.children);U=H.type,D.children=null,Reflect.deleteProperty(D,"asChild"),D=zd(D,H.props),D.ref=BM(m,HM(H))}return D.as&&B?(D.as=void 0,h.jsxs(A.Fragment,{children:[h.jsx(uE,{cache:g,serialized:L,isStringTag:typeof U=="string"}),h.jsx(U,{asChild:!0,...D,children:h.jsx(R.as,{children:D.children})})]})):h.jsxs(A.Fragment,{children:[h.jsx(uE,{cache:g,serialized:L,isStringTag:typeof U=="string"}),h.jsx(U,{...D})]})});return d.displayName=s!==void 0?s:`chakra(${typeof i=="string"?i:i.displayName||i.name||"Component"})`,d.__emotion_real=d,d.__emotion_base=i,d.__emotion_forwardProp=n.shouldForwardProp,d.__emotion_cva=e,Object.defineProperty(d,"toString",{value(){return`.${a}`}}),d},P0=rD.bind(),N0=new Map,iD=new Proxy(P0,{apply(t,e,n){return P0(...n)},get(t,e){return N0.has(e)||N0.set(e,P0(e)),N0.get(e)}}),ln=iD,sD=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e),N=ln("div");N.displayName="Box";const oD=Object.freeze({}),aD=Object.freeze({});function lD(t){const{key:e,recipe:n}=t,r=Ap();return A.useMemo(()=>{const i=n||(e!=null?r.getRecipe(e):{});return r.cva(structuredClone(i))},[e,n,r])}const cD=t=>t.charAt(0).toUpperCase()+t.slice(1);function ws(t){const{key:e,recipe:n}=t,r=cD(e||n.className||"Component"),[i,s]=vc({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`});function a(f){const{unstyled:g,...m}=f,b=lD({key:e,recipe:m.recipe||n}),[y,S]=A.useMemo(()=>b.splitVariantProps(m),[b,m]);return{styles:g?oD:b(y),className:b.className,props:S}}const c=(f,g)=>{const m=ln(f,{},g),b=A.forwardRef((y,S)=>{const x=s(),C=A.useMemo(()=>zd(x,y),[y,x]),{styles:E,className:k,props:T}=a(C);return h.jsx(m,{...T,ref:S,css:[E,C.css],className:Jr(k,C.className)})});return b.displayName=f.displayName||f.name,b};function d(){return i}return{withContext:c,PropsProvider:i,withPropsProvider:d,usePropsContext:s,useRecipeResult:a}}const ht=A.forwardRef(function(e,n){const{templateAreas:r,column:i,row:s,autoFlow:a,autoRows:c,templateRows:d,autoColumns:f,templateColumns:g,inline:m,...b}=e;return h.jsx(ln.div,{...b,ref:n,css:[{display:m?"inline-grid":"grid",gridTemplateAreas:r,gridAutoColumns:f,gridColumn:i,gridRow:s,gridAutoFlow:a,gridAutoRows:c,gridTemplateRows:d,gridTemplateColumns:g},e.css]})});function xg(t){return t==null?[]:Array.isArray(t)?t:[t]}var _d=t=>t[0],Ry=t=>t[t.length-1],uD=(t,e)=>t.indexOf(e)!==-1,Ha=(t,...e)=>t.concat(e),Qa=(t,...e)=>t.filter(n=>!e.includes(n)),hc=t=>Array.from(new Set(t)),I0=(t,e)=>{const n=new Set(e);return t.filter(r=>!n.has(r))},Rc=(t,e)=>uD(t,e)?Qa(t,e):Ha(t,e);function eR(t,e,n={}){const{step:r=1,loop:i=!0}=n,s=e+r,a=t.length,c=a-1;return e===-1?r>0?0:c:s<0?i?c:0:s>=a?i?0:e>a?a:e:s}function dD(t,e,n={}){return t[eR(t,e,n)]}function hD(t,e,n={}){const{step:r=1,loop:i=!0}=n;return eR(t,e,{step:-r,loop:i})}function fD(t,e,n={}){return t[hD(t,e,n)]}function hE(t,e){return t.reduce(([n,r],i)=>(e(i)?n.push(i):r.push(i),[n,r]),[[],[]])}var fE=t=>t?.constructor.name==="Array",gD=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Pi(t[n],e[n]))return!1;return!0},Pi=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof t?.isEqual=="function"&&typeof e?.isEqual=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(fE(t)&&fE(e))return gD(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!Pi(t[s],e[s]))return!1}return!0},gd=t=>Array.isArray(t),pD=t=>t===!0||t===!1,tR=t=>t!=null&&typeof t=="object",$a=t=>tR(t)&&!gd(t),Sg=t=>typeof t=="string",Ua=t=>typeof t=="function",mD=t=>t==null,Oi=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),bD=t=>Object.prototype.toString.call(t),nR=Function.prototype.toString,vD=nR.call(Object),yD=t=>{if(!tR(t)||bD(t)!="[object Object]"||wD(t))return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Oi(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nR.call(n)==vD},xD=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,SD=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,wD=t=>xD(t)||SD(t),pd=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,gE=t=>t,CD=t=>t(),ED=()=>{},Gg=(...t)=>(...e)=>{t.forEach(function(n){n?.(...e)})},AD=(()=>{let t=0;return()=>(t++,t.toString(36))})();function $s(t,e,...n){if(t in e){const i=e[t];return Ua(i)?i(...n):i}const r=new Error(`No matching key: ${JSON.stringify(t)} in ${JSON.stringify(Object.keys(e))}`);throw Error.captureStackTrace?.(r,$s),r}var rR=(t,e)=>{try{return t()}catch(n){return n instanceof Error&&Error.captureStackTrace?.(n,rR),e?.()}},{floor:iR,abs:pE,round:_p,min:_D,max:TD,pow:RD,sign:kD}=Math,Ev=t=>Number.isNaN(t),Xs=t=>Ev(t)?0:t,sR=(t,e)=>(t%e+e)%e,OD=(t,e)=>(t%e+e)%e,jD=(t,e)=>Xs(t)>=e,PD=(t,e)=>Xs(t)<=e,ND=(t,e,n)=>Xs(t)>=e&&Xs(t)<=n,ID=(t,e,n)=>_p((Xs(t)-e)/n)*n+e,Rr=(t,e,n)=>_D(TD(Xs(t),e),n),MD=(t,e,n)=>(Xs(t)-e)/(n-e),DD=(t,e,n,r)=>Rr(ID(t*(n-e)+e,e,r),e,n),mE=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),s=i>=0?r.length-i:0;if(s>0){let a=RD(10,s);n=_p(n*a)/a}return n},M0=(t,e)=>typeof e=="number"?iR(t*e+.5)/e:_p(t),bE=(t,e,n,r)=>{const i=e!=null?Number(e):0,s=Number(n),a=(t-i)%r;let c=pE(a)*2>=r?t+kD(a)*(r-pE(a)):t-a;if(c=mE(c,r),!Ev(i)&&c<i)c=i;else if(!Ev(s)&&c>s){const d=iR((s-i)/r),f=i+d*r;c=d<=0||f<i?s:f}return mE(c,r)},qt=(t,e=0,n=10)=>{const r=Math.pow(n,e);return _p(t*r)/r},vE=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},oR=(t,e,n)=>{let r=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const i=10**Math.max(vE(t),vE(n));t=Math.round(t*i),n=Math.round(n*i),r=e==="+"?t+n:t-n,r/=i}return r},LD=(t,e)=>oR(Xs(t),"+",e),zD=(t,e)=>oR(Xs(t),"-",e);function Tp(t){if(!yD(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=Tp(i))}return n}function Fd(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function aR(t,e){if(t==null)throw new Error(e())}function FD(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Bi(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=t,c=A.createContext(a);c.displayName=e;function d(){const f=A.useContext(c);if(!f&&n){const g=new Error(s??FD(r,i));throw g.name="ContextError",Error.captureStackTrace?.(g,d),g}return f}return[c.Provider,d,c]}const[eQ,lR]=Bi({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function BD(t){if(!t)return;const e=t.selectionStart??0,n=t.selectionEnd??0;Math.abs(n-e)===0&&e===0&&t.setSelectionRange(t.value.length,t.value.length)}var yE=t=>Math.max(0,Math.min(1,t)),VD=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),HD=()=>{},Rp=t=>typeof t=="object"&&t!==null,$D=2147483647,Da=t=>t?"":void 0,UD=t=>t?"true":void 0,WD=1,GD=9,qD=11,gr=t=>Rp(t)&&t.nodeType===WD&&typeof t.nodeName=="string",cR=t=>Rp(t)&&t.nodeType===GD,YD=t=>Rp(t)&&t===t.window,uR=t=>gr(t)?t.localName||"":"#document";function XD(t){return["html","body","#document"].includes(uR(t))}var KD=t=>Rp(t)&&t.nodeType!==void 0,Bd=t=>KD(t)&&t.nodeType===qD&&"host"in t,QD=t=>gr(t)&&t.localName==="input",ZD=t=>!!t?.matches("a[href]"),JD=t=>gr(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,eL=/(textarea|select)/;function dR(t){if(t==null||!gr(t))return!1;try{return QD(t)&&t.selectionStart!=null||eL.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Vo(t,e){if(!t||!e||!gr(t)||!gr(e))return!1;const n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&Bd(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Vi(t){return cR(t)?t:YD(t)?t.document:t?.ownerDocument??document}function tL(t){return Vi(t).documentElement}function Hn(t){return Bd(t)?Hn(t.host):cR(t)?t.defaultView??window:gr(t)?t.ownerDocument?.defaultView??window:window}function nL(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function rL(t){if(uR(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bd(t)&&t.host||tL(t);return Bd(e)?e.host:e}var D0=new WeakMap;function ky(t){return D0.has(t)||D0.set(t,Hn(t).getComputedStyle(t)),D0.get(t)}var kp=()=>typeof document<"u";function iL(){return navigator.userAgentData?.platform??navigator.platform}function sL(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var Oy=t=>kp()&&t.test(iL()),hR=t=>kp()&&t.test(sL()),oL=t=>kp()&&t.test(navigator.vendor),xE=()=>kp()&&!!navigator.maxTouchPoints,aL=()=>Oy(/^iPhone/i),lL=()=>Oy(/^iPad/i)||rh()&&navigator.maxTouchPoints>1,jy=()=>aL()||lL(),cL=()=>rh()||jy(),rh=()=>Oy(/^Mac/i),fR=()=>cL()&&oL(/apple/i),uL=()=>hR(/Firefox/i),dL=()=>hR(/Android/i);function hL(t){return t.composedPath?.()??t.nativeEvent?.composedPath?.()}function Ii(t){return hL(t)?.[0]??t.target}var fL=t=>Vo(t.currentTarget,Ii(t));function SE(t){const e=t.currentTarget;if(!e||!e.matches("a[href], button[type='submit'], input[type='submit']"))return!1;const r=t.button===1,i=pL(t);return r||i}function wE(t){const e=t.currentTarget;if(!e)return!1;const n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function gL(t){return wL(t).isComposing||t.keyCode===229}function pL(t){return rh()?t.metaKey:t.ctrlKey}function mL(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}function bL(t){return t.mozInputSource===0&&t.isTrusted?!0:dL()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var vL=t=>t.button===0,gR=t=>t.button===2||rh()&&t.ctrlKey&&t.button===0,yL=t=>t.ctrlKey||t.altKey||t.metaKey,xL=t=>"touches"in t&&t.touches.length>0,SL={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},CE={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function EE(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=SL[i]??i,n==="rtl"&&r==="horizontal"&&i in CE&&(i=CE[i]),i}function wL(t){return t.nativeEvent??t}function md(t,e="client"){const n=xL(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Zn=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i?.addEventListener(e,n,r),()=>{i?.removeEventListener(e,n,r)}};function CL(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=Hn(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function EL(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function Op(t,e,n="value"){if(!t)return;const r=EL(t);r&&CL(t,{type:r,property:n}).set?.call(t,e),t.setAttribute(n,e)}function AL(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=Hn(t);t instanceof i.HTMLInputElement&&(Op(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function _L(t){return TL(t)?t.form:t.closest("form")}function TL(t){return t.matches("textarea, input, select, button")}function RL(t,e){if(!t)return;const n=_L(t),r=i=>{i.defaultPrevented||e()};return n?.addEventListener("reset",r,{passive:!0}),()=>n?.removeEventListener("reset",r)}function kL(t,e){const n=t?.closest("fieldset");if(!n)return;e(n.disabled);const r=Hn(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function Py(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[RL(t,r),kL(t,n)];return()=>i.forEach(s=>s?.())}var OL=t=>gr(t)&&t.tagName==="IFRAME",jL=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,pR="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function Ny(t){return!t||t.closest("[inert]")?!1:t.matches(pR)&&JD(t)}function Iy(t,e){if(!t)return[];const r=Array.from(t.querySelectorAll(pR)).filter(PL);return r.forEach((i,s)=>{if(OL(i)&&i.contentDocument){const a=i.contentDocument.body,c=Iy(a);r.splice(s,1,...c)}}),r.length,r}function PL(t){return t!=null&&t.tabIndex>0?!0:Ny(t)&&!jL(t)}function NL(t,e){const n=Iy(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function My(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e?.querySelector("[data-autofocus],[autofocus]")),!s){const a=Iy(e);s=r?a.filter(r)[0]:a[0]}return s||e||void 0}function IL(t){const e=t.currentTarget;if(!e)return!1;const[n,r]=NL(e),i=e.ownerDocument||document;return!(i.activeElement===n&&t.shiftKey||i.activeElement===r&&!t.shiftKey||!n&&!r)}function Dy(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function vt(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e?.()}}function ML(t,e,n){const r=vt(()=>{t.removeEventListener(e,i,!0),n()}),i=()=>{r(),n()};return t.addEventListener(e,i,{once:!0,capture:!0}),r}function DL(t,e){if(!t)return;const{attributes:n,callback:r}=e,i=t.ownerDocument.defaultView||window,s=new i.MutationObserver(a=>{for(const c of a)c.type==="attributes"&&c.attributeName&&n.includes(c.attributeName)&&r(c)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function jp(t,e){const{defer:n}=e,r=n?vt:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(DL(s,e))})),()=>{i.forEach(s=>s?.())}}function mR(t){const e=()=>{const n=Hn(t);t.dispatchEvent(new n.MouseEvent("click"))};uL()?ML(t,"keyup",e):queueMicrotask(e)}function qg(t){const e=rL(t);return XD(e)?Vi(e).body:gr(e)&&Ly(e)?e:qg(e)}function bR(t,e=[]){const n=qg(t),r=n===t.ownerDocument.body,i=Hn(n);return r?e.concat(i,i.visualViewport||[],Ly(n)?n:[]):e.concat(n,bR(n,[]))}var LL=/auto|scroll|overlay|hidden|clip/,zL=new Set(["inline","contents"]);function Ly(t){const e=Hn(t),{overflow:n,overflowX:r,overflowY:i,display:s}=e.getComputedStyle(t);return LL.test(n+i+r)&&!zL.has(s)}function FL(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function Yg(t,e){const{rootEl:n,...r}=e||{};!t||!n||!Ly(n)||!FL(n)||t.scrollIntoView(r)}function vR(t,e){const{left:n,top:r,width:i,height:s}=e.getBoundingClientRect(),a={x:t.x-n,y:t.y-r},c={x:yE(a.x/i),y:yE(a.y/s)};function d(f={}){const{dir:g="ltr",orientation:m="horizontal",inverted:b}=f,y=typeof b=="object"?b.x:b,S=typeof b=="object"?b.y:b;return m==="horizontal"?g==="rtl"||y?1-c.x:c.x:S?1-c.y:c.y}return{offset:a,percent:c,getPercentValue:d}}function BL(t,e){const n=t.body,r="pointerLockElement"in t||"mozPointerLockElement"in t,i=()=>!!t.pointerLockElement;function s(){}function a(d){i(),console.error("PointerLock error occurred:",d),t.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}const c=[Zn(t,"pointerlockchange",s,!1),Zn(t,"pointerlockerror",a,!1)];return()=>{c.forEach(d=>d()),t.exitPointerLock()}}var fc="default",Av="",wg=new WeakMap;function VL(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return jy()?(fc==="default"&&(Av=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),fc="disabled"):e&&(wg.set(e,e.style.userSelect),e.style.userSelect="none"),()=>HL({target:e,doc:r})}function HL(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if(jy()){if(fc!=="disabled")return;fc="restoring",setTimeout(()=>{Dy(()=>{fc==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=Av||""),Av="",fc="default")})},300)}else if(e&&wg.has(e)){const s=wg.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),wg.delete(e)}}function yR(t={}){const{defer:e,target:n,...r}=t,i=e?vt:a=>a(),s=[];return s.push(i(()=>{const a=typeof n=="function"?n():n;s.push(VL({...r,target:a}))})),()=>{s.forEach(a=>a?.())}}function $L(t,e){const{onPointerMove:n,onPointerUp:r}=e,s=[Zn(t,"pointermove",a=>{const c=md(a),d=Math.sqrt(c.x**2+c.y**2),f=a.pointerType==="touch"?10:5;if(!(d<f)){if(a.pointerType==="mouse"&&a.button===0){r();return}n({point:c,event:a})}},!1),Zn(t,"pointerup",r,!1),Zn(t,"pointercancel",r,!1),Zn(t,"contextmenu",r,!1),yR({doc:t})];return()=>{s.forEach(a=>a())}}function Xg(t,e){return Array.from(t?.querySelectorAll(e)??[])}function UL(t,e){return t?.querySelector(e)??null}var zy=t=>t.id;function WL(t,e,n=zy){return t.find(r=>n(r)===e)}function Fy(t,e,n=zy){const r=WL(t,e,n);return r?t.indexOf(r):-1}function GL(t,e,n=!0){let r=Fy(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function qL(t,e,n=!0){let r=Fy(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}var YL=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),XL=t=>YL(t.dataset?.valuetext??t.textContent??""),KL=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function QL(t,e,n,r=zy){const i=n?Fy(t,n,r):-1;let s=n?VD(t,i):t;return e.length===1&&(s=s.filter(c=>r(c)!==n)),s.find(c=>KL(XL(c),e))}function xR(t,e){if(!t)return HD;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function ZL(t,e){const{state:n,activeId:r,key:i,timeout:s=350,itemToId:a}=e,c=n.keysSoFar+i,f=c.length>1&&Array.from(c).every(S=>S===c[0])?c[0]:c;let g=t.slice();const m=QL(g,f,r,a);function b(){clearTimeout(n.timer),n.timer=-1}function y(S){n.keysSoFar=S,b(),S!==""&&(n.timer=+setTimeout(()=>{y(""),b()},s))}return y(c),m}var Vd=Object.assign(ZL,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:JL});function JL(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}function ez(t,e,n){const{signal:r}=e;return[new Promise((a,c)=>{const d=setTimeout(()=>{c(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(d),c(new Error("Promise aborted"))}),t.then(f=>{r.aborted||(clearTimeout(d),a(f))}).catch(f=>{r.aborted||(clearTimeout(d),c(f))})}),()=>e.abort()]}function tz(t,e){const{timeout:n,rootNode:r}=e,i=Hn(r),s=Vi(r),a=new i.AbortController;return ez(new Promise(c=>{const d=t();if(d){c(d);return}const f=new i.MutationObserver(()=>{const g=t();g&&g.isConnected&&(f.disconnect(),c(g))});f.observe(s.body,{childList:!0,subtree:!0})}),a,n)}var nz=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),rz=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,AE=t=>{const e={};let n;for(;n=rz.exec(t);)e[n[1]]=n[2];return e},iz=(t,e)=>{if(Sg(t)){if(Sg(e))return`${t};${e}`;t=AE(t)}else Sg(e)&&(e=AE(e));return Object.assign({},t??{},e??{})};function Ot(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=Gg(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=nz(e[r],n[r]);continue}if(r==="style"){e[r]=iz(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function _E(t,e,n){let r=[],i;return s=>{const a=t(s);return(a.length!==r.length||a.some((d,f)=>!Pi(r[f],d)))&&(r=a,i=e(...a)),i}}function Qo(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}function SR(){return{guards:Qo(),createMachine:t=>t,choose:t=>function({choose:n}){return n(t)?.actions}}}var sc=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(sc||{}),L0="__init__";function sz(t){const e=()=>t.getRootNode?.()??document,n=()=>Vi(e()),r=()=>n().defaultView??window,i=()=>nL(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:c=>c===i(),getById:c=>e().getElementById(c)}}function Pp(...t){return e=>{const n=[];for(const r of t)if(typeof r=="function"){const i=r(e);typeof i=="function"&&n.push(i)}else r&&(r.current=e);if(n.length)return()=>{for(const r of n)r()}}}function oz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const z0=t=>{const e=A.memo(A.forwardRef((n,r)=>{const{asChild:i,children:s,...a}=n;if(!i)return A.createElement(t,{...a,ref:r},s);const c=A.Children.only(s);if(!A.isValidElement(c))return null;const d=oz(c);return A.cloneElement(c,{...Ot(a,c.props),ref:r?Pp(r,d):d})}));return e.displayName=t.displayName||t.name,e},az=()=>{const t=new Map;return new Proxy(z0,{apply(e,n,r){return z0(r[0])},get(e,n){const r=n;return t.has(r)||t.set(r,z0(r)),t.get(r)}})},Jt=az(),[tQ,wR]=Bi({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),{withContext:lz}=ws({key:"heading"}),St=lz("h2"),cl=()=>(t,e)=>e.reduce((n,r)=>{const[i,s]=n,a=r;return s[a]!==void 0&&(i[a]=s[a]),delete s[a],[i,s]},[{},{...t}]),Np=t=>cl()(t,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function cz(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var Ke=()=>t=>Array.from(new Set(t));function uz(t,e){const{state:n,send:r,context:i}=t,s=n.matches("mounted","unmountSuspended");return{skip:!i.get("initial"),present:s,setNode(a){a&&r({type:"NODE.SET",node:a})},unmount(){r({type:"UNMOUNT"})}}}var dz={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,action:e,prop:n}){t([()=>n("present")],()=>{e(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},invokeOnExitComplete:({prop:t})=>{t("onExitComplete")?.()},setNode:({refs:t,event:e})=>{t.set("node",e.node)},setStyles:({refs:t,event:e})=>{t.set("styles",ky(e.node))},syncPresence:({context:t,refs:e,send:n,prop:r})=>{const i=r("present");if(i)return n({type:"MOUNT",src:"presence.changed"});const s=e.get("node");if(!i&&s?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});vt(()=>{const a=Wf(e.get("styles"));t.set("unmountAnimationName",a),a==="none"||a===t.get("prevAnimationName")||e.get("styles")?.display==="none"||e.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{vt(()=>{t.set("prevAnimationName",Wf(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const r=e.get("node");if(!r)return;const i=c=>{(c.composedPath?.()?.[0]??c.target)===r&&t.set("prevAnimationName",Wf(e.get("styles")))},s=c=>{const d=Wf(e.get("styles"));Ii(c)===r&&d===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",i),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s);const a=xR(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s),Dy(()=>a())}}}}};function Wf(t){return t?.animationName||"none"}Ke()(["onExitComplete","present","immediate"]);var Ks=FT();const Gf=th(Ks);var CR=typeof globalThis.document<"u"?A.useLayoutEffect:A.useEffect;function Kg(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[r]=A.useState(e),[i,s]=A.useState(r),a=t().value!==void 0,c=A.useRef(i);c.current=a?t().value:i;const d=A.useRef(c.current);CR(()=>{d.current=c.current},[i,t().value]);const f=m=>{const b=d.current,y=Ua(m)?m(b):m;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:y,prev:b}),a||s(y),n(y,b)||t().onChange?.(y,b)};function g(){return a?t().value:i}return{initial:r,ref:c,get:g,set(m){(t().sync?Ks.flushSync:CD)(()=>f(m))},invoke(m,b){t().onChange?.(m,b)},hash(m){return t().hash?.(m)??String(m)}}}Kg.cleanup=t=>{A.useEffect(()=>t,[])};Kg.ref=t=>{const e=A.useRef(t);return{get:()=>e.current,set:n=>{e.current=n}}};function hz(t){const e=A.useRef(t);return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}var fz=(t,e)=>{const n=A.useRef(!1),r=A.useRef(!1);A.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},[...(t??[]).map(i=>typeof i=="function"?i():i)]),A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function By(t,e={}){const n=A.useMemo(()=>{const{id:U,ids:D,getRootNode:B}=e;return sz({id:U,ids:D,getRootNode:B})},[e]),r=(...U)=>{t.debug&&console.log(...U)},i=t.props?.({props:Tp(e),scope:n})??e,s=gz(i),a=t.context?.({prop:s,bindable:Kg,scope:n,flush:TE,getContext(){return d},getComputed(){return _},getRefs(){return x},getEvent(){return y()}}),c=ER(a),d={get(U){return c.current?.[U].ref.current},set(U,D){c.current?.[U].set(D)},initial(U){return c.current?.[U].initial},hash(U){const D=c.current?.[U].get();return c.current?.[U].hash(D)}},f=A.useRef(new Map),g=A.useRef(null),m=A.useRef(null),b=A.useRef({type:""}),y=()=>({...b.current,current(){return b.current},previous(){return m.current}}),S=()=>({...O,matches(...U){return U.includes(O.ref.current)},hasTag(U){return!!t.states[O.ref.current]?.tags?.includes(U)}}),x=hz(t.refs?.({prop:s,context:d})??{}),C=()=>({state:S(),context:d,event:y(),prop:s,send:$,action:E,guard:k,track:fz,refs:x,computed:_,flush:TE,scope:n,choose:R}),E=U=>{const D=Ua(U)?U(C()):U;if(!D)return;const B=D.map(H=>{const G=t.implementations?.actions?.[H];return G||Fd(`[zag-js] No implementation found for action "${JSON.stringify(H)}"`),G});for(const H of B)H?.(C())},k=U=>Ua(U)?U(C()):t.implementations?.guards?.[U](C()),T=U=>{const D=Ua(U)?U(C()):U;if(!D)return;const B=D.map(G=>{const P=t.implementations?.effects?.[G];return P||Fd(`[zag-js] No implementation found for effect "${JSON.stringify(G)}"`),P}),H=[];for(const G of B){const P=G?.(C());P&&H.push(P)}return()=>H.forEach(G=>G?.())},R=U=>xg(U).find(D=>{let B=!D.guard;return Sg(D.guard)?B=!!k(D.guard):Ua(D.guard)&&(B=D.guard(C())),B}),_=U=>{aR(t.computed,()=>"[zag-js] No computed object found on machine");const D=t.computed[U];return D({context:d,event:y(),prop:s,refs:x,scope:n,computed:_})},O=Kg(()=>({defaultValue:t.initialState({prop:s}),onChange(U,D){D&&(f.current.get(D)?.(),f.current.delete(D)),D&&E(t.states[D]?.exit),E(g.current?.actions);const B=T(t.states[U]?.effects);if(B&&f.current.set(U,B),D===L0){E(t.entry);const H=T(t.effects);H&&f.current.set(L0,H)}E(t.states[U]?.entry)}})),I=A.useRef(void 0),M=A.useRef(sc.NotStarted);CR(()=>{queueMicrotask(()=>{const B=M.current===sc.Started;M.current=sc.Started,r(B?"rehydrating...":"initializing...");const H=I.current??O.initial;O.invoke(H,B?O.get():L0)});const U=f.current,D=O.ref.current;return()=>{r("unmounting..."),I.current=D,M.current=sc.Stopped,U.forEach(B=>B?.()),f.current=new Map,g.current=null,queueMicrotask(()=>{E(t.exit)})}},[]);const L=()=>"ref"in O?O.ref.current:O.get(),$=U=>{queueMicrotask(()=>{if(M.current!==sc.Started)return;m.current=b.current,b.current=U,r("send",U);let D=L();const B=t.states[D].on?.[U.type]??t.on?.[U.type],H=R(B);if(!H)return;g.current=H;const G=H.target??D;r("transition",H);const P=G!==D;P?Ks.flushSync(()=>O.set(G)):H.reenter&&!P?O.invoke(D,D):E(H.actions??[])})};return t.watch?.(C()),{state:S(),send:$,context:d,prop:s,scope:n,refs:x,computed:_,event:y(),getStatus:()=>M.current}}function ER(t){const e=A.useRef(t);return e.current=t,e}function gz(t){const e=ER(t);return function(r){return e.current[r]}}function TE(t){queueMicrotask(()=>{Ks.flushSync(()=>t())})}var AR=cz(t=>t);function pz(t,e={}){const{sync:n=!1}=e,r=mz(t);return A.useCallback((...i)=>n?queueMicrotask(()=>r.current?.(...i)):r.current?.(...i),[n,r])}function mz(t){const e=A.useRef(t);return e.current=t,e}const Ip=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:r,skipAnimationOnMount:i=!1,...s}=t,a=A.useRef(!1),c={...s,present:r,onExitComplete:pz(t.onExitComplete)},d=By(dz,c),f=uz(d);f.present&&(a.current=!0);const g=!f.present&&!a.current&&e||n&&!f.present&&a.current,m=()=>({"data-state":f.skip&&i?void 0:r?"open":"closed",hidden:!f.present});return{ref:f.setNode,getPresenceProps:m,present:f.present,unmounted:g}},[Mp,ih]=Bi({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),qf=ln("span"),{withContext:bz}=ws({key:"text"}),V=bz("p");function RE(t,e=[]){const n=A.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return A.useInsertionEffect(()=>{n.current=t}),A.useCallback((...r)=>n.current?.(...r),e)}function kE(t={}){const e=RE(t.onOpen),n=RE(t.onClose),[r,i]=A.useState(t.defaultOpen||!1),s=t.open!==void 0?t.open:r,a=t.open!==void 0,c=A.useCallback(()=>{a||i(!1),n?.()},[a,n]),d=A.useCallback(()=>{a||i(!0),e?.()},[a,e]),f=A.useCallback(()=>{s?c():d()},[s,d,c]);return{open:s,onOpen:d,onClose:c,onToggle:f,setOpen:i}}var Ye=(t,e=[])=>({parts:(...n)=>{if(vz(e))return Ye(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Ye(t,[...e,...n]),omit:(...n)=>Ye(t,e.filter(r=>!n.includes(r))),rename:n=>Ye(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ql(t)}"][data-part="${Ql(r)}"]`,`& [data-scope="${Ql(t)}"][data-part="${Ql(r)}"]`].join(", "),attrs:{"data-scope":Ql(t),"data-part":Ql(r)}}}),{})}),Ql=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),vz=t=>t.length===0,_R=Ye("collapsible").parts("root","trigger","content","indicator");_R.build();Ke()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var yz=Object.defineProperty,xz=(t,e,n)=>e in t?yz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vy=(t,e,n)=>xz(t,e+"",n),Sz=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},Hy=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}getChannelValuePercent(t,e){const n=e??this.getChannelValue(t),{minValue:r,maxValue:i}=this.getChannelRange(t);return MD(n,r,i)}getChannelPercentValue(t,e){const{minValue:n,maxValue:r,step:i}=this.getChannelRange(t),s=DD(e,n,r,i);return bE(s,n,r,i)}withChannelValue(t,e){const{minValue:n,maxValue:r}=this.getChannelRange(t);if(t in this){let i=this.clone();return i[t]=Rr(e,n,r),i}throw new Error("Unsupported color channel: "+t)}getColorAxes(t){let{xChannel:e,yChannel:n}=t,r=e||this.getChannels().find(a=>a!==n),i=n||this.getChannels().find(a=>a!==r),s=this.getChannels().find(a=>a!==r&&a!==i);return{xChannel:r,yChannel:i,zChannel:s}}incrementChannel(t,e){const{minValue:n,maxValue:r,step:i}=this.getChannelRange(t),s=bE(Rr(this.getChannelValue(t)+e,n,r),n,r,i);return this.withChannelValue(t,s)}decrementChannel(t,e){return this.incrementChannel(t,-e)}isEqual(t){return Sz(this.toJSON(),t.toJSON())&&this.getChannelValue("alpha")===t.getChannelValue("alpha")}},wz=/^#[\da-f]+$/i,Cz=/^rgba?\((.*)\)$/,Ez=/[^#]/gi,TR=class Cg extends Hy{constructor(e,n,r,i){super(),this.red=e,this.green=n,this.blue=r,this.alpha=i}static parse(e){let n=[];if(wz.test(e)&&[4,5,7,9].includes(e.length)){const i=(e.length<6?e.replace(Ez,"$&$&"):e).slice(1).split("");for(;i.length>0;)n.push(parseInt(i.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=e.match(Cz);return r?.[1]&&(n=r[1].split(",").map(i=>Number(i.trim())).map((i,s)=>Rr(i,0,s<3?255:1))),n.length<3?void 0:new Cg(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,c=s===0?0:a/s;let d=0;if(a!==0){switch(s){case e:d=(n-r)/a+(n<r?6:0);break;case n:d=(r-e)/a+2;break;case r:d=(e-n)/a+4;break}d/=6}return new Wy(qt(d*360,2),qt(c*100,2),qt(s*100,2),qt(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=(s+i)/2,c=s-i;let d=-1,f=-1;if(c===0)d=f=0;else{switch(f=c/(a<.5?s+i:2-s-i),s){case e:d=(n-r)/c+(n<r?6:0);break;case n:d=(r-e)/c+2;break;case r:d=(e-n)/c+4;break}d/=6}return new Uy(qt(d*360,2),qt(f*100,2),qt(a*100,2),qt(this.alpha,2))}clone(){return new Cg(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return Cg.colorChannels}};Vy(TR,"colorChannels",["red","green","blue"]);var $y=TR,Az=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,RR=class Eg extends Hy{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.lightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(Az)){const[r,i,s,a]=(n[1]??n[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new Eg(sR(r,360),Rr(i,0,100),Rr(s,0,100),Rr(a??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${qt(this.saturation,2)}%, ${qt(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${qt(this.saturation,2)}%, ${qt(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,r=n+e*Math.min(n,1-n);return e=r===0?0:2*(1-n/r),new Wy(qt(this.hue,2),qt(e*100,2),qt(r*100,2),qt(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.lightness/100,i=n*Math.min(r,1-r),s=(a,c=(a+e/30)%12)=>r-i*Math.max(Math.min(c-3,9-c,1),-1);return new $y(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),qt(this.alpha,2))}clone(){return new Eg(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Eg.colorChannels}};Vy(RR,"colorChannels",["hue","saturation","lightness"]);var Uy=RR,_z=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,kR=class Ag extends Hy{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.brightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(_z)){const[r,i,s,a]=(n[1]??n[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new Ag(sR(r,360),Rr(i,0,100),Rr(s,0,100),Rr(a??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${qt(this.saturation,2)}%, ${qt(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${qt(this.saturation,2)}%, ${qt(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,r=n*(1-e/2);return e=r===0||r===1?0:(n-r)/Math.min(r,1-r),new Uy(qt(this.hue,2),qt(e*100,2),qt(r*100,2),qt(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.brightness/100,i=(s,a=(s+e/60)%6)=>r-n*r*Math.max(Math.min(a,4-a,1),0);return new $y(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),qt(this.alpha,2))}clone(){return new Ag(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return Ag.colorChannels}};Vy(kR,"colorChannels",["hue","saturation","brightness"]);var Wy=kR,Tz="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",Rz=t=>{const e=new Map,n=t.split(",");for(let r=0;r<n.length;r++){const[i,s]=n[r].split(":");e.set(i,`#${s}`),i.includes("gray")&&e.set(i.replace("gray","grey"),`#${s}`)}return e},OE=Rz(Tz),Qg=t=>{if(OE.has(t))return Qg(OE.get(t));const e=$y.parse(t)||Wy.parse(t)||Uy.parse(t);if(!e){const n=new Error("Invalid color value: "+t);throw Error.captureStackTrace?.(n,Qg),n}return e};const kz=["top","right","bottom","left"],$o=Math.min,Kr=Math.max,Zg=Math.round,Yf=Math.floor,ps=t=>({x:t,y:t}),Oz={left:"right",right:"left",bottom:"top",top:"bottom"},jz={start:"end",end:"start"};function _v(t,e,n){return Kr(t,$o(e,n))}function Qs(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function zc(t){return t.split("-")[1]}function Gy(t){return t==="x"?"y":"x"}function qy(t){return t==="y"?"height":"width"}const Pz=new Set(["top","bottom"]);function fs(t){return Pz.has(Zs(t))?"y":"x"}function Yy(t){return Gy(fs(t))}function Nz(t,e,n){n===void 0&&(n=!1);const r=zc(t),i=Yy(t),s=qy(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Jg(a)),[a,Jg(a)]}function Iz(t){const e=Jg(t);return[Tv(t),e,Tv(e)]}function Tv(t){return t.replace(/start|end/g,e=>jz[e])}const jE=["left","right"],PE=["right","left"],Mz=["top","bottom"],Dz=["bottom","top"];function Lz(t,e,n){switch(t){case"top":case"bottom":return n?e?PE:jE:e?jE:PE;case"left":case"right":return e?Mz:Dz;default:return[]}}function zz(t,e,n,r){const i=zc(t);let s=Lz(Zs(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Tv)))),s}function Jg(t){return t.replace(/left|right|bottom|top/g,e=>Oz[e])}function Fz(t){return{top:0,right:0,bottom:0,left:0,...t}}function OR(t){return typeof t!="number"?Fz(t):{top:t,right:t,bottom:t,left:t}}function ep(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NE(t,e,n){let{reference:r,floating:i}=t;const s=fs(e),a=Yy(e),c=qy(a),d=Zs(e),f=s==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[c]/2-i[c]/2;let y;switch(d){case"top":y={x:g,y:r.y-i.height};break;case"bottom":y={x:g,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(zc(e)){case"start":y[a]-=b*(n&&f?-1:1);break;case"end":y[a]+=b*(n&&f?-1:1);break}return y}const Bz=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=NE(f,r,d),b=r,y={},S=0;for(let x=0;x<c.length;x++){const{name:C,fn:E}=c[x],{x:k,y:T,data:R,reset:_}=await E({x:g,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:y,rects:f,platform:a,elements:{reference:t,floating:e}});g=k??g,m=T??m,y={...y,[C]:{...y[C],...R}},_&&S<=50&&(S++,typeof _=="object"&&(_.placement&&(b=_.placement),_.rects&&(f=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:g,y:m}=NE(f,b,d)),x=-1)}return{x:g,y:m,placement:b,strategy:i,middlewareData:y}};async function Hd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:y=0}=Qs(e,t),S=OR(y),C=c[b?m==="floating"?"reference":"floating":m],E=ep(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:g,strategy:d})),k=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),R=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},_=ep(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:T,strategy:d}):k);return{top:(E.top-_.top+S.top)/R.y,bottom:(_.bottom-E.bottom+S.bottom)/R.y,left:(E.left-_.left+S.left)/R.x,right:(_.right-E.right+S.right)/R.x}}const Vz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:c,middlewareData:d}=e,{element:f,padding:g=0}=Qs(t,e)||{};if(f==null)return{};const m=OR(g),b={x:n,y:r},y=Yy(i),S=qy(y),x=await a.getDimensions(f),C=y==="y",E=C?"top":"left",k=C?"bottom":"right",T=C?"clientHeight":"clientWidth",R=s.reference[S]+s.reference[y]-b[y]-s.floating[S],_=b[y]-s.reference[y],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let I=O?O[T]:0;(!I||!await(a.isElement==null?void 0:a.isElement(O)))&&(I=c.floating[T]||s.floating[S]);const M=R/2-_/2,L=I/2-x[S]/2-1,$=$o(m[E],L),U=$o(m[k],L),D=$,B=I-x[S]-U,H=I/2-x[S]/2+M,G=_v(D,H,B),P=!d.arrow&&zc(i)!=null&&H!==G&&s.reference[S]/2-(H<D?$:U)-x[S]/2<0,W=P?H<D?H-D:H-B:0;return{[y]:b[y]+W,data:{[y]:G,centerOffset:H-G-W,...P&&{alignmentOffset:W}},reset:P}}}),Hz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...C}=Qs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Zs(i),k=fs(c),T=Zs(c)===c,R=await(d.isRTL==null?void 0:d.isRTL(f.floating)),_=b||(T||!x?[Jg(c)]:Iz(c)),O=S!=="none";!b&&O&&_.push(...zz(c,x,S,R));const I=[c,..._],M=await Hd(e,C),L=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&L.push(M[E]),m){const H=Nz(i,a,R);L.push(M[H[0]],M[H[1]])}if($=[...$,{placement:i,overflows:L}],!L.every(H=>H<=0)){var U,D;const H=(((U=s.flip)==null?void 0:U.index)||0)+1,G=I[H];if(G&&(!(m==="alignment"?k!==fs(G):!1)||$.every(Q=>Q.overflows[0]>0&&fs(Q.placement)===k)))return{data:{index:H,overflows:$},reset:{placement:G}};let P=(D=$.filter(W=>W.overflows[0]<=0).sort((W,Q)=>W.overflows[1]-Q.overflows[1])[0])==null?void 0:D.placement;if(!P)switch(y){case"bestFit":{var B;const W=(B=$.filter(Q=>{if(O){const se=fs(Q.placement);return se===k||se==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(se=>se>0).reduce((se,F)=>se+F,0)]).sort((Q,se)=>Q[1]-se[1])[0])==null?void 0:B[0];W&&(P=W);break}case"initialPlacement":P=c;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function IE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ME(t){return kz.some(e=>t[e]>=0)}const $z=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Qs(t,e);switch(r){case"referenceHidden":{const s=await Hd(e,{...i,elementContext:"reference"}),a=IE(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ME(a)}}}case"escaped":{const s=await Hd(e,{...i,altBoundary:!0}),a=IE(s,n.floating);return{data:{escapedOffsets:a,escaped:ME(a)}}}default:return{}}}}},jR=new Set(["left","top"]);async function Uz(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Zs(n),c=zc(n),d=fs(n)==="y",f=jR.has(a)?-1:1,g=s&&d?-1:1,m=Qs(e,t);let{mainAxis:b,crossAxis:y,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof S=="number"&&(y=c==="end"?S*-1:S),d?{x:y*g,y:b*f}:{x:b*f,y:y*g}}const Wz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:c}=e,d=await Uz(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:a}}}}},Gz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:E,y:k}=C;return{x:E,y:k}}},...d}=Qs(t,e),f={x:n,y:r},g=await Hd(e,d),m=fs(Zs(i)),b=Gy(m);let y=f[b],S=f[m];if(s){const C=b==="y"?"top":"left",E=b==="y"?"bottom":"right",k=y+g[C],T=y-g[E];y=_v(k,y,T)}if(a){const C=m==="y"?"top":"left",E=m==="y"?"bottom":"right",k=S+g[C],T=S-g[E];S=_v(k,S,T)}const x=c.fn({...e,[b]:y,[m]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[b]:s,[m]:a}}}}}},qz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Qs(t,e),g={x:n,y:r},m=fs(i),b=Gy(m);let y=g[b],S=g[m];const x=Qs(c,e),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const T=b==="y"?"height":"width",R=s.reference[b]-s.floating[T]+C.mainAxis,_=s.reference[b]+s.reference[T]-C.mainAxis;y<R?y=R:y>_&&(y=_)}if(f){var E,k;const T=b==="y"?"width":"height",R=jR.has(Zs(i)),_=s.reference[m]-s.floating[T]+(R&&((E=a.offset)==null?void 0:E[m])||0)+(R?0:C.crossAxis),O=s.reference[m]+s.reference[T]+(R?0:((k=a.offset)==null?void 0:k[m])||0)-(R?C.crossAxis:0);S<_?S=_:S>O&&(S=O)}return{[b]:y,[m]:S}}}},Yz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:c}=e,{apply:d=()=>{},...f}=Qs(t,e),g=await Hd(e,f),m=Zs(i),b=zc(i),y=fs(i)==="y",{width:S,height:x}=s.floating;let C,E;m==="top"||m==="bottom"?(C=m,E=b===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(E=m,C=b==="end"?"top":"bottom");const k=x-g.top-g.bottom,T=S-g.left-g.right,R=$o(x-g[C],k),_=$o(S-g[E],T),O=!e.middlewareData.shift;let I=R,M=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=k),O&&!b){const $=Kr(g.left,0),U=Kr(g.right,0),D=Kr(g.top,0),B=Kr(g.bottom,0);y?M=S-2*($!==0||U!==0?$+U:Kr(g.left,g.right)):I=x-2*(D!==0||B!==0?D+B:Kr(g.top,g.bottom))}await d({...e,availableWidth:M,availableHeight:I});const L=await a.getDimensions(c.floating);return S!==L.width||x!==L.height?{reset:{rects:!0}}:{}}}};function Dp(){return typeof window<"u"}function Fc(t){return PR(t)?(t.nodeName||"").toLowerCase():"#document"}function ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cs(t){var e;return(e=(PR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PR(t){return Dp()?t instanceof Node||t instanceof ei(t).Node:!1}function Mi(t){return Dp()?t instanceof Element||t instanceof ei(t).Element:!1}function ys(t){return Dp()?t instanceof HTMLElement||t instanceof ei(t).HTMLElement:!1}function DE(t){return!Dp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ei(t).ShadowRoot}const Xz=new Set(["inline","contents"]);function sh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Di(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Xz.has(i)}const Kz=new Set(["table","td","th"]);function Qz(t){return Kz.has(Fc(t))}const Zz=[":popover-open",":modal"];function Lp(t){return Zz.some(e=>{try{return t.matches(e)}catch{return!1}})}const Jz=["transform","translate","scale","rotate","perspective"],e3=["transform","translate","scale","rotate","perspective","filter"],t3=["paint","layout","strict","content"];function Xy(t){const e=Ky(),n=Mi(t)?Di(t):t;return Jz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||e3.some(r=>(n.willChange||"").includes(r))||t3.some(r=>(n.contain||"").includes(r))}function n3(t){let e=Uo(t);for(;ys(e)&&!kc(e);){if(Xy(e))return e;if(Lp(e))return null;e=Uo(e)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const r3=new Set(["html","body","#document"]);function kc(t){return r3.has(Fc(t))}function Di(t){return ei(t).getComputedStyle(t)}function zp(t){return Mi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Uo(t){if(Fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DE(t)&&t.host||Cs(t);return DE(e)?e.host:e}function NR(t){const e=Uo(t);return kc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&sh(e)?e:NR(e)}function $d(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ei(i);if(s){const c=Rv(a);return e.concat(a,a.visualViewport||[],sh(i)?i:[],c&&n?$d(c):[])}return e.concat(i,$d(i,[],n))}function Rv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IR(t){const e=Di(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ys(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=Zg(n)!==s||Zg(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function Qy(t){return Mi(t)?t:t.contextElement}function xc(t){const e=Qy(t);if(!ys(e))return ps(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=IR(e);let a=(s?Zg(n.width):n.width)/r,c=(s?Zg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const i3=ps(0);function MR(t){const e=ei(t);return!Ky()||!e.visualViewport?i3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ei(t)?!1:e}function tl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Qy(t);let a=ps(1);e&&(r?Mi(r)&&(a=xc(r)):a=xc(t));const c=s3(s,n,r)?MR(s):ps(0);let d=(i.left+c.x)/a.x,f=(i.top+c.y)/a.y,g=i.width/a.x,m=i.height/a.y;if(s){const b=ei(s),y=r&&Mi(r)?ei(r):r;let S=b,x=Rv(S);for(;x&&r&&y!==S;){const C=xc(x),E=x.getBoundingClientRect(),k=Di(x),T=E.left+(x.clientLeft+parseFloat(k.paddingLeft))*C.x,R=E.top+(x.clientTop+parseFloat(k.paddingTop))*C.y;d*=C.x,f*=C.y,g*=C.x,m*=C.y,d+=T,f+=R,S=ei(x),x=Rv(S)}}return ep({width:g,height:m,x:d,y:f})}function Zy(t,e){const n=zp(t).scrollLeft;return e?e.left+n:tl(Cs(t)).left+n}function DR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Zy(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function o3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Cs(r),c=e?Lp(e.floating):!1;if(r===a||c&&s)return n;let d={scrollLeft:0,scrollTop:0},f=ps(1);const g=ps(0),m=ys(r);if((m||!m&&!s)&&((Fc(r)!=="body"||sh(a))&&(d=zp(r)),ys(r))){const y=tl(r);f=xc(r),g.x=y.x+r.clientLeft,g.y=y.y+r.clientTop}const b=a&&!m&&!s?DR(a,d,!0):ps(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+g.x+b.x,y:n.y*f.y-d.scrollTop*f.y+g.y+b.y}}function a3(t){return Array.from(t.getClientRects())}function l3(t){const e=Cs(t),n=zp(t),r=t.ownerDocument.body,i=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Zy(t);const c=-n.scrollTop;return Di(r).direction==="rtl"&&(a+=Kr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:c}}function c3(t,e){const n=ei(t),r=Cs(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,c=0,d=0;if(i){s=i.width,a=i.height;const f=Ky();(!f||f&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:a,x:c,y:d}}const u3=new Set(["absolute","fixed"]);function d3(t,e){const n=tl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ys(t)?xc(t):ps(1),a=t.clientWidth*s.x,c=t.clientHeight*s.y,d=i*s.x,f=r*s.y;return{width:a,height:c,x:d,y:f}}function LE(t,e,n){let r;if(e==="viewport")r=c3(t,n);else if(e==="document")r=l3(Cs(t));else if(Mi(e))r=d3(e,n);else{const i=MR(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ep(r)}function LR(t,e){const n=Uo(t);return n===e||!Mi(n)||kc(n)?!1:Di(n).position==="fixed"||LR(n,e)}function h3(t,e){const n=e.get(t);if(n)return n;let r=$d(t,[],!1).filter(c=>Mi(c)&&Fc(c)!=="body"),i=null;const s=Di(t).position==="fixed";let a=s?Uo(t):t;for(;Mi(a)&&!kc(a);){const c=Di(a),d=Xy(a);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&u3.has(i.position)||sh(a)&&!d&&LR(t,a))?r=r.filter(g=>g!==a):i=c,a=Uo(a)}return e.set(t,r),r}function f3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Lp(e)?[]:h3(e,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,g)=>{const m=LE(e,g,i);return f.top=Kr(m.top,f.top),f.right=$o(m.right,f.right),f.bottom=$o(m.bottom,f.bottom),f.left=Kr(m.left,f.left),f},LE(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function g3(t){const{width:e,height:n}=IR(t);return{width:e,height:n}}function p3(t,e,n){const r=ys(e),i=Cs(e),s=n==="fixed",a=tl(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const d=ps(0);function f(){d.x=Zy(i)}if(r||!r&&!s)if((Fc(e)!=="body"||sh(i))&&(c=zp(e)),r){const y=tl(e,!0,s,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else i&&f();s&&!r&&i&&f();const g=i&&!r&&!s?DR(i,c):ps(0),m=a.left+c.scrollLeft-d.x-g.x,b=a.top+c.scrollTop-d.y-g.y;return{x:m,y:b,width:a.width,height:a.height}}function F0(t){return Di(t).position==="static"}function zE(t,e){if(!ys(t)||Di(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cs(t)===n&&(n=n.ownerDocument.body),n}function zR(t,e){const n=ei(t);if(Lp(t))return n;if(!ys(t)){let i=Uo(t);for(;i&&!kc(i);){if(Mi(i)&&!F0(i))return i;i=Uo(i)}return n}let r=zE(t,e);for(;r&&Qz(r)&&F0(r);)r=zE(r,e);return r&&kc(r)&&F0(r)&&!Xy(r)?n:r||n3(t)||n}const m3=async function(t){const e=this.getOffsetParent||zR,n=this.getDimensions,r=await n(t.floating);return{reference:p3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b3(t){return Di(t).direction==="rtl"}const v3={convertOffsetParentRelativeRectToViewportRelativeRect:o3,getDocumentElement:Cs,getClippingRect:f3,getOffsetParent:zR,getElementRects:m3,getClientRects:a3,getDimensions:g3,getScale:xc,isElement:Mi,isRTL:b3};function FR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function y3(t,e){let n=null,r;const i=Cs(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const f=t.getBoundingClientRect(),{left:g,top:m,width:b,height:y}=f;if(c||e(),!b||!y)return;const S=Yf(m),x=Yf(i.clientWidth-(g+b)),C=Yf(i.clientHeight-(m+y)),E=Yf(g),T={rootMargin:-S+"px "+-x+"px "+-C+"px "+-E+"px",threshold:Kr(0,$o(1,d))||1};let R=!0;function _(O){const I=O[0].intersectionRatio;if(I!==d){if(!R)return a();I?a(!1,I):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!FR(f,t.getBoundingClientRect())&&a(),R=!1}try{n=new IntersectionObserver(_,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,T)}n.observe(t)}return a(!0),s}function BR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Qy(t),g=i||s?[...f?$d(f):[],...$d(e)]:[];g.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const m=f&&c?y3(f,n):null;let b=-1,y=null;a&&(y=new ResizeObserver(E=>{let[k]=E;k&&k.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),f&&!d&&y.observe(f),y.observe(e));let S,x=d?tl(t):null;d&&C();function C(){const E=tl(t);x&&!FR(x,E)&&n(),x=E,S=requestAnimationFrame(C)}return n(),()=>{var E;g.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),m?.(),(E=y)==null||E.disconnect(),y=null,d&&cancelAnimationFrame(S)}}const x3=Wz,VR=Gz,HR=Hz,S3=Yz,w3=$z,C3=Vz,E3=qz,$R=(t,e,n)=>{const r=new Map,i={platform:v3,...n},s={...i.platform,_c:r};return Bz(t,e,{...i,platform:s})};function FE(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function A3(t){if(!t)return FE();const{x:e,y:n,width:r,height:i}=t;return FE(e,n,r,i)}function _3(t,e){return{contextElement:gr(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e?.(n);return r||!n?A3(r):n.getBoundingClientRect()}}}var Gu=t=>({variable:t,reference:`var(${t})`}),Ws={arrowSize:Gu("--arrow-size"),arrowSizeHalf:Gu("--arrow-size-half"),arrowBg:Gu("--arrow-background"),transformOrigin:Gu("--transform-origin"),arrowOffset:Gu("--arrow-offset")},T3=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),R3={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=T3(r)[t],{floating:s}=e;return s.style.setProperty(Ws.transformOrigin.variable,i),{data:{transformOrigin:i}}}},k3={name:"rects",fn({rects:t}){return{data:t}}},O3=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${Ws.arrowOffset.reference})`}),{}}}};function j3(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function P3(t){return t.split("-")[0]}var N3={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function BE(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function UR(t){return pd(t.boundary)}function I3(t,e){if(t)return C3({element:t,padding:e.arrowPadding})}function M3(t,e){if(!mD(e.offset??e.gutter))return x3(({placement:n})=>{const r=(t?.clientHeight||0)/2,i=e.offset?.mainAxis??e.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:a}=j3(n),c=a?void 0:e.shift,d=e.offset?.crossAxis??c;return Tp({crossAxis:d,mainAxis:s,alignmentAxis:e.shift})})}function D3(t){if(t.flip)return HR({boundary:UR(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function L3(t){if(!(!t.slide&&!t.overlap))return VR({boundary:UR(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:E3()})}function z3(t){return S3({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const s=e.floating,a=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${a}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function F3(t){if(t.hideWhenDetached)return w3({strategy:"referenceHidden",boundary:t.boundary?.()??"clippingAncestors"})}function B3(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function V3(t,e,n={}){const r=_3(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},N3,n),s=e.querySelector("[data-part=arrow]"),a=[M3(s,i),D3(i),L3(i),I3(s,i),O3(s),R3,z3(i),F3(i),k3],{placement:c,strategy:d,onComplete:f,onPositioned:g}=i,m=async()=>{if(!r||!e)return;const x=await $R(r,e,{placement:c,middleware:a,strategy:d});f?.(x),g?.({placed:!0});const C=Hn(e),E=BE(C,x.x),k=BE(C,x.y);e.style.setProperty("--x",`${E}px`),e.style.setProperty("--y",`${k}px`),i.hideWhenDetached&&(x.middlewareData.hide?.referenceHidden?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const T=e.firstElementChild;if(T){const R=ky(T);e.style.setProperty("--z-index",R.zIndex)}},b=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:m,floatingElement:e}),g?.({placed:!0})):await m()},y=B3(i.listeners),S=i.listeners?BR(r,e,b,y):ED;return b(),()=>{S?.(),g?.({placed:!1})}}function Li(t,e,n={}){const{defer:r,...i}=n,s=r?vt:c=>c(),a=[];return a.push(s(()=>{const c=typeof t=="function"?t():t,d=typeof e=="function"?e():e;a.push(V3(c,d,i))})),()=>{a.forEach(c=>c?.())}}var H3={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function WR(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:Ws.arrowSize.reference,height:Ws.arrowSize.reference,[Ws.arrowSizeHalf.variable]:`calc(${Ws.arrowSize.reference} / 2)`,[Ws.arrowOffset.variable]:`calc(${Ws.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?H3[e.split("-")[0]]:void 0,background:Ws.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function $3(t){const e={each(n){for(let r=0;r<t.frames?.length;r+=1){const i=t.frames[r];i&&n(i)}},addEventListener(n,r,i){return e.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return e}function U3(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e?.addEventListener(n,r,i)}catch{}return()=>{try{e?.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e?.removeEventListener(n,r,i)}catch{}}}}var VE="pointerdown.outside",HE="focus.outside";function W3(t){for(const e of t)if(gr(e)&&Ny(e))return!0;return!1}var GR=t=>"clientY"in t;function G3(t,e){if(!GR(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function q3(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function $E(t,e){if(!e||!GR(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,s=i&&t.clientY>e.offsetTop+e.clientHeight,a={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},c={x:t.clientX,y:t.clientY};return q3(a,c)?r||s:!1}function Y3(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:a}=e;if(!t)return;const c=Vi(t),d=Hn(t),f=$3(d),g=U3(d);function m(k,T){if(!gr(T)||!T.isConnected||Vo(t,T)||G3(t,k))return!1;const R=c.querySelector(`[aria-controls="${t.id}"]`);if(R){const O=qg(R);if($E(k,O))return!1}const _=qg(t);return $E(k,_)?!1:!n?.(T)}const b=new Set,y=Bd(t?.getRootNode());function S(k){function T(R){const _=a&&!xE()?vt:M=>M(),O=R??k,I=O?.composedPath?.()??[O?.target];_(()=>{const M=y?I[0]:Ii(k);if(!(!t||!m(k,M))){if(i||s){const L=Gg(i,s);t.addEventListener(VE,L,{once:!0})}UE(t,VE,{bubbles:!1,cancelable:!0,detail:{originalEvent:O,contextmenu:gR(O),focusable:W3(I),target:M}})}})}k.pointerType==="touch"?(b.forEach(R=>R()),b.add(Zn(c,"click",T,{once:!0})),b.add(g.addEventListener("click",T,{once:!0})),b.add(f.addEventListener("click",T,{once:!0}))):T()}const x=new Set,C=setTimeout(()=>{x.add(Zn(c,"pointerdown",S,!0)),x.add(g.addEventListener("pointerdown",S,!0)),x.add(f.addEventListener("pointerdown",S,!0))},0);function E(k){(a?vt:R=>R())(()=>{const R=Ii(k);if(!(!t||!m(k,R))){if(r||s){const _=Gg(r,s);t.addEventListener(HE,_,{once:!0})}UE(t,HE,{bubbles:!1,cancelable:!0,detail:{originalEvent:k,contextmenu:!1,focusable:Ny(R),target:R}})}})}return xE()||(x.add(Zn(c,"focusin",E,!0)),x.add(g.addEventListener("focusin",E,!0)),x.add(f.addEventListener("focusin",E,!0))),()=>{clearTimeout(C),b.forEach(k=>k()),x.forEach(k=>k())}}function X3(t,e){const{defer:n}=e,r=n?vt:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(Y3(s,e))})),()=>{i.forEach(s=>s?.())}}function UE(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function K3(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e?.(r))};return Zn(Vi(t),"keydown",n,{capture:!0})}var Ri={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return e<n},isTopMost(t){return this.layers[this.count()-1]?.node===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Vo(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Vo(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){this.layers[this.indexOf(t)]?.dismiss()},clear(){this.remove(this.layers[0].node)}},WE;function GE(){Ri.layers.forEach(({node:t})=>{t.style.pointerEvents=Ri.isBelowPointerBlockingLayer(t)?"none":"auto"})}function Q3(t){t.style.pointerEvents=""}function Z3(t,e){const n=Vi(t),r=[];return Ri.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(WE=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e?.forEach(i=>{const[s,a]=tz(()=>{const c=i();return gr(c)?c:null},{timeout:1e3});s.then(c=>r.push(xR(c,{pointerEvents:"auto"}))),r.push(a)}),()=>{Ri.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=WE,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function J3(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){Fd("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:s,debug:a}=e,c={dismiss:r,node:t,pointerBlocking:i};Ri.add(c),GE();function d(y){const S=Ii(y.detail.originalEvent);Ri.isBelowPointerBlockingLayer(t)||Ri.isInBranch(S)||(e.onPointerDownOutside?.(y),e.onInteractOutside?.(y),!y.defaultPrevented&&(a&&console.log("onPointerDownOutside:",y.detail.originalEvent),r?.()))}function f(y){const S=Ii(y.detail.originalEvent);Ri.isInBranch(S)||(e.onFocusOutside?.(y),e.onInteractOutside?.(y),!y.defaultPrevented&&(a&&console.log("onFocusOutside:",y.detail.originalEvent),r?.()))}function g(y){Ri.isTopMost(t)&&(e.onEscapeKeyDown?.(y),!y.defaultPrevented&&r&&(y.preventDefault(),r()))}function m(y){if(!t)return!1;const S=typeof s=="function"?s():s,x=Array.isArray(S)?S:[S],C=e.persistentElements?.map(E=>E()).filter(gr);return C&&x.push(...C),x.some(E=>Vo(E,y))||Ri.isInNestedLayer(t,y)}const b=[i?Z3(t,e.persistentElements):void 0,K3(t,g),X3(t,{exclude:m,onFocusOutside:f,onPointerDownOutside:d,defer:e.defer})];return()=>{Ri.remove(t),GE(),Q3(t),b.forEach(y=>y?.())}}function oh(t,e){const{defer:n}=e,r=n?vt:s=>s(),i=[];return i.push(r(()=>{const s=Ua(t)?t():t;i.push(J3(s,e))})),()=>{i.forEach(s=>s?.())}}var qR=Ye("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);qR.build();var e5=t=>t.ids?.hiddenInput??`color-picker:${t.id}:hidden-input`,t5=t=>t.ids?.control??`color-picker:${t.id}:control`,n5=t=>t.ids?.trigger??`color-picker:${t.id}:trigger`,r5=t=>t.ids?.content??`color-picker:${t.id}:content`,i5=t=>t.ids?.positioner??`color-picker:${t.id}:positioner`,s5=t=>t.ids?.formatSelect??`color-picker:${t.id}:format-select`,o5=t=>t.ids?.area??`color-picker:${t.id}:area`,a5=t=>t.ids?.areaThumb??`color-picker:${t.id}:area-thumb`,l5=(t,e)=>t.ids?.channelSliderTrack?.(e)??`color-picker:${t.id}:slider-track:${e}`,c5=(t,e)=>t.ids?.channelSliderThumb?.(e)??`color-picker:${t.id}:slider-thumb:${e}`,_g=t=>t.getById(r5(t)),u5=t=>t.getById(a5(t)),d5=(t,e)=>t.getById(c5(t,e)),h5=t=>t.getById(s5(t)),qE=t=>t.getById(e5(t)),f5=t=>t.getById(o5(t)),g5=(t,e)=>{const n=f5(t);if(!n)return;const{percent:r}=vR(e,n);return r},p5=t=>t.getById(t5(t)),B0=t=>t.getById(n5(t)),m5=t=>t.getById(i5(t)),b5=(t,e)=>t.getById(l5(t,e)),v5=(t,e,n)=>{const r=b5(t,n);if(!r)return;const{percent:i}=vR(e,r);return i},y5=t=>[...Xg(_g(t),"input[data-channel]"),...Xg(p5(t),"input[data-channel]")];function x5(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}var YE=t=>Qg(t),S5=/^[0-9a-fA-F]{3,8}$/;function w5(t){return S5.test(t)}function C5(t){return t.startsWith("#")?t:w5(t)?`#${t}`:t}var{and:E5}=Qo();E5("isOpenControlled","closeOnSelect");function XE(t,e,n){const r=y5(t);vt(()=>{r.forEach(i=>{const s=i.dataset.channel;Op(i,x5(n||e,s))})})}function A5(t,e){const n=h5(t);n&&vt(()=>Op(n,e))}Ke()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","inline","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);Ke()(["xChannel","yChannel"]);Ke()(["channel","orientation"]);Ke()(["value","disabled"]);Ke()(["value","respectAlpha"]);Ke()(["size"]);var YR=Ye("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");YR.build();var XR=t=>t.ids?.root??`accordion:${t.id}`,KR=(t,e)=>t.ids?.itemTrigger?.(e)??`accordion:${t.id}:trigger:${e}`,_5=t=>t.getById(XR(t)),Fp=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(XR(t))}']:not([disabled])`;return Xg(_5(t),n)},T5=t=>_d(Fp(t)),R5=t=>Ry(Fp(t)),k5=(t,e)=>GL(Fp(t),KR(t,e)),O5=(t,e)=>qL(Fp(t),KR(t,e)),{and:j5,not:P5}=Qo();j5("isExpanded","canToggle"),P5("isExpanded");Ke()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);Ke()(["value","disabled"]);var bd=(t,e)=>({x:t,y:e});function N5(t){const{x:e,y:n,width:r,height:i}=t,s=e+r/2,a=n+i/2;return{x:e,y:n,width:r,height:i,minX:e,minY:n,maxX:e+r,maxY:n+i,midX:s,midY:a,center:bd(s,a)}}function I5(t){const e=bd(t.minX,t.minY),n=bd(t.maxX,t.minY),r=bd(t.maxX,t.maxY),i=bd(t.minX,t.maxY);return{top:e,right:n,bottom:r,left:i}}function M5(t,e){const n=N5(t),{top:r,right:i,left:s,bottom:a}=I5(n),[c]=e.split("-");return{top:[s,r,i,a],right:[r,i,a,s],bottom:[r,s,a,i],left:[i,r,s,a]}[c]}function D5(t,e){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const c=t[s].x,d=t[s].y,f=t[a].x,g=t[a].y;d>r!=g>r&&n<(f-c)*(r-d)/(g-d)+c&&(i=!i)}return i}var QR=Ye("avatar").parts("root","image","fallback");QR.build();Ke()(["dir","id","ids","onStatusChange","getRootNode"]);function L5(t){return!(t.metaKey||!rh()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var z5=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function F5(t,e,n){const r=n?Ii(n):null,i=Hn(r);return t=t||r instanceof i.HTMLInputElement&&!z5.has(r?.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(B5,n.key))}var ul=null,kv=new Set,Td=new Map,nl=!1,Ov=!1,B5={Tab:!0,Escape:!0};function Bp(t,e){for(let n of kv)n(t,e)}function tp(t){nl=!0,L5(t)&&(ul="keyboard",Bp("keyboard",t))}function bi(t){ul="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(nl=!0,Bp("pointer",t))}function ZR(t){bL(t)&&(nl=!0,ul="virtual")}function JR(t){const e=Ii(t);e===Hn(e)||e===Vi(e)||(!nl&&!Ov&&(ul="virtual",Bp("virtual",t)),nl=!1,Ov=!1)}function e2(){nl=!1,Ov=!0}function V5(t){if(typeof window>"u"||Td.get(Hn(t)))return;const e=Hn(t),n=Vi(t);let r=e.HTMLElement.prototype.focus;function i(){ul="virtual",Bp("virtual",null),nl=!0,r.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:i}),n.addEventListener("keydown",tp,!0),n.addEventListener("keyup",tp,!0),n.addEventListener("click",ZR,!0),e.addEventListener("focus",JR,!0),e.addEventListener("blur",e2,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",bi,!0),n.addEventListener("pointermove",bi,!0),n.addEventListener("pointerup",bi,!0)):(n.addEventListener("mousedown",bi,!0),n.addEventListener("mousemove",bi,!0),n.addEventListener("mouseup",bi,!0)),e.addEventListener("beforeunload",()=>{H5(t)},{once:!0}),Td.set(e,{focus:r})}var H5=(t,e)=>{const n=Hn(t),r=Vi(t);Td.has(n)&&(n.HTMLElement.prototype.focus=Td.get(n).focus,r.removeEventListener("keydown",tp,!0),r.removeEventListener("keyup",tp,!0),r.removeEventListener("click",ZR,!0),n.removeEventListener("focus",JR,!0),n.removeEventListener("blur",e2,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",bi,!0),r.removeEventListener("pointermove",bi,!0),r.removeEventListener("pointerup",bi,!0)):(r.removeEventListener("mousedown",bi,!0),r.removeEventListener("mousemove",bi,!0),r.removeEventListener("mouseup",bi,!0)),Td.delete(n))};function jv(){return ul==="keyboard"}function $5(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;V5(i),r?.({isFocusVisible:n||jv(),modality:ul});const s=(a,c)=>{F5(!!e,a,c)&&r?.({isFocusVisible:jv(),modality:a})};return kv.add(s),()=>{kv.delete(s)}}var t2=Ye("checkbox").parts("root","label","control","indicator");t2.build();Ke()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const U5=t2.extendWith("group"),[nQ,n2]=Bi({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1});var r2=Ye("clipboard").parts("root","control","trigger","indicator","input","label");r2.build();Ke()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]);Ke()(["copied"]);const W5=qR.extendWith("view");var G5=Object.defineProperty,q5=(t,e,n)=>e in t?G5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Te=(t,e,n)=>q5(t,typeof e!="symbol"?e+"":e,n),Tg={itemToValue(t){return typeof t=="string"?t:$a(t)&&Oi(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:$a(t)&&Oi(t,"label")?t.label:Tg.itemToValue(t)},isItemDisabled(t){return $a(t)&&Oi(t,"disabled")?!!t.disabled:!1}},Vp=class i2{constructor(e){this.options=e,Te(this,"items"),Te(this,"copy",n=>new i2({...this.options,items:n??[...this.items]})),Te(this,"isEqual",n=>Pi(this.items,n.items)),Te(this,"setItems",n=>this.copy(n)),Te(this,"getValues",(n=this.items)=>Array.from(n).map(r=>this.getItemValue(r)).filter(Boolean)),Te(this,"find",n=>{if(n==null)return null;const r=this.indexOf(n);return r!=null?this.at(r):null}),Te(this,"findMany",n=>Array.from(n).map(r=>this.find(r)).filter(r=>r!=null)),Te(this,"at",n=>{if(!this.options.groupBy&&!this.options.groupSort)return this.items[n]??null;let r=0;const i=this.group();for(const[,s]of i)for(const a of s){if(r===n)return a;r++}return null}),Te(this,"sortFn",(n,r)=>{const i=this.indexOf(n),s=this.indexOf(r);return(i??0)-(s??0)}),Te(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),Te(this,"getItemValue",n=>n==null?null:this.options.itemToValue?.(n)??Tg.itemToValue(n)),Te(this,"getItemDisabled",n=>n==null?!1:this.options.isItemDisabled?.(n)??Tg.isItemDisabled(n)),Te(this,"stringifyItem",n=>n==null?null:this.options.itemToString?.(n)??Tg.itemToString(n)),Te(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),Te(this,"stringifyItems",(n,r=", ")=>Array.from(n).map(i=>this.stringifyItem(i)).filter(Boolean).join(r)),Te(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),Te(this,"has",n=>this.indexOf(n)!==-1),Te(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),Te(this,"group",()=>{const{groupBy:n,groupSort:r}=this.options;if(!n)return[["",[...this.items]]];const i=new Map;this.items.forEach((a,c)=>{const d=n(a,c);i.has(d)||i.set(d,[]),i.get(d).push(a)});let s=Array.from(i.entries());return r&&s.sort(([a],[c])=>{if(typeof r=="function")return r(a,c);if(Array.isArray(r)){const d=r.indexOf(a),f=r.indexOf(c);return d===-1?1:f===-1?-1:d-f}return r==="asc"?a.localeCompare(c):r==="desc"?c.localeCompare(a):0}),s}),Te(this,"getNextValue",(n,r=1,i=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=i?Math.min(s+r,this.size-1):s+r;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}),Te(this,"getPreviousValue",(n,r=1,i=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=i?Math.max(s-r,0):s-r;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}),Te(this,"indexOf",n=>{if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(s=>this.getItemValue(s)===n);let r=0;const i=this.group();for(const[,s]of i)for(const a of s){if(this.getItemValue(a)===n)return r;r++}return-1}),Te(this,"getByText",(n,r)=>{let i=r!=null?X5(this.items,this.indexOf(r)):this.items;return n.length===1&&(i=i.filter(a=>this.getItemValue(a)!==r)),i.find(a=>Y5(this.stringifyItem(a),n))}),Te(this,"search",(n,r)=>{const{state:i,currentValue:s,timeout:a=350}=r,c=i.keysSoFar+n,f=c.length>1&&Array.from(c).every(S=>S===c[0])?c[0]:c,g=this.getByText(f,s),m=this.getItemValue(g);function b(){clearTimeout(i.timer),i.timer=-1}function y(S){i.keysSoFar=S,b(),S!==""&&(i.timer=+setTimeout(()=>{y(""),b()},a))}return y(c),m}),Te(this,"update",(n,r)=>{let i=this.indexOf(n);return i===-1?this:this.copy([...this.items.slice(0,i),r,...this.items.slice(i+1)])}),Te(this,"upsert",(n,r,i="append")=>{let s=this.indexOf(n);return s===-1?(i==="append"?this.append:this.prepend)(r):this.copy([...this.items.slice(0,s),r,...this.items.slice(s+1)])}),Te(this,"insert",(n,...r)=>this.copy(qu(this.items,n,...r))),Te(this,"insertBefore",(n,...r)=>{let i=this.indexOf(n);if(i===-1)if(this.items.length===0)i=0;else return this;return this.copy(qu(this.items,i,...r))}),Te(this,"insertAfter",(n,...r)=>{let i=this.indexOf(n);if(i===-1)if(this.items.length===0)i=0;else return this;return this.copy(qu(this.items,i+1,...r))}),Te(this,"prepend",(...n)=>this.copy(qu(this.items,0,...n))),Te(this,"append",(...n)=>this.copy(qu(this.items,this.items.length,...n))),Te(this,"filter",n=>{const r=this.items.filter((i,s)=>n(this.stringifyItem(i),s,i));return this.copy(r)}),Te(this,"remove",(...n)=>{const r=n.map(i=>typeof i=="string"?i:this.getItemValue(i));return this.copy(this.items.filter(i=>{const s=this.getItemValue(i);return s==null?!1:!r.includes(s)}))}),Te(this,"move",(n,r)=>{const i=this.indexOf(n);return i===-1?this:this.copy(Xf(this.items,[i],r))}),Te(this,"moveBefore",(n,...r)=>{let i=this.items.findIndex(a=>this.getItemValue(a)===n);if(i===-1)return this;let s=r.map(a=>this.items.findIndex(c=>this.getItemValue(c)===a)).sort((a,c)=>a-c);return this.copy(Xf(this.items,s,i))}),Te(this,"moveAfter",(n,...r)=>{let i=this.items.findIndex(a=>this.getItemValue(a)===n);if(i===-1)return this;let s=r.map(a=>this.items.findIndex(c=>this.getItemValue(c)===a)).sort((a,c)=>a-c);return this.copy(Xf(this.items,s,i+1))}),Te(this,"reorder",(n,r)=>this.copy(Xf(this.items,[n],r))),Te(this,"compareValue",(n,r)=>{const i=this.indexOf(n),s=this.indexOf(r);return i<s?-1:i>s?1:0}),Te(this,"range",(n,r)=>{let i=[],s=n;for(;s!=null;){if(this.find(s)&&i.push(s),s===r)return i;s=this.getNextValue(s)}return[]}),Te(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),Te(this,"toString",()=>{let n="";for(const r of this.items){const i=this.getItemValue(r),s=this.stringifyItem(r),a=this.getItemDisabled(r),c=[i,s,a].filter(Boolean).join(":");n+=c+","}return n}),Te(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...e.items]}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}*[Symbol.iterator](){yield*this.items}},Y5=(t,e)=>!!t?.toLowerCase().startsWith(e.toLowerCase()),X5=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]);function qu(t,e,...n){return[...t.slice(0,e),...n,...t.slice(e)]}function Xf(t,e,n){e=[...e].sort((i,s)=>i-s);const r=e.map(i=>t[i]);for(let i=e.length-1;i>=0;i--)t=[...t.slice(0,e[i]),...t.slice(e[i]+1)];return n=Math.max(0,n-e.filter(i=>i<n).length),[...t.slice(0,n),...r,...t.slice(n)]}function s2(t,e,n){for(let r=0;r<e.length;r++)t=n.getChildren(t,e.slice(r+1))[e[r]];return t}function K5(t){const e=Q5(t),n=[],r=new Set;for(const i of e){const s=i.join();r.has(s)||(r.add(s),n.push(i))}return n}function o2(t,e){for(let n=0;n<Math.min(t.length,e.length);n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return t.length-e.length}function Q5(t){return t.sort(o2)}function Z5(t,e){let n;return qr(t,{...e,onEnter:(r,i)=>{if(e.predicate(r,i))return n=r,"stop"}}),n}function J5(t,e){const n=[];return qr(t,{onEnter:(r,i)=>{e.predicate(r,i)&&n.push(r)},getChildren:e.getChildren}),n}function KE(t,e){let n;return qr(t,{onEnter:(r,i)=>{if(e.predicate(r,i))return n=[...i],"stop"},getChildren:e.getChildren}),n}function e4(t,e){let n=e.initialResult;return qr(t,{...e,onEnter:(r,i)=>{n=e.nextResult(n,r,i)}}),n}function t4(t,e){return e4(t,{...e,initialResult:[],nextResult:(n,r,i)=>(n.push(...e.transform(r,i)),n)})}function n4(t,e){const{predicate:n,create:r,getChildren:i}=e,s=(a,c)=>{const d=i(a,c),f=[];d.forEach((y,S)=>{const x=[...c,S],C=s(y,x);C&&f.push(C)});const g=c.length===0,m=n(a,c),b=f.length>0;return g||m||b?r(a,f,c):null};return s(t,[])||r(t,[],[])}function r4(t,e){const n=[];let r=0;const i=new Map,s=new Map;return qr(t,{getChildren:e.getChildren,onEnter:(a,c)=>{i.has(a)||i.set(a,r++);const d=e.getChildren(a,c);d.forEach(y=>{s.has(y)||s.set(y,a),i.has(y)||i.set(y,r++)});const f=d.length>0?d.map(y=>i.get(y)):void 0,g=s.get(a),m=g?i.get(g):void 0,b=i.get(a);n.push({...a,_children:f,_parent:m,_index:b})}}),n}function i4(t,e){return{type:"insert",index:t,nodes:e}}function s4(t){return{type:"remove",indexes:t}}function Jy(){return{type:"replace"}}function a2(t){return[t.slice(0,-1),t[t.length-1]]}function l2(t,e,n=new Map){const[r,i]=a2(t);for(let a=r.length-1;a>=0;a--){const c=r.slice(0,a).join();switch(n.get(c)?.type){case"remove":continue}n.set(c,Jy())}const s=n.get(r.join());switch(s?.type){case"remove":n.set(r.join(),{type:"removeThenInsert",removeIndexes:s.indexes,insertIndex:i,insertNodes:e});break;default:n.set(r.join(),i4(i,e))}return n}function c2(t){const e=new Map,n=new Map;for(const r of t){const i=r.slice(0,-1).join(),s=n.get(i)??[];s.push(r[r.length-1]),n.set(i,s.sort((a,c)=>a-c))}for(const r of t)for(let i=r.length-2;i>=0;i--){const s=r.slice(0,i).join();e.has(s)||e.set(s,Jy())}for(const[r,i]of n)e.set(r,s4(i));return e}function o4(t,e){const n=new Map,[r,i]=a2(t);for(let s=r.length-1;s>=0;s--){const a=r.slice(0,s).join();n.set(a,Jy())}return n.set(r.join(),{type:"removeThenInsert",removeIndexes:[i],insertIndex:i,insertNodes:[e]}),n}function Hp(t,e,n){return a4(t,{...n,getChildren:(r,i)=>{const s=i.join();switch(e.get(s)?.type){case"replace":case"remove":case"removeThenInsert":case"insert":return n.getChildren(r,i);default:return[]}},transform:(r,i,s)=>{const a=s.join(),c=e.get(a);switch(c?.type){case"remove":return n.create(r,i.filter((g,m)=>!c.indexes.includes(m)),s);case"removeThenInsert":const d=i.filter((g,m)=>!c.removeIndexes.includes(m)),f=c.removeIndexes.reduce((g,m)=>m<g?g-1:g,c.insertIndex);return n.create(r,QE(d,f,0,...c.insertNodes),s);case"insert":return n.create(r,QE(i,c.index,0,...c.nodes),s);case"replace":return n.create(r,i,s);default:return r}}})}function QE(t,e,n,...r){return[...t.slice(0,e),...r,...t.slice(e+n)]}function a4(t,e){const n={};return qr(t,{...e,onLeave:(r,i)=>{const s=[0,...i],a=s.join(),c=e.transform(r,n[a]??[],i),d=s.slice(0,-1).join(),f=n[d]??[];f.push(c),n[d]=f}}),n[""][0]}function l4(t,e){const{nodes:n,at:r}=e;if(r.length===0)throw new Error("Can't insert nodes at the root");const i=l2(r,n);return Hp(t,i,e)}function c4(t,e){if(e.at.length===0)return e.node;const n=o4(e.at,e.node);return Hp(t,n,e)}function u4(t,e){if(e.indexPaths.length===0)return t;for(const r of e.indexPaths)if(r.length===0)throw new Error("Can't remove the root node");const n=c2(e.indexPaths);return Hp(t,n,e)}function d4(t,e){if(e.indexPaths.length===0)return t;for(const s of e.indexPaths)if(s.length===0)throw new Error("Can't move the root node");if(e.to.length===0)throw new Error("Can't move nodes to the root");const n=K5(e.indexPaths),r=n.map(s=>s2(t,s,e)),i=l2(e.to,r,c2(n));return Hp(t,i,e)}function qr(t,e){const{onEnter:n,onLeave:r,getChildren:i}=e;let s=[],a=[{node:t}];const c=e.reuseIndexPath?()=>s:()=>s.slice();for(;a.length>0;){let d=a[a.length-1];if(d.state===void 0){const g=n?.(d.node,c());if(g==="stop")return;d.state=g==="skip"?-1:0}const f=d.children||i(d.node,c());if(d.children||(d.children=f),d.state!==-1){if(d.state<f.length){let m=d.state;s.push(m),a.push({node:f[m]}),d.state=m+1;continue}if(r?.(d.node,c())==="stop")return}s.pop(),a.pop()}}var u2=class d2{constructor(e){this.options=e,Te(this,"rootNode"),Te(this,"isEqual",n=>Pi(this.rootNode,n.rootNode)),Te(this,"getNodeChildren",n=>this.options.nodeToChildren?.(n)??oc.nodeToChildren(n)??[]),Te(this,"resolveIndexPath",n=>typeof n=="string"?this.getIndexPath(n):n),Te(this,"resolveNode",n=>{const r=this.resolveIndexPath(n);return r?this.at(r):void 0}),Te(this,"getNodeChildrenCount",n=>this.options.nodeToChildrenCount?.(n)??oc.nodeToChildrenCount(n)),Te(this,"getNodeValue",n=>this.options.nodeToValue?.(n)??oc.nodeToValue(n)),Te(this,"getNodeDisabled",n=>this.options.isNodeDisabled?.(n)??oc.isNodeDisabled(n)),Te(this,"stringify",n=>{const r=this.findNode(n);return r?this.stringifyNode(r):null}),Te(this,"stringifyNode",n=>this.options.nodeToString?.(n)??oc.nodeToString(n)),Te(this,"getFirstNode",(n=this.rootNode)=>{let r;return qr(n,{getChildren:this.getNodeChildren,onEnter:(i,s)=>{if(!r&&s.length>0&&!this.getNodeDisabled(i))return r=i,"stop"}}),r}),Te(this,"getLastNode",(n=this.rootNode,r={})=>{let i;return qr(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{if(!this.isSameNode(s,n)){if(r.skip?.({value:this.getNodeValue(s),node:s,indexPath:a}))return"skip";a.length>0&&!this.getNodeDisabled(s)&&(i=s)}}}),i}),Te(this,"at",n=>s2(this.rootNode,n,{getChildren:this.getNodeChildren})),Te(this,"findNode",(n,r=this.rootNode)=>Z5(r,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===n})),Te(this,"findNodes",(n,r=this.rootNode)=>{const i=new Set(n.filter(s=>s!=null));return J5(r,{getChildren:this.getNodeChildren,predicate:s=>i.has(this.getNodeValue(s))})}),Te(this,"sort",n=>n.reduce((r,i)=>{const s=this.getIndexPath(i);return s&&r.push({value:i,indexPath:s}),r},[]).sort((r,i)=>o2(r.indexPath,i.indexPath)).map(({value:r})=>r)),Te(this,"getIndexPath",n=>KE(this.rootNode,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})),Te(this,"getValue",n=>{const r=this.at(n);return r?this.getNodeValue(r):void 0}),Te(this,"getValuePath",n=>{if(!n)return[];const r=[];let i=[...n];for(;i.length>0;){const s=this.at(i);s&&r.unshift(this.getNodeValue(s)),i.pop()}return r}),Te(this,"getDepth",n=>KE(this.rootNode,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===n})?.length??0),Te(this,"isSameNode",(n,r)=>this.getNodeValue(n)===this.getNodeValue(r)),Te(this,"isRootNode",n=>this.isSameNode(n,this.rootNode)),Te(this,"contains",(n,r)=>!n||!r?!1:r.slice(0,n.length).every((i,s)=>n[s]===r[s])),Te(this,"getNextNode",(n,r={})=>{let i=!1,s;return qr(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,c)=>{if(this.isRootNode(a))return;const d=this.getNodeValue(a);if(r.skip?.({value:d,node:a,indexPath:c}))return d===n&&(i=!0),"skip";if(i&&!this.getNodeDisabled(a))return s=a,"stop";d===n&&(i=!0)}}),s}),Te(this,"getPreviousNode",(n,r={})=>{let i,s=!1;return qr(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,c)=>{if(this.isRootNode(a))return;const d=this.getNodeValue(a);if(r.skip?.({value:d,node:a,indexPath:c}))return"skip";if(d===n)return s=!0,"stop";this.getNodeDisabled(a)||(i=a)}}),s?i:void 0}),Te(this,"getParentNodes",n=>{const r=this.resolveIndexPath(n)?.slice();if(!r)return[];const i=[];for(;r.length>0;){r.pop();const s=this.at(r);s&&!this.isRootNode(s)&&i.unshift(s)}return i}),Te(this,"getDescendantNodes",(n,r)=>{const i=this.resolveNode(n);if(!i)return[];const s=[];return qr(i,{getChildren:this.getNodeChildren,onEnter:(a,c)=>{c.length!==0&&(!r?.withBranch&&this.isBranchNode(a)||s.push(a))}}),s}),Te(this,"getDescendantValues",(n,r)=>this.getDescendantNodes(n,r).map(s=>this.getNodeValue(s))),Te(this,"getParentIndexPath",n=>n.slice(0,-1)),Te(this,"getParentNode",n=>{const r=this.resolveIndexPath(n);return r?this.at(this.getParentIndexPath(r)):void 0}),Te(this,"visit",n=>{const{skip:r,...i}=n;qr(this.rootNode,{...i,getChildren:this.getNodeChildren,onEnter:(s,a)=>{if(!this.isRootNode(s))return r?.({value:this.getNodeValue(s),node:s,indexPath:a})?"skip":i.onEnter?.(s,a)}})}),Te(this,"getPreviousSibling",n=>{const r=this.getParentNode(n);if(!r)return;const i=this.getNodeChildren(r);let s=n[n.length-1];for(;--s>=0;){const a=i[s];if(!this.getNodeDisabled(a))return a}}),Te(this,"getNextSibling",n=>{const r=this.getParentNode(n);if(!r)return;const i=this.getNodeChildren(r);let s=n[n.length-1];for(;++s<i.length;){const a=i[s];if(!this.getNodeDisabled(a))return a}}),Te(this,"getSiblingNodes",n=>{const r=this.getParentNode(n);return r?this.getNodeChildren(r):[]}),Te(this,"getValues",(n=this.rootNode)=>t4(n,{getChildren:this.getNodeChildren,transform:i=>[this.getNodeValue(i)]}).slice(1)),Te(this,"isValidDepth",(n,r)=>r==null?!0:typeof r=="function"?r(n.length):n.length===r),Te(this,"isBranchNode",n=>this.getNodeChildren(n).length>0||this.getNodeChildrenCount(n)!=null),Te(this,"getBranchValues",(n=this.rootNode,r={})=>{let i=[];return qr(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{if(a.length===0)return;const c=this.getNodeValue(s);if(r.skip?.({value:c,node:s,indexPath:a}))return"skip";this.isBranchNode(s)&&this.isValidDepth(a,r.depth)&&i.push(this.getNodeValue(s))}}),i}),Te(this,"flatten",(n=this.rootNode)=>r4(n,{getChildren:this.getNodeChildren})),Te(this,"_create",(n,r)=>this.getNodeChildren(n).length>0||r.length>0?{...n,children:r}:{...n}),Te(this,"_insert",(n,r,i)=>this.copy(l4(n,{at:r,nodes:i,getChildren:this.getNodeChildren,create:this._create}))),Te(this,"copy",n=>new d2({...this.options,rootNode:n})),Te(this,"_replace",(n,r,i)=>this.copy(c4(n,{at:r,node:i,getChildren:this.getNodeChildren,create:this._create}))),Te(this,"_move",(n,r,i)=>this.copy(d4(n,{indexPaths:r,to:i,getChildren:this.getNodeChildren,create:this._create}))),Te(this,"_remove",(n,r)=>this.copy(u4(n,{indexPaths:r,getChildren:this.getNodeChildren,create:this._create}))),Te(this,"replace",(n,r)=>this._replace(this.rootNode,n,r)),Te(this,"remove",n=>this._remove(this.rootNode,n)),Te(this,"insertBefore",(n,r)=>this.getParentNode(n)?this._insert(this.rootNode,n,r):void 0),Te(this,"insertAfter",(n,r)=>{if(!this.getParentNode(n))return;const s=[...n.slice(0,-1),n[n.length-1]+1];return this._insert(this.rootNode,s,r)}),Te(this,"move",(n,r)=>this._move(this.rootNode,n,r)),Te(this,"filter",n=>{const r=n4(this.rootNode,{predicate:n,getChildren:this.getNodeChildren,create:this._create});return this.copy(r)}),Te(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=e.rootNode}},oc={nodeToValue(t){return typeof t=="string"?t:$a(t)&&Oi(t,"value")?t.value:""},nodeToString(t){return typeof t=="string"?t:$a(t)&&Oi(t,"label")?t.label:oc.nodeToValue(t)},isNodeDisabled(t){return $a(t)&&Oi(t,"disabled")?!!t.disabled:!1},nodeToChildren(t){return t.children},nodeToChildrenCount(t){if($a(t)&&Oi(t,"childrenCount"))return t.childrenCount}},Zl=new WeakMap,Kf=new WeakMap,Qf={},V0=0,h2=t=>t&&(t.host||h2(t.parentNode)),h4=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=h2(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),f4=new Set(["script","output","status","next-route-announcer"]),g4=t=>f4.has(t.localName)||t.role==="status"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),p4=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i}=e,s=h4(n,Array.isArray(t)?t:[t]);Qf[r]||(Qf[r]=new WeakMap);const a=Qf[r],c=[],d=new Set,f=new Set(s),g=b=>{!b||d.has(b)||(d.add(b),g(b.parentNode))};s.forEach(g);const m=b=>{!b||f.has(b)||Array.prototype.forEach.call(b.children,y=>{if(d.has(y))m(y);else try{if(g4(y))return;const x=y.getAttribute(i)==="true",C=(Zl.get(y)||0)+1,E=(a.get(y)||0)+1;Zl.set(y,C),a.set(y,E),c.push(y),C===1&&x&&Kf.set(y,!0),E===1&&y.setAttribute(r,""),x||y.setAttribute(i,"true")}catch(S){console.error("[zag-js > ariaHidden] cannot operate on ",y,S)}})};return m(n),d.clear(),V0++,()=>{c.forEach(b=>{const y=Zl.get(b)-1,S=a.get(b)-1;Zl.set(b,y),a.set(b,S),y||(Kf.has(b)||b.removeAttribute(i),Kf.delete(b)),S||b.removeAttribute(r)}),V0--,V0||(Zl=new WeakMap,Zl=new WeakMap,Kf=new WeakMap,Qf={})}},m4=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,b4=(t,e=m4(t),n="data-aria-hidden")=>{if(e)return p4(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},v4=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function y4(t,e={}){const{defer:n=!0}=e,r=n?v4:s=>s(),i=[];return i.push(r(()=>{const a=(typeof t=="function"?t():t).filter(Boolean);a.length!==0&&i.push(b4(a))})),()=>{i.forEach(s=>s?.())}}var f2=Ye("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger");f2.build();var g2=t=>new Vp(t);g2.empty=()=>new Vp({items:[]});var x4=t=>t.ids?.control??`combobox:${t.id}:control`,S4=t=>t.ids?.input??`combobox:${t.id}:input`,w4=t=>t.ids?.content??`combobox:${t.id}:content`,C4=t=>t.ids?.positioner??`combobox:${t.id}:popper`,E4=t=>t.ids?.trigger??`combobox:${t.id}:toggle-btn`,A4=t=>t.ids?.clearTrigger??`combobox:${t.id}:clear-btn`,Mo=t=>t.getById(w4(t)),ac=t=>t.getById(S4(t)),ZE=t=>t.getById(C4(t)),JE=t=>t.getById(x4(t)),vd=t=>t.getById(E4(t)),eA=t=>t.getById(A4(t)),tA=(t,e)=>{if(e==null)return;const n=`[role=option][data-value="${CSS.escape(e)}"]`;return UL(Mo(t),n)},nA=t=>{const e=ac(t);t.isActiveElement(e)||e?.focus({preventScroll:!0})},_4=t=>{const e=vd(t);t.isActiveElement(e)||e?.focus({preventScroll:!0})},{guards:T4,createMachine:R4,choose:k4}=SR(),{and:Ln,not:$r}=T4;R4({props({props:t}){return{loopFocus:!0,openOnClick:!1,defaultValue:[],closeOnSelect:!t.multiple,allowCustomValue:!1,inputBehavior:"none",selectionBehavior:t.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:e}){mR(e)},collection:g2.empty(),...t,positioning:{placement:"bottom",sameWidth:!0,...t.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...t.translations}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"suggesting":"idle"},context({prop:t,bindable:e,getContext:n,getEvent:r}){return{currentPlacement:e(()=>({defaultValue:void 0})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Pi,hash(i){return i.join(",")},onChange(i){const s=n(),a=s.get("selectedItems"),c=t("collection"),d=i.map(f=>a.find(m=>c.getItemValue(m)===f)||c.find(f));s.set("selectedItems",d),t("onValueChange")?.({value:i,items:d})}})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(i){const s=t("collection").find(i);t("onHighlightChange")?.({highlightedValue:i,highlightedItem:s})}})),inputValue:e(()=>{let i=t("inputValue")||t("defaultInputValue")||"";const s=t("defaultValue")||t("value")||[];if(!i.trim()&&!t("multiple")){const a=t("collection").stringifyMany(s);i=$s(t("selectionBehavior"),{preserve:i||a,replace:a,clear:""})}return{defaultValue:i,value:t("inputValue"),onChange(a){const c=r(),d=(c.previousEvent||c).src;t("onInputValueChange")?.({inputValue:a,reason:d})}}}),highlightedItem:e(()=>{const i=t("highlightedValue");return{defaultValue:t("collection").find(i)}}),selectedItems:e(()=>{const i=t("value")||t("defaultValue")||[];return{defaultValue:t("collection").findMany(i)}})}},computed:{isInputValueEmpty:({context:t})=>t.get("inputValue").length===0,isInteractive:({prop:t})=>!(t("readOnly")||t("disabled")),autoComplete:({prop:t})=>t("inputBehavior")==="autocomplete",autoHighlight:({prop:t})=>t("inputBehavior")==="autohighlight",hasSelectedItems:({context:t})=>t.get("value").length>0,valueAsString:({context:t,prop:e})=>e("collection").stringifyItems(t.get("selectedItems")),isCustomValue:({context:t,computed:e})=>t.get("inputValue")!==e("valueAsString")},watch({context:t,prop:e,track:n,action:r,send:i}){n([()=>t.hash("value")],()=>{r(["syncSelectedItems"])}),n([()=>t.get("inputValue")],()=>{r(["syncInputValue"])}),n([()=>t.get("highlightedValue")],()=>{r(["syncHighlightedItem","autofillInputValue"])}),n([()=>e("open")],()=>{r(["toggleVisibility"])}),n([()=>e("collection").toString()],()=>{i({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:k4([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Ln("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Ln("isCustomValue",$r("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Ln("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Ln("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Ln("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:Ln("isOpenControlled","isCustomValue",$r("hasHighlightedItem"),$r("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isCustomValue",$r("hasHighlightedItem"),$r("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:Ln("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Ln("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:Ln("isOpenControlled","isCustomValue",$r("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isCustomValue",$r("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"autoHighlight",actions:["highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Ln("isOpenControlled","isCustomValue",$r("hasHighlightedItem"),$r("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isCustomValue",$r("hasHighlightedItem"),$r("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:Ln("isOpenControlled","isCustomValue",$r("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Ln("isCustomValue",$r("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Ln("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:t})=>t("isInputValueEmpty"),autoComplete:({computed:t,prop:e})=>t("autoComplete")&&!e("multiple"),autoHighlight:({computed:t})=>t("autoHighlight"),isFirstItemHighlighted:({prop:t,context:e})=>t("collection").firstValue===e.get("highlightedValue"),isLastItemHighlighted:({prop:t,context:e})=>t("collection").lastValue===e.get("highlightedValue"),isCustomValue:({computed:t})=>t("isCustomValue"),allowCustomValue:({prop:t})=>!!t("allowCustomValue"),hasHighlightedItem:({context:t})=>t.get("highlightedValue")!=null,closeOnSelect:({prop:t})=>!!t("closeOnSelect"),isOpenControlled:({prop:t})=>t("open")!=null,openOnChange:({prop:t,context:e})=>{const n=t("openOnChange");return pD(n)?n:!!n?.({inputValue:e.get("inputValue")})},restoreFocus:({event:t})=>t.restoreFocus==null?!0:!!t.restoreFocus,isChangeEvent:({event:t})=>t.previousEvent?.type==="INPUT.CHANGE",autoFocus:({prop:t})=>!!t("autoFocus"),isHighlightedItemRemoved:({prop:t,context:e})=>!t("collection").has(e.get("highlightedValue"))},effects:{trackDismissableLayer({send:t,prop:e,scope:n}){return e("disableLayer")?void 0:oh(()=>Mo(n),{defer:!0,exclude:()=>[ac(n),vd(n),eA(n)],onFocusOutside:e("onFocusOutside"),onPointerDownOutside:e("onPointerDownOutside"),onInteractOutside:e("onInteractOutside"),onEscapeKeyDown(i){i.preventDefault(),i.stopPropagation(),t({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){t({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},hideOtherElements({scope:t}){return y4([ac(t),Mo(t),vd(t),eA(t)])},trackPlacement({context:t,prop:e,scope:n}){const r=()=>JE(n)||vd(n),i=()=>ZE(n);return t.set("currentPlacement",e("positioning").placement),Li(r,i,{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},scrollToHighlightedItem({context:t,prop:e,scope:n,event:r}){const i=ac(n);let s=[];const a=f=>{const g=r.current().type.includes("POINTER"),m=t.get("highlightedValue");if(g||!m)return;const b=tA(n,m),y=Mo(n),S=e("scrollToIndexFn");if(S){const C=e("collection").indexOf(m);S({index:C,immediate:f});return}const x=vt(()=>{Yg(b,{rootEl:y,block:"nearest"})});s.push(x)},c=vt(()=>a(!0));s.push(c);const d=jp(i,{attributes:["aria-activedescendant"],callback:()=>a(!1)});return s.push(d),()=>{s.forEach(f=>f())}}},actions:{reposition({context:t,prop:e,scope:n,event:r}){Li(()=>JE(n),()=>ZE(n),{...e("positioning"),...r.options,defer:!0,listeners:!1,onComplete(a){t.set("currentPlacement",a.placement)}})},setHighlightedValue({context:t,event:e}){e.value!=null&&t.set("highlightedValue",e.value)},clearHighlightedValue({context:t}){t.set("highlightedValue",null)},selectHighlightedItem(t){const{context:e,prop:n}=t,r=n("collection"),i=e.get("highlightedValue");if(!i||!r.has(i))return;const s=n("multiple")?Rc(e.get("value"),i):[i];n("onSelect")?.({value:s,itemValue:i}),e.set("value",s);const a=$s(n("selectionBehavior"),{preserve:e.get("inputValue"),replace:r.stringifyMany(s),clear:""});e.set("inputValue",a)},scrollToHighlightedItem({context:t,prop:e,scope:n}){Dy(()=>{const r=t.get("highlightedValue");if(r==null)return;const i=tA(n,r),s=Mo(n),a=e("scrollToIndexFn");if(a){const c=e("collection").indexOf(r);a({index:c,immediate:!0});return}Yg(i,{rootEl:s,block:"nearest"})})},selectItem(t){const{context:e,event:n,flush:r,prop:i}=t;n.value!=null&&r(()=>{const s=i("multiple")?Rc(e.get("value"),n.value):[n.value];i("onSelect")?.({value:s,itemValue:n.value}),e.set("value",s);const a=$s(i("selectionBehavior"),{preserve:e.get("inputValue"),replace:i("collection").stringifyMany(s),clear:""});e.set("inputValue",a)})},clearItem(t){const{context:e,event:n,flush:r,prop:i}=t;n.value!=null&&r(()=>{const s=Qa(e.get("value"),n.value);e.set("value",s);const a=$s(i("selectionBehavior"),{preserve:e.get("inputValue"),replace:i("collection").stringifyMany(s),clear:""});e.set("inputValue",a)})},setInitialFocus({scope:t}){vt(()=>{nA(t)})},setFinalFocus({scope:t}){vt(()=>{vd(t)?.dataset.focusable==null?nA(t):_4(t)})},syncInputValue({context:t,scope:e,event:n}){const r=ac(e);r&&(r.value=t.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&BD(r)}))},setInputValue({context:t,event:e}){t.set("inputValue",e.value)},clearInputValue({context:t}){t.set("inputValue","")},revertInputValue({context:t,prop:e,computed:n}){const r=e("selectionBehavior"),i=$s(r,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:t.get("inputValue"),clear:""});t.set("inputValue",i)},setValue(t){const{context:e,flush:n,event:r,prop:i}=t;n(()=>{e.set("value",r.value);const s=$s(i("selectionBehavior"),{preserve:e.get("inputValue"),replace:i("collection").stringifyMany(r.value),clear:""});e.set("inputValue",s)})},clearSelectedItems(t){const{context:e,flush:n,prop:r}=t;n(()=>{e.set("value",[]);const i=$s(r("selectionBehavior"),{preserve:e.get("inputValue"),replace:r("collection").stringifyMany([]),clear:""});e.set("inputValue",i)})},scrollContentToTop({prop:t,scope:e}){const n=t("scrollToIndexFn");if(n)n({index:0,immediate:!0});else{const r=Mo(e);if(!r)return;r.scrollTop=0}},invokeOnOpen({prop:t,event:e}){const n=rA(e);t("onOpenChange")?.({open:!0,reason:n})},invokeOnClose({prop:t,event:e}){const n=rA(e);t("onOpenChange")?.({open:!1,reason:n})},highlightFirstItem({context:t,prop:e,scope:n}){(Mo(n)?queueMicrotask:vt)(()=>{const i=e("collection").firstValue;i&&t.set("highlightedValue",i)})},highlightFirstItemIfNeeded({computed:t,action:e}){t("autoHighlight")&&e(["highlightFirstItem"])},highlightLastItem({context:t,prop:e,scope:n}){(Mo(n)?queueMicrotask:vt)(()=>{const i=e("collection").lastValue;i&&t.set("highlightedValue",i)})},highlightNextItem({context:t,prop:e}){let n=null;const r=t.get("highlightedValue"),i=e("collection");r?(n=i.getNextValue(r),!n&&e("loopFocus")&&(n=i.firstValue)):n=i.firstValue,n&&t.set("highlightedValue",n)},highlightPrevItem({context:t,prop:e}){let n=null;const r=t.get("highlightedValue"),i=e("collection");r?(n=i.getPreviousValue(r),!n&&e("loopFocus")&&(n=i.lastValue)):n=i.lastValue,n&&t.set("highlightedValue",n)},highlightFirstSelectedItem({context:t,prop:e}){vt(()=>{const[n]=e("collection").sort(t.get("value"));n&&t.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:t,prop:e,computed:n}){vt(()=>{let r=null;n("hasSelectedItems")?r=e("collection").sort(t.get("value"))[0]:r=e("collection").firstValue,r&&t.set("highlightedValue",r)})},highlightLastOrSelectedItem({context:t,prop:e,computed:n}){vt(()=>{const r=e("collection");let i=null;n("hasSelectedItems")?i=r.sort(t.get("value"))[0]:i=r.lastValue,i&&t.set("highlightedValue",i)})},autofillInputValue({context:t,computed:e,prop:n,event:r,scope:i}){const s=ac(i),a=n("collection");if(!e("autoComplete")||!s||!r.keypress)return;const c=a.stringify(t.get("highlightedValue"));vt(()=>{s.value=c||t.get("inputValue")})},syncSelectedItems(t){queueMicrotask(()=>{const{context:e,prop:n}=t,r=n("collection"),i=e.get("value"),s=i.map(c=>e.get("selectedItems").find(f=>r.getItemValue(f)===c)||r.find(c));e.set("selectedItems",s);const a=$s(n("selectionBehavior"),{preserve:e.get("inputValue"),replace:r.stringifyMany(i),clear:""});e.set("inputValue",a)})},syncHighlightedItem({context:t,prop:e}){const n=e("collection").find(t.get("highlightedValue"));t.set("highlightedItem",n)},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}});function rA(t){return(t.previousEvent||t).src}Ke()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value"]);Ke()(["htmlFor"]);Ke()(["id"]);Ke()(["item","persistFocus"]);var ex=Ye("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");ex.build();Ke()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var p2=Ye("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");p2.build();Ke()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const m2=A.forwardRef((t,e)=>{const n=n2(),r=Ot(n?.getInputProps(),t);return h.jsx(Jt.input,{...r,ref:e})});m2.displayName="FieldInput";const b2=Ye("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");b2.build();var O4=t=>{if(!t)return;const e=ky(t),n=Hn(t),r=Vi(t),i=()=>{requestAnimationFrame(()=>{t.style.height="auto";let f;e.boxSizing==="content-box"?f=t.scrollHeight-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):f=t.scrollHeight+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),e.maxHeight!=="none"&&f>parseFloat(e.maxHeight)?(e.overflowY==="hidden"&&(t.style.overflowY="scroll"),f=parseFloat(e.maxHeight)):e.overflowY!=="hidden"&&(t.style.overflowY="hidden"),t.style.height=`${f}px`})};t.addEventListener("input",i),t.form?.addEventListener("reset",i);const s=Object.getPrototypeOf(t),a=Object.getOwnPropertyDescriptor(s,"value");Object.defineProperty(t,"value",{...a,set(){a?.set?.apply(this,arguments),i()}});const c=new n.ResizeObserver(()=>{requestAnimationFrame(()=>i())});c.observe(t);const d=new n.MutationObserver(()=>i());return d.observe(t,{attributes:!0,attributeFilter:["rows","placeholder"]}),r.fonts?.addEventListener("loadingdone",i),()=>{t.removeEventListener("input",i),t.form?.removeEventListener("reset",i),r.fonts?.removeEventListener("loadingdone",i),c.disconnect(),d.disconnect()}};const v2=A.forwardRef((t,e)=>{const{autoresize:n,...r}=t,i=A.useRef(null),s=n2(),a=Ot(s?.getTextareaProps(),{style:{resize:n?"none":void 0}},r);return A.useEffect(()=>{if(n)return O4(i.current)},[n]),h.jsx(Jt.textarea,{...a,ref:Pp(e,i)})});v2.displayName="FieldTextarea";const y2=Ye("fieldset").parts("root","errorText","helperText","legend");y2.build();var x2=Ye("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");x2.build();Ke()(["accept","acceptedFiles","allowDrop","capture","defaultAcceptedFiles","dir","directory","disabled","getRootNode","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","preventDocumentDrop","required","transformFiles","translations","validate"]);Ke()(["file"]);const j4=Symbol(),iA=Object.getPrototypeOf,Pv=new WeakMap,P4=t=>t&&(Pv.has(t)?Pv.get(t):iA(t)===Object.prototype||iA(t)===Array.prototype),N4=t=>P4(t)&&t[j4]||null,sA=(t,e=!0)=>{Pv.set(t,e)};function I4(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function S2(t,e){const n=I4();return n?(n[t]||(n[t]=e()),n[t]):e()}var Rg=S2("__zag__refSet",()=>new WeakSet),M4=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,D4=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,L4=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",z4=t=>M4(t)||D4(t)||L4(t),Nv=t=>t!==null&&typeof t=="object",oA=t=>Nv(t)&&!Rg.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!z4(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),Fa=S2("__zag__proxyStateMap",()=>new WeakMap),F4=(t=Object.is,e=(c,d)=>new Proxy(c,d),n=new WeakMap,r=(c,d)=>{const f=n.get(c);if(f?.[0]===d)return f[1];const g=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return sA(g,!0),n.set(c,[d,g]),Reflect.ownKeys(c).forEach(m=>{const b=Reflect.get(c,m);Rg.has(b)?(sA(b,!1),g[m]=b):Fa.has(b)?g[m]=H4(b):g[m]=b}),Object.freeze(g)},i=new WeakMap,s=[1,1],a=c=>{if(!Nv(c))throw new Error("object required");const d=i.get(c);if(d)return d;let f=s[0];const g=new Set,m=(I,M=++s[0])=>{f!==M&&(f=M,g.forEach(L=>L(I,M)))};let b=s[1];const y=(I=++s[1])=>(b!==I&&!g.size&&(b=I,x.forEach(([M])=>{const L=M[1](I);L>f&&(f=L)})),f),S=I=>(M,L)=>{const $=[...M];$[1]=[I,...$[1]],m($,L)},x=new Map,C=(I,M)=>{if(g.size){const L=M[3](S(I));x.set(I,[M,L])}else x.set(I,[M])},E=I=>{const M=x.get(I);M&&(x.delete(I),M[1]?.())},k=I=>(g.add(I),g.size===1&&x.forEach(([L,$],U)=>{const D=L[3](S(U));x.set(U,[L,D])}),()=>{g.delete(I),g.size===0&&x.forEach(([L,$],U)=>{$&&($(),x.set(U,[L]))})}),T=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),_=e(T,{deleteProperty(I,M){const L=Reflect.get(I,M);E(M);const $=Reflect.deleteProperty(I,M);return $&&m(["delete",[M],L]),$},set(I,M,L,$){const U=Reflect.has(I,M),D=Reflect.get(I,M,$);if(U&&(t(D,L)||i.has(L)&&t(D,i.get(L))))return!0;E(M),Nv(L)&&(L=N4(L)||L);let B=L;if(!Object.getOwnPropertyDescriptor(I,M)?.set){!Fa.has(L)&&oA(L)&&(B=w2(L));const H=!Rg.has(B)&&Fa.get(B);H&&C(M,H)}return Reflect.set(I,M,B,$),m(["set",[M],L,D]),!0}});i.set(c,_);const O=[T,y,r,k];return Fa.set(_,O),Reflect.ownKeys(c).forEach(I=>{const M=Object.getOwnPropertyDescriptor(c,I);M.get||M.set?Object.defineProperty(T,I,M):_[I]=c[I]}),_})=>[a,Fa,Rg,t,e,oA,n,r,i,s],[B4]=F4();function w2(t={}){return B4(t)}function V4(t,e,n){const r=Fa.get(t);let i;const s=[],a=r[3];let c=!1;const f=a(g=>{s.push(g),i||(i=Promise.resolve().then(()=>{i=void 0,c&&e(s.splice(0))}))});return c=!0,()=>{c=!1,f()}}function H4(t){const e=Fa.get(t),[n,r,i]=e;return i(n,r())}var C2=Ye("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");C2.build();var $4=t=>t.ids?.trigger??`hover-card:${t.id}:trigger`,U4=t=>t.ids?.content??`hover-card:${t.id}:content`,W4=t=>t.ids?.positioner??`hover-card:${t.id}:popper`,H0=t=>t.getById($4(t)),G4=t=>t.getById(U4(t)),aA=t=>t.getById(W4(t)),{not:Zf,and:lA}=Qo();lA("isOpenControlled",Zf("isPointer")),Zf("isPointer"),lA("isOpenControlled",Zf("isPointer")),Zf("isPointer");Ke()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);const[E2,$n]=Bi({name:"MenuContext",hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),A2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getArrowProps(),t);return h.jsx(Jt.div,{...r,ref:e})});A2.displayName="MenuArrow";const _2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getArrowTipProps(),t);return h.jsx(Jt.div,{...r,ref:e})});_2.displayName="MenuArrowTip";const[tx,rQ]=Bi({name:"MenuItemContext",hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[nx,T2]=Bi({name:"MenuItemPropsContext",hookName:"useMenuItemPropsContext",providerName:"<MenuItemPropsProvider />"}),R2=A.forwardRef((t,e)=>{const[n,r]=cl()(t,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),i={...n,type:"checkbox"},s=$n(),a=Ot(s.getOptionItemProps(i),r),c=s.getOptionItemState(i);return h.jsx(nx,{value:i,children:h.jsx(tx,{value:c,children:h.jsx(Jt.div,{...a,ref:e})})})});R2.displayName="MenuCheckboxItem";const k2=A.forwardRef((t,e)=>{const n=$n(),r=ih(),i=Ot(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:h.jsx(Jt.div,{...i,ref:Pp(r.ref,e)})});k2.displayName="MenuContent";const O2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getContextTriggerProps(),t);return h.jsx(Jt.button,{...r,ref:e})});O2.displayName="MenuContextTrigger";const j2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getIndicatorProps(),t);return h.jsx(Jt.div,{...r,ref:e})});j2.displayName="MenuIndicator";const P2=A.forwardRef((t,e)=>{const[n,r]=cl()(t,["closeOnSelect","disabled","value","valueText","onSelect"]),i=$n(),s=Ot(i.getItemProps(n),r),a=i.getItemState(n);return A.useEffect(()=>i.addItemListener({id:a.id,onSelect:n.onSelect}),[a.id,n.onSelect]),h.jsx(nx,{value:n,children:h.jsx(tx,{value:a,children:h.jsx(Jt.div,{...s,ref:e})})})});P2.displayName="MenuItem";const[N2,I2]=Bi({name:"MenuItemGroupContext",hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),M2=A.forwardRef((t,e)=>{const[n,r]=cl()(t,["id"]),i=$n(),a={id:A.useId(),...n},c=Ot(i.getItemGroupProps(a),r);return h.jsx(N2,{value:a,children:h.jsx(Jt.div,{...c,ref:e})})});M2.displayName="MenuItemGroup";const D2=A.forwardRef((t,e)=>{const n=$n(),r=I2(),i=Ot(n.getItemGroupLabelProps({htmlFor:r.id}),t);return h.jsx(Jt.div,{...i,ref:e})});D2.displayName="MenuItemGroupLabel";const L2=A.forwardRef((t,e)=>{const n=$n(),r=T2(),i=Ot(n.getItemIndicatorProps(r),t);return h.jsx(Jt.div,{...i,ref:e})});L2.displayName="MenuItemIndicator";const z2=A.forwardRef((t,e)=>{const n=$n(),r=T2(),i=Ot(n.getItemTextProps(r),t);return h.jsx(Jt.div,{...i,ref:e})});z2.displayName="MenuItemText";const F2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getPositionerProps(),t);return ih().unmounted?null:h.jsx(Jt.div,{...r,ref:e})});F2.displayName="MenuPositioner";const B2=A.forwardRef((t,e)=>{const[n,r]=cl()(t,["closeOnSelect","disabled","value","valueText"]),i=$n(),s=I2(),a={...n,checked:s.value===n.value,type:"radio",onCheckedChange:()=>s.onValueChange?.({value:n.value})},c=Ot(i.getOptionItemProps(a),r),d=i.getOptionItemState(a);return h.jsx(nx,{value:a,children:h.jsx(tx,{value:d,children:h.jsx(Jt.div,{...c,ref:e})})})});B2.displayName="MenuRadioItem";const V2=A.forwardRef((t,e)=>{const[n,r]=cl()(t,["id","onValueChange","value"]),i=$n(),a={id:A.useId(),...n},c=Ot(i.getItemGroupProps({id:a.id}),r);return h.jsx(N2,{value:a,children:h.jsx(Jt.div,{...c,ref:e})})});V2.displayName="MenuRadioItemGroup";const H2=t=>{const e=A.useRef(t),n=A.useRef(!1);A.useEffect(()=>{e.current=t}),A.useEffect(()=>{n.current!==!0&&(n.current=!0,e.current())},[])};var $2=Ye("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),ur=$2.build(),np=t=>t.ids?.trigger??`menu:${t.id}:trigger`,U2=t=>t.ids?.contextTrigger??`menu:${t.id}:ctx-trigger`,Rd=t=>t.ids?.content??`menu:${t.id}:content`,q4=t=>t.ids?.arrow??`menu:${t.id}:arrow`,W2=t=>t.ids?.positioner??`menu:${t.id}:popper`,Y4=(t,e)=>t.ids?.group?.(e)??`menu:${t.id}:group:${e}`,Ud=(t,e)=>`${t.id}/${e}`,_a=t=>t?.dataset.value??null,cA=(t,e)=>t.ids?.groupLabel?.(e)??`menu:${t.id}:group-label:${e}`,Do=t=>t.getById(Rd(t)),uA=t=>t.getById(W2(t)),Jf=t=>t.getById(np(t)),G2=(t,e)=>e?t.getById(Ud(t,e)):null,$0=t=>t.getById(U2(t)),ah=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(Rd(t))}]:not([data-disabled])`;return Xg(Do(t),n)},X4=t=>_d(ah(t)),K4=t=>Ry(ah(t)),rx=(t,e)=>e?t.id===e||t.dataset.value===e:!1,Q4=(t,e)=>{const n=ah(t),r=n.findIndex(i=>rx(i,e.value));return dD(n,r,{loop:e.loop??e.loopFocus})},Z4=(t,e)=>{const n=ah(t),r=n.findIndex(i=>rx(i,e.value));return fD(n,r,{loop:e.loop??e.loopFocus})},J4=(t,e)=>{const n=ah(t),r=n.find(i=>rx(i,e.value));return Vd(n,{state:e.typeaheadState,key:e.key,activeId:r?.id??null})},eg=t=>gr(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),eF=t=>!!t?.getAttribute("role")?.startsWith("menuitem")&&!!t?.hasAttribute("aria-controls"),Iv="menu:select";function tF(t,e){if(!t)return;const n=Hn(t),r=new n.CustomEvent(Iv,{detail:{value:e}});t.dispatchEvent(r)}function nF(t,e){const{context:n,send:r,state:i,computed:s,prop:a,scope:c}=t,d=i.hasTag("open"),f=s("isSubmenu"),g=s("isTypingAhead"),m=a("composite"),b=n.get("currentPlacement"),y=n.get("anchorPoint"),S=n.get("highlightedValue"),x=WR({...a("positioning"),placement:y?"bottom":b});function C(R){return{id:Ud(c,R.value),disabled:!!R.disabled,highlighted:S===R.value}}function E(R){const _=R.valueText??R.value;return{...R,id:R.value,valueText:_}}function k(R){return{...C(E(R)),checked:!!R.checked}}function T(R){const{closeOnSelect:_,valueText:O,value:I}=R,M=C(R),L=Ud(c,I);return e.element({...ur.item.attrs,id:L,role:"menuitem","aria-disabled":UD(M.disabled),"data-disabled":Da(M.disabled),"data-ownedby":Rd(c),"data-highlighted":Da(M.highlighted),"data-value":I,"data-valuetext":O,onDragStart($){$.currentTarget.matches("a[href]")&&$.preventDefault()},onPointerMove($){if(M.disabled||$.pointerType!=="mouse")return;const U=$.currentTarget;M.highlighted||r({type:"ITEM_POINTERMOVE",id:L,target:U,closeOnSelect:_})},onPointerLeave($){if(M.disabled||$.pointerType!=="mouse"||!t.event.previous()?.type.includes("POINTER"))return;const D=$.currentTarget;r({type:"ITEM_POINTERLEAVE",id:L,target:D,closeOnSelect:_})},onPointerDown($){if(M.disabled)return;const U=$.currentTarget;r({type:"ITEM_POINTERDOWN",target:U,id:L,closeOnSelect:_})},onClick($){if(wE($)||SE($)||M.disabled)return;const U=$.currentTarget;r({type:"ITEM_CLICK",target:U,id:L,closeOnSelect:_})}})}return{highlightedValue:S,open:d,setOpen(R){i.hasTag("open")!==R&&r({type:R?"OPEN":"CLOSE"})},setHighlightedValue(R){r({type:"HIGHLIGHTED.SET",value:R})},setParent(R){r({type:"PARENT.SET",value:R,id:R.prop("id")})},setChild(R){r({type:"CHILD.SET",value:R,id:R.prop("id")})},reposition(R={}){r({type:"POSITIONING.SET",options:R})},addItemListener(R){const _=c.getById(R.id);if(!_)return;const O=()=>R.onSelect?.();return _.addEventListener(Iv,O),()=>_.removeEventListener(Iv,O)},getContextTriggerProps(){return e.element({...ur.contextTrigger.attrs,dir:a("dir"),id:U2(c),onPointerDown(R){if(R.pointerType==="mouse")return;const _=md(R);r({type:"CONTEXT_MENU_START",point:_})},onPointerCancel(R){R.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(R){R.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(R){R.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(R){const _=md(R);r({type:"CONTEXT_MENU",point:_}),R.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(R){const _=R.getTriggerProps();return Ot(T({value:_.id}),_)},getTriggerProps(){return e.button({...f?ur.triggerItem.attrs:ur.trigger.attrs,"data-placement":n.get("currentPlacement"),type:"button",dir:a("dir"),id:np(c),"data-uid":a("id"),"aria-haspopup":m?"menu":"dialog","aria-controls":Rd(c),"aria-expanded":d||void 0,"data-state":d?"open":"closed",onPointerMove(R){if(R.pointerType!=="mouse"||eg(R.currentTarget)||!f)return;const O=md(R);r({type:"TRIGGER_POINTERMOVE",target:R.currentTarget,point:O})},onPointerLeave(R){if(eg(R.currentTarget)||R.pointerType!=="mouse"||!f)return;const _=md(R);r({type:"TRIGGER_POINTERLEAVE",target:R.currentTarget,point:_})},onPointerDown(R){eg(R.currentTarget)||gR(R)||R.preventDefault()},onClick(R){R.defaultPrevented||eg(R.currentTarget)||r({type:"TRIGGER_CLICK",target:R.currentTarget})},onBlur(){r({type:"TRIGGER_BLUR"})},onFocus(){r({type:"TRIGGER_FOCUS"})},onKeyDown(R){if(R.defaultPrevented)return;const _={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},Enter(){r({type:"ARROW_DOWN",src:"enter"})},Space(){r({type:"ARROW_DOWN",src:"space"})}},O=EE(R,{orientation:"vertical",dir:a("dir")}),I=_[O];I&&(R.preventDefault(),I(R))}})},getIndicatorProps(){return e.element({...ur.indicator.attrs,dir:a("dir"),"data-state":d?"open":"closed"})},getPositionerProps(){return e.element({...ur.positioner.attrs,dir:a("dir"),id:W2(c),style:x.floating})},getArrowProps(){return e.element({id:q4(c),...ur.arrow.attrs,dir:a("dir"),style:x.arrow})},getArrowTipProps(){return e.element({...ur.arrowTip.attrs,dir:a("dir"),style:x.arrowTip})},getContentProps(){return e.element({...ur.content.attrs,id:Rd(c),"aria-label":a("aria-label"),hidden:!d,"data-state":d?"open":"closed",role:m?"menu":"dialog",tabIndex:0,dir:a("dir"),"aria-activedescendant":s("highlightedId")||void 0,"aria-labelledby":np(c),"data-placement":b,onPointerEnter(R){R.pointerType==="mouse"&&r({type:"MENU_POINTERENTER"})},onKeyDown(R){if(R.defaultPrevented||!fL(R))return;const _=Ii(R);if(!(_?.closest("[role=menu]")===R.currentTarget||_===R.currentTarget))return;if(R.key==="Tab"&&!IL(R)){R.preventDefault();return}const I=G2(c,S),M={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},ArrowLeft(){r({type:"ARROW_LEFT"})},ArrowRight(){r({type:"ARROW_RIGHT"})},Enter(){r({type:"ENTER"}),S!=null&&ZD(I)&&a("navigate")?.({value:S,node:I,href:I.href})},Space(U){g?r({type:"TYPEAHEAD",key:U.key}):M.Enter?.(U)},Home(){r({type:"HOME"})},End(){r({type:"END"})}},L=EE(R,{dir:a("dir")}),$=M[L];if($){$(R),R.stopPropagation(),R.preventDefault();return}a("typeahead")&&mL(R)&&(yL(R)||dR(_)||(r({type:"TYPEAHEAD",key:R.key}),R.preventDefault()))}})},getSeparatorProps(){return e.element({...ur.separator.attrs,role:"separator",dir:a("dir"),"aria-orientation":"horizontal"})},getItemState:C,getItemProps:T,getOptionItemState:k,getOptionItemProps(R){const{type:_,disabled:O,onCheckedChange:I,closeOnSelect:M}=R,L=E(R),$=k(R);return{...T(L),...e.element({"data-type":_,...ur.item.attrs,dir:a("dir"),"data-value":L.value,role:`menuitem${_}`,"aria-checked":!!$.checked,"data-state":$.checked?"checked":"unchecked",onClick(U){if(O||wE(U)||SE(U))return;const D=U.currentTarget;r({type:"ITEM_CLICK",target:D,option:L,closeOnSelect:M}),I?.(!$.checked)}})}},getItemIndicatorProps(R){const _=k(gE(R)),O=_.checked?"checked":"unchecked";return e.element({...ur.itemIndicator.attrs,dir:a("dir"),"data-disabled":Da(_.disabled),"data-highlighted":Da(_.highlighted),"data-state":Oi(R,"checked")?O:void 0,hidden:Oi(R,"checked")?!_.checked:void 0})},getItemTextProps(R){const _=k(gE(R)),O=_.checked?"checked":"unchecked";return e.element({...ur.itemText.attrs,dir:a("dir"),"data-disabled":Da(_.disabled),"data-highlighted":Da(_.highlighted),"data-state":Oi(R,"checked")?O:void 0})},getItemGroupLabelProps(R){return e.element({...ur.itemGroupLabel.attrs,id:cA(c,R.htmlFor),dir:a("dir")})},getItemGroupProps(R){return e.element({id:Y4(c,R.id),...ur.itemGroup.attrs,dir:a("dir"),"aria-labelledby":cA(c,R.id),role:"group"})}}}var{not:hi,and:Jl,or:rF}=Qo(),iF={props({props:t}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(e){mR(e.node)},...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},context({bindable:t,prop:e}){return{suspendPointer:t(()=>({defaultValue:!1})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){e("onHighlightChange")?.({highlightedValue:n})}})),lastHighlightedValue:t(()=>({defaultValue:null})),currentPlacement:t(()=>({defaultValue:void 0})),intentPolygon:t(()=>({defaultValue:null})),anchorPoint:t(()=>({defaultValue:null,hash(n){return`x: ${n?.x}, y: ${n?.y}`}}))}},refs(){return{parent:null,children:{},typeaheadState:{...Vd.defaultOptions},positioningOverride:{}}},computed:{isSubmenu:({refs:t})=>t.get("parent")!=null,isRtl:({prop:t})=>t("dir")==="rtl",isTypingAhead:({refs:t})=>t.get("typeaheadState").keysSoFar!=="",highlightedId:({context:t,scope:e,refs:n})=>oF(n.get("children"),t.get("highlightedValue"),e)},watch({track:t,action:e,context:n,computed:r,prop:i}){t([()=>r("isSubmenu")],()=>{e(["setSubmenuPlacement"])}),t([()=>n.hash("anchorPoint")],()=>{e(["reposition"])}),t([()=>i("open")],()=>{e(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:hi("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:rF("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Jl(hi("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:hi("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Jl("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:hi("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:Jl(hi("isPointerSuspended"),hi("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:Jl(hi("isTriggerItemHighlighted"),hi("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Jl(hi("isTriggerItemHighlighted"),hi("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Jl(hi("isTriggerItemHighlighted"),hi("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:t,event:e})=>!!(e?.closeOnSelect??t("closeOnSelect")),isTriggerItem:({event:t})=>eF(t.target),isTriggerItemHighlighted:({event:t,scope:e,computed:n})=>!!(t.target??e.getById(n("highlightedId")))?.hasAttribute("aria-controls"),isSubmenu:({computed:t})=>t("isSubmenu"),isPointerSuspended:({context:t})=>t.get("suspendPointer"),isHighlightedItemEditable:({scope:t,computed:e})=>dR(t.getById(e("highlightedId"))),isOpenControlled:({prop:t})=>t("open")!==void 0,isArrowLeftEvent:({event:t})=>t.previousEvent?.type==="ARROW_LEFT",isArrowUpEvent:({event:t})=>t.previousEvent?.type==="ARROW_UP",isArrowDownEvent:({event:t})=>t.previousEvent?.type==="ARROW_DOWN",isOpenAutoFocusEvent:({event:t})=>t.previousEvent?.type==="OPEN_AUTOFOCUS"},effects:{waitForOpenDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.OPEN"})},100);return()=>clearTimeout(e)},waitForCloseDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(e)},waitForLongPress({send:t}){const e=setTimeout(()=>{t({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(e)},trackPositioning({context:t,prop:e,scope:n,refs:r}){if($0(n))return;const i={...e("positioning"),...r.get("positioningOverride")};t.set("currentPlacement",i.placement);const s=()=>uA(n);return Li(Jf(n),s,{...i,defer:!0,onComplete(a){t.set("currentPlacement",a.placement)}})},trackInteractOutside({refs:t,scope:e,prop:n,computed:r,send:i}){const s=()=>Do(e);let a=!0;return oh(s,{defer:!0,exclude:[Jf(e)],onInteractOutside:n("onInteractOutside"),onFocusOutside(c){n("onFocusOutside")?.(c);const d=Ii(c.detail.originalEvent);if(Vo($0(e),d)){c.preventDefault();return}},onEscapeKeyDown(c){n("onEscapeKeyDown")?.(c),r("isSubmenu")&&c.preventDefault(),dA({parent:t.get("parent")})},onPointerDownOutside(c){n("onPointerDownOutside")?.(c);const d=Ii(c.detail.originalEvent);if(Vo($0(e),d)&&c.detail.contextmenu){c.preventDefault();return}a=!c.detail.focusable},onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},trackPointerMove({context:t,scope:e,send:n,refs:r,flush:i}){const s=r.get("parent");i(()=>{s.context.set("suspendPointer",!0)});const a=e.getDoc();return Zn(a,"pointermove",c=>{sF(t.get("intentPolygon"),{x:c.clientX,y:c.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),s.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:t,scope:e,computed:n}){const r=()=>{if(t.type.startsWith("ITEM_POINTER"))return;const s=e.getById(n("highlightedId")),a=Do(e);Yg(s,{rootEl:a,block:"nearest"})};return vt(()=>r()),jp(()=>Do(e),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint({context:t,event:e}){t.set("anchorPoint",n=>Pi(n,e.point)?n:e.point)},setSubmenuPlacement({computed:t,refs:e}){if(!t("isSubmenu"))return;const n=t("isRtl")?"left-start":"right-start";e.set("positioningOverride",{placement:n,gutter:0})},reposition({context:t,scope:e,prop:n,event:r,refs:i}){const s=()=>uA(e),a=t.get("anchorPoint"),c=a?()=>({width:0,height:0,...a}):void 0,d={...n("positioning"),...i.get("positioningOverride")};Li(Jf(e),s,{...d,defer:!0,getAnchorRect:c,...r.options??{},listeners:!1,onComplete(f){t.set("currentPlacement",f.placement)}})},setOptionState({event:t}){if(!t.option)return;const{checked:e,onCheckedChange:n,type:r}=t.option;r==="radio"?n?.(!0):r==="checkbox"&&n?.(!e)},clickHighlightedItem({scope:t,computed:e}){const n=t.getById(e("highlightedId"));!n||n.dataset.disabled||queueMicrotask(()=>n.click())},setIntentPolygon({context:t,scope:e,event:n}){const r=Do(e),i=t.get("currentPlacement");if(!r||!i)return;const s=r.getBoundingClientRect(),a=M5(s,i);if(!a)return;const d=P3(i)==="right"?-5:5;t.set("intentPolygon",[{...n.point,x:n.point.x+d},...a])},clearIntentPolygon({context:t}){t.set("intentPolygon",null)},resumePointer({refs:t,flush:e}){const n=t.get("parent");n&&e(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:t,event:e}){const n=e.value||_a(e.target);t.set("highlightedValue",n)},clearHighlightedItem({context:t}){t.set("highlightedValue",null)},focusMenu({scope:t}){vt(()=>{const e=Do(t);My({root:e,enabled:!Vo(e,t.getActiveElement()),filter(r){return!r.role?.startsWith("menuitem")}})?.focus({preventScroll:!0})})},highlightFirstItem({context:t,scope:e}){(Do(e)?queueMicrotask:vt)(()=>{const r=X4(e);r&&t.set("highlightedValue",_a(r))})},highlightLastItem({context:t,scope:e}){(Do(e)?queueMicrotask:vt)(()=>{const r=K4(e);r&&t.set("highlightedValue",_a(r))})},highlightNextItem({context:t,scope:e,event:n,prop:r}){const i=Q4(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",_a(i))},highlightPrevItem({context:t,scope:e,event:n,prop:r}){const i=Z4(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",_a(i))},invokeOnSelect({context:t,prop:e,scope:n}){const r=t.get("highlightedValue");if(r==null)return;const i=G2(n,r);tF(i,r),e("onSelect")?.({value:r})},focusTrigger({scope:t,context:e,event:n,computed:r}){r("isSubmenu")||e.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>Jf(t)?.focus({preventScroll:!0}))},highlightMatchedItem({scope:t,context:e,event:n,refs:r}){const i=J4(t,{key:n.key,value:e.get("highlightedValue"),typeaheadState:r.get("typeaheadState")});i&&e.set("highlightedValue",_a(i))},setParentMenu({refs:t,event:e}){t.set("parent",e.value)},setChildMenu({refs:t,event:e}){const n=t.get("children");n[e.id]=e.value,t.set("children",n)},closeRootMenu({refs:t}){dA({parent:t.get("parent")})},openSubmenu({refs:t,scope:e,computed:n}){const i=e.getById(n("highlightedId"))?.getAttribute("data-uid"),s=t.get("children");(i?s[i]:null)?.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:t}){t.get("parent")?.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:t,event:e}){t.set("lastHighlightedValue",_a(e.target))},restoreHighlightedItem({context:t}){t.get("lastHighlightedValue")&&(t.set("highlightedValue",t.get("lastHighlightedValue")),t.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:t}){t.get("parent")?.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:t}){t("onOpenChange")?.({open:!0})},invokeOnClose({prop:t}){t("onOpenChange")?.({open:!1})},toggleVisibility({prop:t,event:e,send:n}){n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};function dA(t){let e=t.parent;for(;e&&e.computed("isSubmenu");)e=e.refs.get("parent");e?.send({type:"CLOSE"})}function sF(t,e){return t?D5(t,e):!1}function oF(t,e,n){const r=Object.keys(t).length>0;if(!e)return null;if(!r)return Ud(n,e);for(const i in t){const s=t[i],a=np(s.scope);if(a===e)return a}return Ud(n,e)}Ke()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);Ke()(["closeOnSelect","disabled","value","valueText"]);Ke()(["htmlFor"]);Ke()(["id"]);Ke()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const aF=t=>{const e=A.useId(),{getRootNode:n}=lR(),{dir:r}=wR(),i={id:e,dir:r,getRootNode:n,...t},s=By(iF,i);return{api:nF(s,AR),service:s}},[q2,Y2]=Bi({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[X2,lF]=Bi({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),cF=t=>{const[e,n]=Np(t),[r,i]=cl()(n,["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),s=$n(),a=Y2(),{api:c,service:d}=aF(r),f=Ip(Ot({present:c.open},e));H2(()=>{a&&s&&(s.setChild(d),c.setParent(a))});const g=A.useCallback(()=>s?.getTriggerItemProps(c),[c,s]);return h.jsx(X2,{value:g,children:h.jsx(q2,{value:d,children:h.jsx(E2,{value:c,children:h.jsx(Mp,{value:f,...i})})})})},uF=t=>{const e=$n(),n=Y2(),[r,{value:i,children:s}]=Np(t),{api:a,service:c}=i,d=Ip(Ot({present:a.open},r));H2(()=>{n&&e&&(e.setChild(c),a.setParent(n))});const f=A.useCallback(()=>e?.getTriggerItemProps(a),[a,e]);return h.jsx(X2,{value:f,children:h.jsx(q2,{value:c,children:h.jsx(E2,{value:a,children:h.jsx(Mp,{value:d,children:s})})})})},K2=A.forwardRef((t,e)=>{const n=$n(),r=Ot(n.getSeparatorProps(),t);return h.jsx(Jt.hr,{...r,ref:e})});K2.displayName="MenuSeparator";const Q2=A.forwardRef((t,e)=>{const n=$n(),r=ih(),i=Ot({...n.getTriggerProps(),"aria-controls":r.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return h.jsx(Jt.button,{...i,ref:e})});Q2.displayName="MenuTrigger";const Z2=A.forwardRef((t,e)=>{const n=lF(),r=Ot(n?.()??{},t);return h.jsx(Jt.div,{...r,ref:e})});Z2.displayName="MenuTriggerItem";var J2=Ye("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","root","tree");J2.build();var ek=t=>new u2(t);ek.empty=()=>new u2({rootNode:{children:[]}});var dF=(t,e)=>t.ids?.node?.(e)??`tree:${t.id}:node:${e}`,Ta=(t,e)=>{e!=null&&t.getById(dF(t,e))?.focus()};function hF(t,e,n){const r=t.getDescendantValues(e),i=r.every(s=>n.includes(s));return hc(i?Qa(n,...r):Ha(n,...r))}function tg(t,e){const{context:n,prop:r,refs:i}=t;if(!r("loadChildren")){n.set("expandedValue",x=>hc(Ha(x,...e)));return}const s=n.get("loadingStatus"),[a,c]=hE(e,x=>s[x]==="loaded");if(a.length>0&&n.set("expandedValue",x=>hc(Ha(x,...a))),c.length===0)return;const d=r("collection"),[f,g]=hE(c,x=>{const C=d.findNode(x);return d.getNodeChildren(C).length>0});if(f.length>0&&n.set("expandedValue",x=>hc(Ha(x,...f))),g.length===0)return;n.set("loadingStatus",x=>({...x,...g.reduce((C,E)=>({...C,[E]:"loading"}),{})}));const m=g.map(x=>{const C=d.getIndexPath(x),E=d.getValuePath(C),k=d.findNode(x);return{id:x,indexPath:C,valuePath:E,node:k}}),b=i.get("pendingAborts"),y=r("loadChildren");aR(y,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");const S=m.map(({id:x,indexPath:C,valuePath:E,node:k})=>{const T=b.get(x);T&&(T.abort(),b.delete(x));const R=new AbortController;return b.set(x,R),y({valuePath:E,indexPath:C,node:k,signal:R.signal})});Promise.allSettled(S).then(x=>{const C=[],E=[],k=n.get("loadingStatus");let T=r("collection");x.forEach((R,_)=>{const{id:O,indexPath:I,node:M,valuePath:L}=m[_];R.status==="fulfilled"?(k[O]="loaded",C.push(O),T=T.replace(I,{...M,children:R.value})):(b.delete(O),Reflect.deleteProperty(k,O),E.push({node:M,error:R.reason,indexPath:I,valuePath:L}))}),n.set("loadingStatus",k),C.length&&(n.set("expandedValue",R=>hc(Ha(R,...C))),r("onLoadChildrenComplete")?.({collection:T})),E.length&&r("onLoadChildrenError")?.({nodes:E})})}function jo(t){const{prop:e,context:n}=t;return function({indexPath:i}){return e("collection").getValuePath(i).slice(0,-1).some(a=>!n.get("expandedValue").includes(a))}}var{and:ns}=Qo();ns("isMultipleSelection","moveFocus"),ns("isShiftKey","isMultipleSelection"),ns("isShiftKey","isMultipleSelection"),ns("isBranchFocused","isBranchExpanded"),ns("isShiftKey","isMultipleSelection"),ns("isShiftKey","isMultipleSelection"),ns("isCtrlKey","isMultipleSelection"),ns("isShiftKey","isMultipleSelection"),ns("isCtrlKey","isMultipleSelection"),ns("isShiftKey","isMultipleSelection");Ke()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren"]);Ke()(["node","indexPath"]);let U0=new Map,Mv=!1;try{Mv=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let rp=!1;try{rp=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const tk={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class fF{format(e){let n="";if(!Mv&&this.options.signDisplay!=null?n=pF(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!rp){var r;let{unit:i,unitDisplay:s="short",locale:a}=this.resolvedOptions();if(!i)return n;let c=(r=tk[i])===null||r===void 0?void 0:r[s];n+=c[a]||c.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!Mv&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!rp&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=gF(e,n),this.options=n}}function gF(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!rp){var r;let{unit:a,unitDisplay:c="short"}=e;if(!a)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=tk[a])===null||r===void 0)&&r[c]))throw new Error(`Unsupported unit ${a} with unitDisplay = ${c}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((a,c)=>a[0]<c[0]?-1:1).join():"");if(U0.has(i))return U0.get(i);let s=new Intl.NumberFormat(t,e);return U0.set(i,s),s}function pF(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),s=t.format(n),a=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...a].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(a,"+").replace("!!!",s)}else return t.format(n)}}const mF=new RegExp("^.*\\(.*\\).*$"),bF=["latn","arab","hanidec","deva","beng"];class nk{parse(e){return W0(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return W0(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return W0(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const hA=new Map;function W0(t,e,n){let r=fA(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let i of bF)if(i!==r.options.numberingSystem){let s=fA(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(s.isValidPartialNumber(n))return s}}return r}function fA(t,e){let n=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():""),r=hA.get(n);return r||(r=new vF(t,e),hA.set(n,r)),r}class vF{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=Yu(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let a=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let c=n.indexOf(".");c===-1&&(c=n.length),n=n.replace(".",""),c-2===0?n=`0.${n}`:c-2===-1?n=`0.0${n}`:c-2===-2?n="0.00":n=`${n.slice(0,c-2)}.${n.slice(c-2)}`,a>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,s;let a={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new nk(this.locale,a).parse(new fF(this.locale,a).format(r))}return this.options.currencySign==="accounting"&&mF.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=Yu(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Yu(e," ",this.symbols.group),e=Yu(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Yu(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=xF(e,this.formatter,this.options,n);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const gA=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),yF=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function xF(t,e,n,r){var i,s,a,c;let d=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),f=d.formatToParts(-10000.111),g=d.formatToParts(10000.111),m=yF.map($=>d.formatToParts($));var b;let y=(b=(i=f.find($=>$.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&b!==void 0?b:"-",S=(s=g.find($=>$.type==="plusSign"))===null||s===void 0?void 0:s.value;!S&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(S="+");let C=(a=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find($=>$.type==="decimal"))===null||a===void 0?void 0:a.value,E=(c=f.find($=>$.type==="group"))===null||c===void 0?void 0:c.value,k=f.filter($=>!gA.has($.type)).map($=>pA($.value)),T=m.flatMap($=>$.filter(U=>!gA.has(U.type)).map(U=>pA(U.value))),R=[...new Set([...k,...T])].sort(($,U)=>U.length-$.length),_=R.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${R.join("|")}|[\\p{White_Space}]`,"gu"),O=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),I=new Map(O.map(($,U)=>[$,U])),M=new RegExp(`[${O.join("")}]`,"g");return{minusSign:y,plusSign:S,decimal:C,group:E,literals:_,numeral:M,index:$=>String(I.get($))}}function Yu(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function pA(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var rk=Ye("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");rk.build();var SF=t=>t.ids?.input??`number-input:${t.id}:input`,wF=t=>t.ids?.incrementTrigger??`number-input:${t.id}:inc`,CF=t=>t.ids?.decrementTrigger??`number-input:${t.id}:dec`,ik=t=>`number-input:${t.id}:cursor`,ng=t=>t.getById(SF(t)),EF=t=>t.getById(wF(t)),AF=t=>t.getById(CF(t)),sk=t=>t.getDoc().getElementById(ik(t)),_F=(t,e)=>{let n=null;return e==="increment"&&(n=EF(t)),e==="decrement"&&(n=AF(t)),n},TF=(t,e)=>{if(!fR())return OF(t,e),()=>{sk(t)?.remove()}},RF=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},kF=(t,e)=>{const{point:n,isRtl:r,event:i}=e,s=t.getWin(),a=M0(i.movementX,s.devicePixelRatio),c=M0(i.movementY,s.devicePixelRatio);let d=a>0?"increment":a<0?"decrement":null;r&&d==="increment"&&(d="decrement"),r&&d==="decrement"&&(d="increment");const f={x:n.x+a,y:n.y+c},g=s.innerWidth,m=M0(7.5,s.devicePixelRatio);return f.x=OD(f.x+m,g)-m,{hint:d,point:f}},OF=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=ik(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:$D,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function jF(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,i=r.substring(0,e),s=r.substring(n);return{start:e,end:n,value:r,beforeTxt:i,afterTxt:s}}catch{}}function PF(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:i="",start:s}=e;let a=n.length;if(n.endsWith(i))a=n.length-i.length;else if(n.startsWith(r))a=r.length;else if(s!=null){const c=r[s-1],d=n.indexOf(c,s-1);d!==-1&&(a=d+1)}t.setSelectionRange(a,a)}catch{}}}var NF=(t,e={})=>new Intl.NumberFormat(t,e),IF=(t,e={})=>new nk(t,e),G0=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},Ra=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},MF=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return e?.style==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:DF,guards:LF,createMachine:zF}=SR(),{not:mA,and:bA}=LF;zF({props({props:t}){const e=MF(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){const i=n(),s=G0(r,{computed:i,prop:t});t("onValueChange")?.({value:r,valueAsNumber:s})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>G0(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>Ra(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>PD(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>jD(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!ND(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>t("translations").valueText?.(e.get("value")),formatter:_E(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>NF(t,e)),parser:_E(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>IF(t,e))},watch({track:t,action:e,context:n,computed:r,prop:i}){t([()=>n.get("value"),()=>i("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:bA("clampValueOnBlur",mA("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:mA("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:DF([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:bA("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=ng(e);return Py(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return TF(e,n)},preventTextSelection({scope:t}){return RF(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),i=_F(e,r);return jp(i,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=ng(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function i(s){s.preventDefault();const a=Math.sign(s.deltaY)*-1;a===1?e({type:"VALUE.INCREMENT"}):a===-1&&e({type:"VALUE.DECREMENT"})}return Zn(r,"wheel",i,{passive:!1})},activatePointerLock({scope:t}){if(!fR())return BL(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const i=t.getDoc();function s(c){const d=n.get("scrubberCursorPoint"),f=r("isRtl"),g=kF(t,{point:d,isRtl:f,event:c});g.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:g.hint,point:g.point})}function a(){e({type:"SCRUBBER.POINTER_UP"})}return Gg(Zn(i,"mousemove",s,!1),Zn(i,"mouseup",a,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=ng(t);t.isActiveElement(n)||vt(()=>n?.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let i=LD(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Rr(i,n("min"),n("max"))),t.set("value",Ra(i,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let i=zD(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Rr(i,n("min"),n("max"))),t.set("value",Ra(i,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=Rr(n("valueAsNumber"),e("min"),e("max"));t.set("value",Ra(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let i=G0(e.value,{computed:r,prop:n});n("allowOverflow")||(i=Rr(i,n("min"),n("max"))),t.set("value",Ra(i,{computed:r,prop:n}))},setValue({context:t,event:e}){const n=e.target?.value??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=Ra(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=Ra(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){e("onFocusChange")?.({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){e("onFocusChange")?.({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";e("onValueInvalid")?.({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const i=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),s=ng(r),a=jF(s);vt(()=>{Op(s,i),PF(s,a)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=sk(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});Ke()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);var ok=Ye("pinInput").parts("root","label","input","control");ok.build();Ke()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var ak=Ye("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");ak.build();Ke()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);var ix=Ye("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");ix.build();Ke()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var lk=Ye("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");lk.build();Ke()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var sx=Ye("radio-group").parts("root","label","item","itemText","itemControl","indicator");sx.build();Ke()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);Ke()(["value","disabled","invalid"]);var ck=Ye("rating-group").parts("root","label","item","control");ck.build();Ke()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);Ke()(["index"]);const uk=sx.rename("segment-group");uk.build();var dk=Ye("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");dk.build();var hk=t=>new Vp(t);hk.empty=()=>new Vp({items:[]});var FF=t=>t.ids?.content??`select:${t.id}:content`,BF=t=>t.ids?.trigger??`select:${t.id}:trigger`,VF=t=>t.ids?.clearTrigger??`select:${t.id}:clear-trigger`,HF=(t,e)=>t.ids?.item?.(e)??`select:${t.id}:option:${e}`,$F=t=>t.ids?.hiddenSelect??`select:${t.id}:select`,UF=t=>t.ids?.positioner??`select:${t.id}:positioner`,q0=t=>t.getById($F(t)),Xu=t=>t.getById(FF(t)),rg=t=>t.getById(BF(t)),WF=t=>t.getById(VF(t)),vA=t=>t.getById(UF(t)),GF=(t,e)=>t.getById(HF(t,e)),{and:Ku,not:ka,or:qF}=Qo();qF("isTriggerArrowDownEvent","isTriggerEnterEvent"),Ku(ka("multiple"),"hasSelectedItems"),ka("multiple"),Ku(ka("multiple"),"hasSelectedItems"),ka("multiple"),ka("multiple"),ka("multiple"),ka("multiple"),Ku("closeOnSelect","isOpenControlled"),Ku("hasHighlightedItem","loop","isLastItemHighlighted"),Ku("hasHighlightedItem","loop","isFirstItemHighlighted");function yA(t){const e=t.restoreFocus??t.previousEvent?.restoreFocus;return e==null||!!e}Ke()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);Ke()(["item","persistFocus"]);Ke()(["id"]);Ke()(["htmlFor"]);var fk=Ye("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");fk.build();Ke()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);Ke()(["index","name"]);var gk=Ye("switch").parts("root","label","control","thumb");gk.build();Ke()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var YF=Ye("toast").parts("group","root","title","description","actionTrigger","closeTrigger");YF.build();var XF=(t,e)=>({...e,...Tp(t)});function KF(t){const e=XF(t,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let n=[],r=[],i=new Set,s=[];const a=D=>(n.push(D),()=>{const B=n.indexOf(D);n.splice(B,1)}),c=D=>(n.forEach(B=>B(D)),D),d=D=>{if(r.length>=e.max){s.push(D);return}c(D),r.unshift(D)},f=()=>{for(;s.length>0&&r.length<e.max;){const D=s.shift();D&&(c(D),r.unshift(D))}},g=D=>{const B=D.id??`toast:${AD()}`,H=r.find(G=>G.id===B);return i.has(B)&&i.delete(B),H?r=r.map(G=>G.id===B?c({...G,...D,id:B}):G):d({id:B,duration:e.duration,removeDelay:e.removeDelay,type:"info",...D,stacked:!e.overlap,gap:e.gap}),B},m=D=>(i.add(D),D?(n.forEach(B=>B({id:D,dismiss:!0})),r=r.filter(B=>B.id!==D),f()):(r.forEach(B=>{n.forEach(H=>H({id:B.id,dismiss:!0}))}),r=[],s=[]),D);return{attrs:e,subscribe:a,create:g,update:(D,B)=>g({id:D,...B}),remove:m,dismiss:D=>{D!=null?r=r.map(B=>B.id===D?c({...B,message:"DISMISS"}):B):r=r.map(B=>c({...B,message:"DISMISS"}))},error:D=>g({...D,type:"error"}),success:D=>g({...D,type:"success"}),info:D=>g({...D,type:"info"}),warning:D=>g({...D,type:"warning"}),loading:D=>g({...D,type:"loading"}),getVisibleToasts:()=>r.filter(D=>!i.has(D.id)),getCount:()=>r.length,promise:(D,B,H={})=>{if(!B||!B.loading){Fd("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}const G=g({...H,...B.loading,promise:D,type:"loading"});let P=!0,W;const Q=pd(D).then(async F=>{if(W=["resolve",F],QF(F)&&!F.ok){P=!1;const Z=pd(B.error,`HTTP Error! status: ${F.status}`);g({...H,...Z,id:G,type:"error"})}else if(B.success!==void 0){P=!1;const Z=pd(B.success,F);g({...H,...Z,id:G,type:"success"})}}).catch(async F=>{if(W=["reject",F],B.error!==void 0){P=!1;const Z=pd(B.error,F);g({...H,...Z,id:G,type:"error"})}}).finally(()=>{P&&m(G),B.finally?.()});return{id:G,unwrap:()=>new Promise((F,Z)=>Q.then(()=>W[0]==="reject"?Z(W[1]):F(W[1])).catch(Z))}},pause:D=>{D!=null?r=r.map(B=>B.id===D?c({...B,message:"PAUSE"}):B):r=r.map(B=>c({...B,message:"PAUSE"}))},resume:D=>{D!=null?r=r.map(B=>B.id===D?c({...B,message:"RESUME"}):B):r=r.map(B=>c({...B,message:"RESUME"}))},isVisible:D=>!i.has(D)&&!!r.find(B=>B.id===D),isDismissed:D=>i.has(D),expand:()=>{r=r.map(D=>c({...D,stacked:!0}))},collapse:()=>{r=r.map(D=>c({...D,stacked:!1}))}}}var QF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number";const $p=t=>KF(t),[pk,lh]=Bi({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),mk=A.forwardRef((t,e)=>{const n=lh(),r=Ot(n.getArrowProps(),t);return h.jsx(Jt.div,{...r,ref:e})});mk.displayName="TooltipArrow";const bk=A.forwardRef((t,e)=>{const n=lh(),r=Ot(n.getArrowTipProps(),t);return h.jsx(Jt.div,{...r,ref:e})});bk.displayName="TooltipArrowTip";const vk=A.forwardRef((t,e)=>{const n=lh(),r=ih(),i=Ot(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:h.jsx(Jt.div,{...i,ref:Pp(r.ref,e)})});vk.displayName="TooltipContent";const yk=A.forwardRef((t,e)=>{const n=lh(),r=Ot(n.getPositionerProps(),t);return ih().unmounted?null:h.jsx(Jt.div,{...r,ref:e})});yk.displayName="TooltipPositioner";var xk=Ye("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),Qu=xk.build(),Sk=t=>t.ids?.trigger??`tooltip:${t.id}:trigger`,ZF=t=>t.ids?.content??`tooltip:${t.id}:content`,JF=t=>t.ids?.arrow??`tooltip:${t.id}:arrow`,wk=t=>t.ids?.positioner??`tooltip:${t.id}:popper`,Y0=t=>t.getById(Sk(t)),xA=t=>t.getById(wk(t)),Gs=w2({id:null});function e6(t,e){const{state:n,context:r,send:i,scope:s,prop:a,event:c}=t,d=a("id"),f=!!a("aria-label"),g=n.matches("open","closing"),m=Sk(s),b=ZF(s),y=a("disabled"),S=WR({...a("positioning"),placement:r.get("currentPlacement")});return{open:g,setOpen(x){n.matches("open","closing")!==x&&i({type:x?"open":"close"})},reposition(x={}){i({type:"positioning.set",options:x})},getTriggerProps(){return e.button({...Qu.trigger.attrs,id:m,dir:a("dir"),"data-expanded":Da(g),"data-state":g?"open":"closed","aria-describedby":g?b:void 0,onClick(x){x.defaultPrevented||y||a("closeOnClick")&&i({type:"close",src:"trigger.click"})},onFocus(x){queueMicrotask(()=>{x.defaultPrevented||y||c.src!=="trigger.pointerdown"&&jv()&&i({type:"open",src:"trigger.focus"})})},onBlur(x){x.defaultPrevented||y||d===Gs.id&&i({type:"close",src:"trigger.blur"})},onPointerDown(x){x.defaultPrevented||y||vL(x)&&a("closeOnPointerDown")&&d===Gs.id&&i({type:"close",src:"trigger.pointerdown"})},onPointerMove(x){x.defaultPrevented||y||x.pointerType!=="touch"&&i({type:"pointer.move"})},onPointerLeave(){y||i({type:"pointer.leave"})},onPointerCancel(){y||i({type:"pointer.leave"})}})},getArrowProps(){return e.element({id:JF(s),...Qu.arrow.attrs,dir:a("dir"),style:S.arrow})},getArrowTipProps(){return e.element({...Qu.arrowTip.attrs,dir:a("dir"),style:S.arrowTip})},getPositionerProps(){return e.element({id:wk(s),...Qu.positioner.attrs,dir:a("dir"),style:S.floating})},getContentProps(){return e.element({...Qu.content.attrs,dir:a("dir"),hidden:!g,"data-state":g?"open":"closed",role:f?void 0:"tooltip",id:f?void 0:b,"data-placement":r.get("currentPlacement"),onPointerEnter(){i({type:"content.pointer.move"})},onPointerLeave(){i({type:"content.pointer.leave"})},style:{pointerEvents:a("interactive")?"auto":"none"}})}}}var{and:t6,not:SA}=Qo(),n6={initialState:({prop:t})=>t("open")||t("defaultOpen")?"open":"closed",props({props:t}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...t,positioning:{placement:"bottom",...t.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:t})=>({currentPlacement:t(()=>({defaultValue:void 0})),hasPointerMoveOpened:t(()=>({defaultValue:!1}))}),watch({track:t,action:e,prop:n}){t([()=>n("disabled")],()=>{e(["closeIfDisabled"])}),t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:t6("noVisibleTooltip",SA("hasPointerMoveOpened")),target:"opening"},{guard:SA("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>Gs.id===null,isVisible:({prop:t})=>t("id")===Gs.id,isInteractive:({prop:t})=>!!t("interactive"),hasPointerMoveOpened:({context:t})=>t.get("hasPointerMoveOpened"),isOpenControlled:({prop:t})=>t("open")!==void 0},actions:{setGlobalId:({prop:t})=>{Gs.id=t("id")},clearGlobalId:({prop:t})=>{t("id")===Gs.id&&(Gs.id=null)},invokeOnOpen:({prop:t})=>{t("onOpenChange")?.({open:!0})},invokeOnClose:({prop:t})=>{t("onOpenChange")?.({open:!1})},closeIfDisabled:({prop:t,send:e})=>{t("disabled")&&e({type:"close",src:"disabled.change"})},reposition:({context:t,event:e,prop:n,scope:r})=>{if(e.type!=="positioning.set")return;const i=()=>xA(r);return Li(Y0(r),i,{...n("positioning"),...e.options,defer:!0,listeners:!1,onComplete(s){t.set("currentPlacement",s.placement)}})},toggleVisibility:({prop:t,event:e,send:n})=>{queueMicrotask(()=>{n({type:t("open")?"controlled.open":"controlled.close",previousEvent:e})})},setPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:t})=>$5({root:t.getRootNode?.()}),trackPositioning:({context:t,prop:e,scope:n})=>{t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const r=()=>xA(n);return Li(Y0(n),r,{...e("positioning"),defer:!0,onComplete(i){t.set("currentPlacement",i.placement)}})},trackPointerlockChange:({send:t,scope:e})=>{const n=e.getDoc();return Zn(n,"pointerlockchange",()=>t({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:t,prop:e,scope:n})=>{if(!e("closeOnScroll"))return;const r=Y0(n);if(!r)return;const s=bR(r).map(a=>Zn(a,"scroll",()=>{t({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{s.forEach(a=>a?.())}},trackStore:({prop:t,send:e})=>{let n;return queueMicrotask(()=>{n=V4(Gs,()=>{Gs.id!==t("id")&&e({type:"close",src:"id.change"})})}),()=>n?.()},trackEscapeKey:({send:t,prop:e})=>e("closeOnEscape")?Zn(document,"keydown",r=>{gL(r)||r.key==="Escape"&&(r.stopPropagation(),t({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.openDelay"})},e("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.closeDelay"})},e("closeDelay"));return()=>clearTimeout(n)}}}};Ke()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const r6=t=>{const e=A.useId(),{getRootNode:n}=lR(),{dir:r}=wR(),i={id:e,dir:r,getRootNode:n,...t},s=By(n6,i);return e6(s,AR)},i6=t=>{const[e,{children:n,...r}]=Np(t),i=r6(r),s=Ip(Ot({present:i.open},e));return h.jsx(pk,{value:i,children:h.jsx(Mp,{value:s,children:n})})},s6=t=>{const[e,{value:n,children:r}]=Np(t),i=Ip(Ot({present:n.open},e));return h.jsx(pk,{value:n,children:h.jsx(Mp,{value:i,children:r})})},Ck=A.forwardRef((t,e)=>{const n=lh(),r=Ot(n.getTriggerProps(),t);return h.jsx(Jt.button,{...r,ref:e})});Ck.displayName="TooltipTrigger";function Ek(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}const o6=(t,e)=>{if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,r]=t.split("/");if(!n||!r||n==="currentBg")return{invalid:!0,value:n};const i=e(`colors.${n}`),s=e.raw(`opacity.${r}`)?.value;if(!s&&isNaN(Number(r)))return{invalid:!0,value:n};const a=s?Number(s)*100+"%":`${r}%`,c=i??n;return{invalid:!1,color:c,value:`color-mix(in srgb, ${c} ${a}, transparent)`}},$t=t=>(e,n)=>{const r=n.utils.colorMix(e);if(r.invalid)return{[t]:e};const i="--mix-"+t;return{[i]:r.value,[t]:`var(${i}, ${r.color})`}};function Dv(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>Dv(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=Dv(t[n]);return e}function Lv(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!Tr(t[n])&&Tr(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&Tr(e[n]))Lv(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let r=0;for(;r<e[n].length;r++)Tr(t[n][r])&&Tr(e[n][r])?Lv(t[n][r],e[n][r]):t[n][r]=e[n][r]}else Object.assign(t,{[n]:e[n]});return t}function Bc(t,...e){for(const n of e)Lv(t,n);return t}const a6=t=>t,Pn=t=>t,Qe=t=>t,l6=t=>t,c6=t=>t,Vc=t=>t,u6=t=>t,d6=t=>t,h6=t=>t;function Ak(){const t=e=>e;return new Proxy(t,{get(){return t}})}const Tn=Ak(),ox=Ak(),_k=t=>t,Tk=(...t)=>Bc({},...t.map(Dv)),f6=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function g6(t){return`${t}`.replace(f6,e=>`\\${e}`)}const p6=/[A-Z]/g;function m6(t){return t.replace(p6,e=>`-${e.toLowerCase()}`)}function Rk(t,e={}){const{fallback:n="",prefix:r=""}=e,i=m6(["-",r,g6(t)].filter(Boolean).join("-"));return{var:i,ref:`var(${i}${n?`, ${n}`:""})`}}const b6=t=>/^var\(--.+\)$/.test(t),zn=(t,e)=>e!=null?`${t}(${e})`:e,Oa=t=>{if(b6(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},wA=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const r=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":r,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":r,[t]:{outline:"none"}}}[e]??{}}}),v6=$t("borderColor"),Hs=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),y6=a6({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),gc=Rk("bg-currentcolor"),CA=t=>t===gc.ref||t==="currentBg",Ht=t=>({...t("colors"),currentBg:gc}),x6=_k({conditions:y6,utilities:{background:{values:Ht,shorthand:["bg"],transform(t,e){if(CA(e.raw))return{background:gc.ref};const n=$t("background")(t,e);return{...n,[gc.var]:n?.background}}},backgroundColor:{values:Ht,shorthand:["bgColor"],transform(t,e){if(CA(e.raw))return{backgroundColor:gc.ref};const n=$t("backgroundColor")(t,e);return{...n,[gc.var]:n?.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:Ht,transform:$t("--gradient-from")},gradientTo:{values:Ht,transform:$t("--gradient-to")},gradientVia:{values:Ht,transform(t,e){return{...$t("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:Ht,transform:$t("borderColor")},borderTopColor:{values:Ht,transform:$t("borderTopColor")},borderBlockStartColor:{values:Ht,transform:$t("borderBlockStartColor")},borderBottomColor:{values:Ht,transform:$t("borderBottomColor")},borderBlockEndColor:{values:Ht,transform:$t("borderBlockEndColor")},borderLeftColor:{values:Ht,transform:$t("borderLeftColor")},borderInlineStartColor:{values:Ht,shorthand:["borderStartColor"],transform:$t("borderInlineStartColor")},borderRightColor:{values:Ht,transform:$t("borderRightColor")},borderInlineEndColor:{values:Ht,shorthand:["borderEndColor"],transform:$t("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:Ht,transform:$t("color")},fill:{values:Ht,transform:$t("fill")},stroke:{values:Ht,transform:$t("stroke")},accentColor:{values:Ht,transform:$t("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:Ht,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":v6(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:Ht,transform:$t("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":zn("blur",t)})},brightness:{transform:t=>({"--brightness":zn("brightness",t)})},contrast:{transform:t=>({"--contrast":zn("contrast",t)})},grayscale:{transform:t=>({"--grayscale":zn("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":zn("hue-rotate",Oa(t))})},invert:{transform:t=>({"--invert":zn("invert",t)})},saturate:{transform:t=>({"--saturate":zn("saturate",t)})},sepia:{transform:t=>({"--sepia":zn("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":zn("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":zn("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":zn("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":zn("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":zn("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":zn("hue-rotate",Oa(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":zn("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":zn("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":zn("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":zn("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:Ht,transform:$t("outlineColor")},focusRing:wA("&:is(:focus, [data-focus])"),focusVisibleRing:wA("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:Ht,transform:$t("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:Ht,transform:$t("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:Ht,transform:$t("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:Ht,transform:$t("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:Ht,transform:$t("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":Oa(t)})},skewY:{transform:t=>({"--skew-y":Oa(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:Oa(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":Oa(t)}}},rotateY:{transform(t){return{"--rotate-y":Oa(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Hs("all");case"position":return Hs("left, right, top, bottom, inset-inline, inset-block");case"colors":return Hs("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Hs("opacity");case"shadow":return Hs("box-shadow");case"transform":return Hs("transform");case"size":return Hs("width, height");case"backgrounds":return Hs("background, background-color, background-image, background-position");case"common":return Hs("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return S6[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:Ht,transform:$t("caretColor")},cursor:{values:"cursor"}}}),S6={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var w6="",C6=w6.split(","),E6="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,WebkitUserSelect,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,anchorName,anchorScope,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimeline,animationTimingFunction,appearance,aspectRatio,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBlockStyle,borderBlockWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineColor,borderInlineEnd,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderInlineStyle,borderInlineWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,clipRule,color,colorInterpolationFilters,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,cx,cy,d,direction,display,dominantBaseline,emptyCells,fieldSizing,fill,fillOpacity,fillRule,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,floodColor,floodOpacity,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontVariationSettings,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,interpolateSize,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lightingColor,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,marker,markerEnd,markerMid,markerStart,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,positionAnchor,positionArea,positionTry,positionTryFallbacks,positionTryOrder,positionVisibility,printColorAdjust,quotes,r,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,rx,ry,scale,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginBottom,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockEnd,scrollPaddingBlockStart,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,scrollbarColor,scrollbarGutter,scrollbarWidth,shapeImageThreshold,shapeMargin,shapeOutside,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,tabSize,tableLayout,textAlign,textAlignLast,textAnchor,textBox,textBoxEdge,textBoxTrim,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textSpacingTrim,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,textWrapMode,textWrapStyle,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,vectorEffect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,x,y,zIndex,zoom,alignmentBaseline,baselineShift,colorInterpolation,colorRendering,glyphOrientationVertical",A6=E6.split(",").concat(C6),_6=new Map(A6.map(t=>[t,!0]));function T6(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var R6=/&|@/,k6=T6(t=>_6.has(t)||t.startsWith("--")||R6.test(t));const zv=t=>t!=null;function Js(t,e,n={}){const{stop:r,getKey:i}=n;function s(a,c=[]){if(Tr(a)||Array.isArray(a)){const d={};for(const[f,g]of Object.entries(a)){const m=i?.(f,g)??f,b=[...c,m];if(r?.(a,b))return e(a,c);const y=s(g,b);zv(y)&&(d[m]=y)}return d}return e(a,c)}return s(t)}function ax(t,e){return Array.isArray(t)?t.map(n=>zv(n)?e(n):n):Tr(t)?Js(t,n=>e(n)):zv(t)?e(t):t}function kk(t,e){const n={};return Js(t,(r,i)=>{r&&(n[i.join(".")]=r.value)},{stop:e}),n}var X0,EA;function O6(){if(EA)return X0;EA=1,X0=s,s.default=s,s.stable=f,s.stableStringify=f;var t="[...]",e="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(b,y,S,x){typeof x>"u"&&(x=i()),c(b,"",0,[],void 0,0,x);var C;try{r.length===0?C=JSON.stringify(b,y,S):C=JSON.stringify(b,m(y),S)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var E=n.pop();E.length===4?Object.defineProperty(E[0],E[1],E[3]):E[0][E[1]]=E[2]}}return C}function a(b,y,S,x){var C=Object.getOwnPropertyDescriptor(x,S);C.get!==void 0?C.configurable?(Object.defineProperty(x,S,{value:b}),n.push([x,S,y,C])):r.push([y,S,b]):(x[S]=b,n.push([x,S,y]))}function c(b,y,S,x,C,E,k){E+=1;var T;if(typeof b=="object"&&b!==null){for(T=0;T<x.length;T++)if(x[T]===b){a(e,b,y,C);return}if(typeof k.depthLimit<"u"&&E>k.depthLimit){a(t,b,y,C);return}if(typeof k.edgesLimit<"u"&&S+1>k.edgesLimit){a(t,b,y,C);return}if(x.push(b),Array.isArray(b))for(T=0;T<b.length;T++)c(b[T],T,T,x,b,E,k);else{var R=Object.keys(b);for(T=0;T<R.length;T++){var _=R[T];c(b[_],_,T,x,b,E,k)}}x.pop()}}function d(b,y){return b<y?-1:b>y?1:0}function f(b,y,S,x){typeof x>"u"&&(x=i());var C=g(b,"",0,[],void 0,0,x)||b,E;try{r.length===0?E=JSON.stringify(C,y,S):E=JSON.stringify(C,m(y),S)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var k=n.pop();k.length===4?Object.defineProperty(k[0],k[1],k[3]):k[0][k[1]]=k[2]}}return E}function g(b,y,S,x,C,E,k){E+=1;var T;if(typeof b=="object"&&b!==null){for(T=0;T<x.length;T++)if(x[T]===b){a(e,b,y,C);return}try{if(typeof b.toJSON=="function")return}catch{return}if(typeof k.depthLimit<"u"&&E>k.depthLimit){a(t,b,y,C);return}if(typeof k.edgesLimit<"u"&&S+1>k.edgesLimit){a(t,b,y,C);return}if(x.push(b),Array.isArray(b))for(T=0;T<b.length;T++)g(b[T],T,T,x,b,E,k);else{var R={},_=Object.keys(b).sort(d);for(T=0;T<_.length;T++){var O=_[T];g(b[O],O,T,x,b,E,k),R[O]=b[O]}if(typeof C<"u")n.push([C,y,b]),C[y]=R;else return R}x.pop()}}function m(b){return b=typeof b<"u"?b:function(y,S){return S},function(y,S){if(r.length>0)for(var x=0;x<r.length;x++){var C=r[x];if(C[1]===y&&C[0]===S){S=C[2],r.splice(x,1);break}}return b.call(this,y,S)}}return X0}var j6=O6();const P6=th(j6),ji=t=>{const e=Object.create(null);function n(...r){const i=r.map(s=>P6(s)).join("|");return e[i]===void 0&&(e[i]=t(...r)),e[i]}return n},Ok=16,ip="px",lx="em",kd="rem";function jk(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${ip}|${lx}|${kd}`);return t.match(new RegExp(`${e.source}(${n.source})`))?.[1]}function Pk(t=""){if(typeof t=="number")return`${t}px`;const e=jk(t);if(!e||e===ip)return t;if(e===lx||e===kd)return`${parseFloat(t)*Ok}${ip}`}function Nk(t=""){const e=jk(t);if(!e||e===kd)return t;if(e===lx)return`${parseFloat(t)}${kd}`;if(e===ip)return`${parseFloat(t)/Ok}${kd}`}const N6=t=>t.charAt(0).toUpperCase()+t.slice(1);function I6(t){const e=M6(t),n=Object.fromEntries(e);function r(b){return n[b]}function i(b){return ec(r(b))}function s(){const b=Object.keys(n),y=D6(b),S=b.flatMap(x=>{const C=r(x),E=[`${x}Down`,ec({max:kg(C.min)})],k=[x,ec({min:C.min})],T=[`${x}Only`,i(x)];return[k,T,E]}).filter(([,x])=>x!=="").concat(y.map(([x,C])=>{const E=r(x),k=r(C);return[`${x}To${N6(C)}`,ec({min:E.min,max:kg(k.min)})]}));return Object.fromEntries(S)}function a(){const b=s();return Object.fromEntries(Object.entries(b))}const c=a(),d=b=>c[b];function f(){return["base",...Object.keys(n)]}function g(b){return ec({min:r(b).min})}function m(b){return ec({max:kg(r(b).min)})}return{values:Object.values(n),only:i,keys:f,conditions:c,getCondition:d,up:g,down:m}}function kg(t){const e=parseFloat(Pk(t)??"")-.04;return Nk(`${e}px`)}function M6(t){return Object.entries(t).sort(([,n],[,r])=>parseInt(n,10)<parseInt(r,10)?-1:1).map(([n,r],i,s)=>{let a=null;return i<=s.length-1&&(a=s[i+1]?.[1]),a!=null&&(a=kg(a)),[n,{name:n,min:Nk(r),max:a}]})}function D6(t){const e=[];return t.forEach((n,r)=>{let i=r;i++;let s=t[i];for(;s;)e.push([n,s]),i++,s=t[i]}),e}function ec({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const L6=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,r])=>e(n,r))),z6=t=>{const{breakpoints:e,conditions:n={}}=t,r=L6(n,(g,m)=>[`_${g}`,m]),i=Object.assign({},r,e.conditions);function s(){return Object.keys(i)}function a(g){return s().includes(g)||/^@|&|&$/.test(g)||g.startsWith("_")}function c(g){return g.filter(m=>m!=="base").sort((m,b)=>{const y=a(m),S=a(b);return y&&!S?1:!y&&S?-1:0})}function d(g){return g.startsWith("@breakpoint")?e.getCondition(g.replace("@breakpoint ","")):g}function f(g){return Reflect.get(i,g)||g}return{keys:s,sort:c,has:a,resolve:f,breakpoints:e.keys(),expandAtRule:d}},Ik=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),F6=Ik("width"),B6=Ik("height"),Mk=t=>({isMin:OA(t.minMax,t.maxMin,t.min),isMax:OA(t.maxMin,t.minMax,t.max)}),{isMin:Fv,isMax:AA}=Mk(F6),{isMin:Bv,isMax:_A}=Mk(B6),TA=/print/i,RA=/^print$/i,V6=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,H6=/(\d)/,yd=Number.MAX_VALUE,$6={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function kA(t){const e=V6.exec(t)||(Fv(t)||Bv(t)?H6.exec(t):null);if(!e)return yd;if(e[0]==="0")return 0;const n=parseFloat(e[1]),r=e[2];return n*($6[r]||1)}function OA(t,e,n){return r=>t.test(r)||!e.test(r)&&n.test(r)}function U6(t,e){const n=TA.test(t),r=RA.test(t),i=TA.test(e),s=RA.test(e);return n&&i?!r&&s?1:r&&!s?-1:t.localeCompare(e):n?1:i?-1:null}const W6=ji((t,e)=>{const n=U6(t,e);if(n!==null)return n;const r=Fv(t)||Bv(t),i=AA(t)||_A(t),s=Fv(e)||Bv(e),a=AA(e)||_A(e);if(r&&a)return-1;if(i&&s)return 1;const c=kA(t),d=kA(e);return c===yd&&d===yd?t.localeCompare(e):c===yd?1:d===yd?-1:c!==d?c>d?i?-1:1:i?1:-1:t.localeCompare(e)});function jA(t){return t.sort(([e],[n])=>W6(e,n))}function Dk(t){const e=[],n=[],r={};for(const[a,c]of Object.entries(t))a.startsWith("@media")?e.push([a,c]):a.startsWith("@container")?n.push([a,c]):Tr(c)?r[a]=Dk(c):r[a]=c;const i=jA(e),s=jA(n);return{...r,...Object.fromEntries(i),...Object.fromEntries(s)}}const Lk=/\s*!(important)?/i,G6=t=>vs(t)?Lk.test(t):!1,q6=t=>vs(t)?t.replace(Lk,"").trim():t;function zk(t){const{transform:e,conditions:n,normalize:r}=t,i=K6(t);return ji(function(...a){const c=i(...a),d=r(c),f=Object.create(null);return Js(d,(g,m)=>{const b=G6(g);if(g==null)return;const[y,...S]=n.sort(m).map(n.resolve);b&&(g=q6(g));let x=e(y,g)??Object.create(null);x=Js(x,C=>vs(C)&&b?`${C} !important`:C,{getKey:C=>n.expandAtRule(C)}),Y6(f,S.flat(),x)}),Dk(f)})}function Y6(t,e,n){let r=t;for(const i of e)i&&(r[i]||(r[i]=Object.create(null)),r=r[i]);Bc(r,n)}function X6(...t){return t.filter(e=>Tr(e)&&Object.keys(Lc(e)).length>0)}function K6(t){function e(n){const r=X6(...n);return r.length===1?r:r.map(i=>t.normalize(i))}return ji(function(...r){return Bc({},...e(r))})}const Fk=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function Q6(t){const{css:e,conditions:n,normalize:r,layers:i}=t;function s(c={}){const{base:d,variants:f,defaultVariants:g,compoundVariants:m}=Fk(c),b=zk({conditions:n,normalize:r,transform(k,T){return f[k]?.[T]}}),y=(k={})=>{const T=r({...g,...Lc(k)});let R={...d};Bc(R,b(T));const _=a(m,T);return i.wrap("recipes",e(R,_))},S=Object.keys(f),x=k=>{const T=Ek(k,["recipe"]),[R,_]=yc(T,S);return S.includes("colorPalette")||(R.colorPalette=k.colorPalette||g.colorPalette),S.includes("orientation")&&(_.orientation=k.orientation),[R,_]},C=Object.fromEntries(Object.entries(f).map(([k,T])=>[k,Object.keys(T)]));return Object.assign(k=>e(y(k)),{className:c.className,__cva__:!0,variantMap:C,variantKeys:S,raw:y,config:c,splitVariantProps:x,merge(k){return s(Z6(t)(this,k))}})}function a(c,d){let f={};return c.forEach(g=>{Object.entries(g).every(([b,y])=>b==="css"?!0:(Array.isArray(y)?y:[y]).some(x=>d[b]===x))&&(f=e(f,g.css))}),f}return s}function Z6(t){const{css:e}=t;return function(r,i){const s=Fk(i.config),a=JT(r.variantKeys,Object.keys(i.variants)),c=e(r.base,s.base),d=Object.fromEntries(a.map(b=>[b,e(r.config.variants[b],s.variants[b])])),f=Bc(r.config.defaultVariants,s.defaultVariants),g=[...r.compoundVariants,...s.compoundVariants];return{className:Jr(r.className,i.className),base:c,variants:d,defaultVariants:f,compoundVariants:g}}}const J6={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},PA={reset:0,base:1,tokens:2,recipes:3};function eB(t){const e=t.layers??J6,r=Object.values(e).sort((i,s)=>PA[i]-PA[s]);return{names:r,atRule:`@layer ${r.join(", ")};`,wrap(i,s){return t.disableLayers?s:{[`@layer ${e[i]}`]:s}}}}function tB(t){const{utility:e,normalize:n}=t,{hasShorthand:r,resolveShorthand:i}=e;return function(s){return Js(s,n,{stop:a=>Array.isArray(a),getKey:r?i:void 0})}}function nB(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:r="parent"}=Tr(e)?e:{};let i="";n&&r==="parent"?i=`${n} `:n&&r==="element"&&(i=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},a={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(r==="element"){const c=Object.entries(s).reduce((d,[f,g])=>(d[f]={[i]:g},d),{});Object.assign(a,c)}else i?a[i]=s:Object.assign(a,s);return a}function rB(t){const{conditions:e,isValidProperty:n}=t;return function(i){return Js(i,s=>s,{getKey:(s,a)=>Tr(a)&&!e.has(s)&&!n(s)?iB(s).map(c=>"&"+c).join(", "):s})}}function iB(t){const e=[];let n=0,r="",i=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="\\"&&!i){i=!0,r+=a;continue}if(i){i=!1,r+=a;continue}a==="("?n++:a===")"&&n--,a===","&&n===0?(e.push(r.trim()),r=""):r+=a}return r&&e.push(r.trim()),e}const sB=(t={})=>{const e=i=>({base:t.base?.[i]??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?oB(t.compoundVariants,i):[]}),r=(t.slots??[]).map(i=>[i,e(i)]);for(const[i,s]of Object.entries(t.variants??{}))for(const[a,c]of Object.entries(s))r.forEach(([d,f])=>{var g;(g=f.variants)[i]??(g[i]={}),f.variants[i][a]=c[d]??{}});return Object.fromEntries(r)},oB=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function aB(t){const{cva:e}=t;return function(r={}){const i=Object.entries(sB(r)).map(([m,b])=>[m,e(b)]);function s(m){const b=i.map(([y,S])=>[y,S(m)]);return Object.fromEntries(b)}const a=r.variants??{},c=Object.keys(a);function d(m){const b=Ek(m,["recipe"]),[y,S]=yc(b,c);return c.includes("colorPalette")||(y.colorPalette=m.colorPalette||r.defaultVariants?.colorPalette),c.includes("orientation")&&(S.orientation=m.orientation),[y,S]}const f=Object.fromEntries(Object.entries(a).map(([m,b])=>[m,Object.keys(b)]));let g={};return r.className&&(g=Object.fromEntries(r.slots.map(m=>[m,`${r.className}__${m}`]))),Object.assign(s,{variantMap:f,variantKeys:c,splitVariantProps:d,classNameMap:g})}}const lB=()=>t=>Array.from(new Set(t)),cB=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,uB=function(t,e){return e?t==="\0"?"":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},Bk=t=>(t+"").replace(cB,uB),Vk=(t,e)=>{let n="",r=0,i="char",s="",a="";const c=[];for(;r<t.length;){const d=t[r];if(d==="{"){const g=t.indexOf("}",r);if(g===-1)break;const m=t.slice(r+1,g),b=e(m);n+=b??m,r=g+1;continue}if(i==="token"&&d===","){t[r]===""&&r++,i="fallback",c.push(i);const g=e(s);g?.endsWith(")")&&(n+=g.slice(0,-1)),s="",a="";continue}if(i==="fallback"&&a+d===", var("){const b=dB(t.slice(r+1))+r+1,y=t.slice(r+1,b);if(b===-1)break;n+=", var("+y+")",r=b+1,i=c.pop()??i,a="";continue}if(i==="token"||i==="fallback"){if(r++,d===")"){i=c.pop()??i??"char",a+=d;const g=s&&(e(s)??Bk(s));if(a){if(a=a.slice(1).trim(),!a.startsWith("token(")&&a.endsWith(")")&&(a=a.slice(0,-1)),a.includes("token(")){const b=Vk(a,e);b&&(a=b.slice(0,-1))}else if(a){const b=e(a);b&&(a=b)}}const m=n.at(-1);a?m?.trim()?n+=g.slice(0,-1)+(", "+a+")"):n+=a:n+=g||")",s="",a="",i="char";continue}i==="token"&&(s+=d),i==="fallback"&&(a+=d);continue}const f=t.indexOf("token(",r);if(f!==-1){const g=f+6;n+=t.slice(r,f),r=g,i="token",c.push(i);continue}n+=d,r++}return n},dB=t=>{let e=0;const n=["("];for(;e<t.length;){const r=t[e];if(r==="(")n.push(r);else if(r===")"&&(n.pop(),n.length===0))return e;e++}return e};function Hk(t){const e={};return t.forEach((n,r)=>{n instanceof Map?e[r]=Object.fromEntries(n):e[r]=n}),e}const $k=/({([^}]*)})/g,hB=/[{}]/g,fB=/\w+\.\w+/,Uk=t=>{if(!vs(t))return[];const e=t.match($k);return e?e.map(n=>n.replace(hB,"")).map(n=>n.trim()):[]},gB=t=>$k.test(t);function Wk(t){if(!t.extensions?.references)return t.extensions?.cssVar?.ref??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((n,r)=>{const i=e[r];if(i.extensions.conditions)return n;const s=Wk(i);return n.replace(`{${r}}`,s)},t.value),delete t.extensions.references,t.value}function Gk(t){return Tr(t)&&t.reference?t.reference:String(t)}const Up=(t,...e)=>e.map(Gk).join(` ${t} `).replace(/calc/g,""),NA=(...t)=>`calc(${Up("+",...t)})`,IA=(...t)=>`calc(${Up("-",...t)})`,Vv=(...t)=>`calc(${Up("*",...t)})`,MA=(...t)=>`calc(${Up("/",...t)})`,DA=t=>{const e=Gk(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Vv(e,-1)},lc=Object.assign(t=>({add:(...e)=>lc(NA(t,...e)),subtract:(...e)=>lc(IA(t,...e)),multiply:(...e)=>lc(Vv(t,...e)),divide:(...e)=>lc(MA(t,...e)),negate:()=>lc(DA(t)),toString:()=>t.toString()}),{add:NA,subtract:IA,multiply:Vv,divide:MA,negate:DA}),pB={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:r,formatTokenName:i,registerToken:s}=t;n.filter(({extensions:c})=>c.category==="spacing").forEach(c=>{const d=c.path.slice(),f=r(d,e);if(vs(c.value)&&c.value==="0rem")return;const g=structuredClone(c);Object.assign(g.extensions,{negative:!0,prop:`-${c.extensions.prop}`,originalPath:d}),g.value=lc.negate(f.ref);const m=g.path[g.path.length-1];m!=null&&(g.path[g.path.length-1]=`-${m}`),g.path&&(g.name=i(g.path)),s(g)})}},mB=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),bB={enforce:"post",transform(t){t.allTokens.filter(n=>mB.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:Pk(n.value)})})}},vB={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:r}=t,i=e.filter(({extensions:c})=>c.category==="colors"),s=new Map,a=new Map;i.forEach(c=>{const{colorPalette:d}=c.extensions;d&&(d.keys.forEach(f=>{s.set(r(f),f)}),d.roots.forEach(f=>{const g=r(f),m=a.get(g)||[];if(m.push(c),a.set(g,m),c.extensions.default&&f.length===1){const b=d.keys[0]?.filter(Boolean);if(!b.length)return;const y=f.concat(b);s.set(r(y),[])}}))}),s.forEach(c=>{const d=["colors","colorPalette",...c].filter(Boolean),f=r(d),g=r(d.slice(1));n({name:f,value:f,originalValue:f,path:d,extensions:{condition:"base",originalPath:d,category:"colors",prop:g,virtual:!0}},"pre")})}},yB={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},xB=[pB,vB,bB,yB],SB={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:r}=e,{negative:i,originalPath:s}=t.extensions,a=i?s:t.path;return{cssVar:r(a.filter(Boolean),n)}}},wB={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:r}=e,i=Uk(t.value);return i.length&&i.forEach(s=>{const a=r(s.split("."),n);t.value=t.value.replace(`{${a.ref}}`,a)}),t.value}},CB={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const c=[...t.path];c.shift(),n=c}if(n.length===0)return{};const r=n.reduce((c,d,f,g)=>{const m=g.slice(0,f+1);return c.push(m),c},[]),i=n[0],s=e.formatTokenName(n),a=t.path.slice(t.path.indexOf(i)+1).reduce((c,d,f,g)=>(c.push(g.slice(f)),c),[]);return a.length===0&&a.push([""]),{colorPalette:{value:s,roots:r,keys:a}}}},EB=[SB,wB,CB],LA=t=>Tr(t)&&Object.prototype.hasOwnProperty.call(t,"value");function AB(t){return t?{breakpoints:ax(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function _B(t){const{prefix:e="",tokens:n={},semanticTokens:r={},breakpoints:i={}}=t,s=ue=>ue.join("."),a=(ue,pe)=>Rk(ue.join("-"),{prefix:pe}),c=[],d=new Map,f=new Map,g=new Map,m=new Map,b=new Map,y=new Map,S=new Map,x=new Map,C=[];function E(ue,pe){c.push(ue),d.set(ue.name,ue),pe&&x.forEach(Ee=>{Ee.enforce===pe&&F(Ee,ue)})}const k=AB(i),T=Lc({...n,breakpoints:k.breakpoints,sizes:{...n.sizes,...k.sizes}});function R(){Js(T,(ue,pe)=>{const Ee=pe.includes("DEFAULT");pe=zA(pe);const te=pe[0],Ce=s(pe),ve=vs(ue)?{value:ue}:ue,je={value:ve.value,originalValue:ve.value,name:Ce,path:pe,extensions:{condition:"base",originalPath:pe,category:te,prop:s(pe.slice(1))}};Ee&&(je.extensions.default=!0),E(je)},{stop:LA}),Js(r,(ue,pe)=>{const Ee=pe.includes("DEFAULT");pe=qk(zA(pe));const te=pe[0],Ce=s(pe),ve=vs(ue.value)?{value:{base:ue.value}}:ue,je={value:ve.value.base||"",originalValue:ve.value.base||"",name:Ce,path:pe,extensions:{originalPath:pe,category:te,conditions:ve.value,condition:"base",prop:s(pe.slice(1))}};Ee&&(je.extensions.default=!0),E(je)},{stop:LA})}function _(ue){return d.get(ue)}function O(ue){const{condition:pe}=ue.extensions;pe&&(f.has(pe)||f.set(pe,new Set),f.get(pe).add(ue))}function I(ue){const{category:pe,prop:Ee}=ue.extensions;pe&&(S.has(pe)||S.set(pe,new Map),S.get(pe).set(Ee,ue))}function M(ue){const{condition:pe,negative:Ee,virtual:te,cssVar:Ce}=ue.extensions;Ee||te||!pe||!Ce||(g.has(pe)||g.set(pe,new Map),g.get(pe).set(Ce.var,ue.value))}function L(ue){const{category:pe,prop:Ee,cssVar:te,negative:Ce}=ue.extensions;if(!pe)return;y.has(pe)||y.set(pe,new Map);const ve=Ce?ue.extensions.conditions?ue.originalValue:ue.value:te.ref;y.get(pe).set(Ee,ve),b.set([pe,Ee].join("."),ve)}function $(ue){const{colorPalette:pe,virtual:Ee,default:te}=ue.extensions;!pe||Ee||pe.roots.forEach(Ce=>{const ve=s(Ce);m.has(ve)||m.set(ve,new Map);const je=RB([...ue.path],[...Ce]),Je=s(je),tt=_(Je);if(!tt||!tt.extensions.cssVar)return;const{var:nt}=tt.extensions.cssVar;if(m.get(ve).set(nt,ue.extensions.cssVar.ref),te&&Ce.length===1){const un=s(["colors","colorPalette"]),Ir=_(un);if(!Ir)return;const Rn=s(ue.path),Jn=_(Rn);if(!Jn)return;const mr=pe.keys[0]?.filter(Boolean);if(!mr.length)return;const br=s(Ce.concat(mr));m.has(br)||m.set(br,new Map),m.get(br).set(Ir.extensions.cssVar.var,Jn.extensions.cssVar.ref)}})}let U={};function D(){c.forEach(ue=>{O(ue),I(ue),M(ue),L(ue),$(ue)}),U=Hk(y)}const B=(ue,pe)=>{if(!ue||typeof ue!="string")return{invalid:!0,value:ue};const[Ee,te]=ue.split("/");if(!Ee||!te)return{invalid:!0,value:Ee};const Ce=pe(Ee),ve=_(`opacity.${te}`)?.value;if(!ve&&isNaN(Number(te)))return{invalid:!0,value:Ee};const je=ve?Number(ve)*100+"%":`${te}%`,Je=Ce??Ee;return{invalid:!1,color:Je,value:`color-mix(in srgb, ${Je} ${je}, transparent)`}},H=ji((ue,pe)=>b.get(ue)??pe),G=ji(ue=>U[ue]||null),P=ji(ue=>Vk(ue,pe=>{if(!pe)return;if(pe.includes("/")){const te=B(pe,Ce=>H(Ce));if(te.invalid)throw new Error("Invalid color mix at "+pe+": "+te.value);return te.value}const Ee=H(pe);return Ee||(fB.test(pe)?Bk(pe):pe)})),W={prefix:e,allTokens:c,tokenMap:d,registerToken:E,getByName:_,formatTokenName:s,formatCssVar:a,flatMap:b,cssVarMap:g,categoryMap:S,colorPaletteMap:m,getVar:H,getCategoryValues:G,expandReferenceInValue:P};function Q(...ue){ue.forEach(pe=>{x.set(pe.name,pe)})}function se(...ue){C.push(...ue)}function F(ue,pe){if(pe.extensions.references||Ty(ue.match)&&!ue.match(pe))return;const te=(Ce=>ue.transform(Ce,W))(pe);switch(!0){case ue.type==="extensions":Object.assign(pe.extensions,te);break;case ue.type==="value":pe.value=te;break;default:pe[ue.type]=te;break}}function Z(ue){C.forEach(pe=>{pe.enforce===ue&&pe.transform(W)})}function fe(ue){x.forEach(pe=>{pe.enforce===ue&&c.forEach(Ee=>{F(pe,Ee)})})}function ce(){c.forEach(ue=>{const pe=TB(ue);!pe||pe.length===0||pe.forEach(Ee=>{E(Ee)})})}function _e(ue){return Uk(ue).map(Ee=>_(Ee)).filter(Boolean)}function Ae(){c.forEach(ue=>{if(!gB(ue.value))return;const pe=_e(ue.value);ue.extensions.references=pe.reduce((Ee,te)=>(Ee[te.name]=te,Ee),{})})}function Re(){c.forEach(ue=>{Wk(ue)})}function ge(){Z("pre"),fe("pre"),ce(),Ae(),Re(),Z("post"),fe("post"),D()}return R(),Q(...EB),se(...xB),ge(),W}function zA(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function qk(t){return t.filter(e=>e!=="base")}function TB(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return Js(e,(r,i)=>{const s=qk(i);if(!s.length)return;const a=structuredClone(t);a.value=r,a.extensions.condition=s.join(":"),n.push(a)}),n}function RB(t,e){const n=t.findIndex((r,i)=>e.every((s,a)=>t[i+a]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}lB()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function kB(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function OB(t){const e=kB(t.config),n=t.tokens,r=new Map,i=new Map;function s(M,L){e[M]=L,a(M,L)}const a=(M,L)=>{const $=x(L);$&&(i.set(M,$),m(M,L))},c=()=>{for(const[M,L]of Object.entries(e))L&&a(M,L)},d=()=>{for(const[M,L]of Object.entries(e)){const{shorthand:$}=L??{};if(!$)continue;(Array.isArray($)?$:[$]).forEach(D=>r.set(D,M))}},f=()=>{const M=Hk(n.colorPaletteMap);s("colorPalette",{values:Object.keys(M),transform:ji(L=>M[L])})},g=new Map,m=(M,L)=>{if(!L)return;const $=x(L,D=>`type:Tokens["${D}"]`);if(typeof $=="object"&&$.type){g.set(M,new Set([`type:${$.type}`]));return}if($){const D=new Set(Object.keys($));g.set(M,D)}const U=g.get(M)??new Set;L.property&&g.set(M,U.add(`CssProperties["${L.property}"]`))},b=()=>{for(const[M,L]of Object.entries(e))L&&m(M,L)},y=(M,L)=>{const $=g.get(M)??new Set;g.set(M,new Set([...$,...L]))},S=()=>{const M=new Map;for(const[L,$]of g.entries()){if($.size===0){M.set(L,["string"]);continue}const U=Array.from($).map(D=>D.startsWith("CssProperties")?D:D.startsWith("type:")?D.replace("type:",""):JSON.stringify(D));M.set(L,U)}return M},x=(M,L)=>{const{values:$}=M,U=D=>{const B=L?.(D);return B?{[B]:B}:void 0};return vs($)?U?.($)??n.getCategoryValues($)??{}:Array.isArray($)?$.reduce((D,B)=>(D[B]=B,D),{}):Ty($)?$(L?U:n.getCategoryValues):$},C=ji((M,L)=>({[M]:M.startsWith("--")?n.getVar(L,L):L})),E=Object.assign(n.getVar,{raw:M=>n.getByName(M)}),k=ji((M,L)=>{const $=_(M);vs(L)&&!L.includes("_EMO_")&&(L=n.expandReferenceInValue(L));const U=e[$];if(!U)return C($,L);const D=i.get($)?.[L];if(!U.transform)return C(M,D??L);const B=H=>o6(H,E);return U.transform(D??L,{raw:L,token:E,utils:{colorMix:B}})});function T(){d(),f(),c(),b()}T();const R=r.size>0,_=ji(M=>r.get(M)??M);return{keys:()=>[...Array.from(r.keys()),...Object.keys(e)],hasShorthand:R,transform:k,shorthands:r,resolveShorthand:_,register:s,getTypes:S,addPropertyType:y}}const Cr={};function jB(...t){const e=Tk(...t),{theme:n={},utilities:r={},globalCss:i={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:a="chakra",preflight:c}=e,d=eB(e),f=_B({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:a}),g=I6(n.breakpoints??Cr),m=z6({conditions:e.conditions??Cr,breakpoints:g}),b=OB({config:r,tokens:f});function y(){const{textStyles:se,layerStyles:F,animationStyles:Z}=n,fe=Lc({textStyle:se,layerStyle:F,animationStyle:Z});for(const[ce,_e]of Object.entries(fe)){const Ae=kk(_e??Cr,Yk);b.register(ce,{values:Object.keys(Ae),transform(Re){return T(Ae[Re])}})}}y(),b.addPropertyType("animationName",Object.keys(n.keyframes??Cr));const S=new Set(["css",...b.keys(),...m.keys()]),x=ji(se=>S.has(se)||k6(se)),C=se=>Array.isArray(se)?se.reduce((F,Z,fe)=>{const ce=m.breakpoints[fe];return Z!=null&&(F[ce]=Z),F},{}):se,E=tB({utility:b,normalize:C}),k=rB({conditions:m,isValidProperty:x}),T=zk({transform:b.transform,conditions:m,normalize:E}),R=Q6({css:T,conditions:m,normalize:E,layers:d}),_=aB({cva:R});function O(){const se={};for(const[F,Z]of f.cssVarMap.entries()){const fe=Object.fromEntries(Z);if(Object.keys(fe).length===0)continue;const ce=F==="base"?s:m.resolve(F),_e=ce.startsWith("@"),Ae=T(k({[ce]:_e?{[s]:fe}:fe}));Bc(se,Ae)}return d.wrap("tokens",se)}function I(){const se=Object.fromEntries(Object.entries(n.keyframes??Cr).map(([Z,fe])=>[`@keyframes ${Z}`,fe])),F=Object.assign({},se,T(k(i)));return d.wrap("base",F)}function M(se){return yc(se,x)}function L(){const se=nB({preflight:c});return d.wrap("reset",se)}const $=PB(f),U=(se,F)=>$.get(se)?.value||F;U.var=(se,F)=>$.get(se)?.variable||F;function D(se,F){return n.recipes?.[se]??F}function B(se,F){return n.slotRecipes?.[se]??F}function H(se){return Object.hasOwnProperty.call(n.recipes??Cr,se)}function G(se){return Object.hasOwnProperty.call(n.slotRecipes??Cr,se)}function P(se){return H(se)||G(se)}const W=[L(),I(),O()],Q={layerStyles:K0(n.layerStyles??Cr),textStyles:K0(n.textStyles??Cr),animationStyles:K0(n.animationStyles??Cr),tokens:FA(f,Object.keys(n.tokens??Cr),(se,F)=>!se.extensions.conditions&&!F.includes("colorPalette")),semanticTokens:FA(f,Object.keys(n.semanticTokens??Cr),se=>!!se.extensions.conditions),keyframes:BA(n.keyframes??Cr),breakpoints:BA(n.breakpoints??Cr)};return{$$chakra:!0,_config:e,_global:W,breakpoints:g,tokens:f,conditions:m,utility:b,token:U,properties:S,layers:d,isValidProperty:x,splitCssProps:M,normalizeValue:C,getTokenCss:O,getGlobalCss:I,getPreflightCss:L,css:T,cva:R,sva:_,getRecipe:D,getSlotRecipe:B,hasRecipe:P,isRecipe:H,isSlotRecipe:G,query:Q}}function PB(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:r,virtual:i,conditions:s}=n.extensions,a=s||i?r.ref:n.value;e.set(n.name,{value:a,variable:r.ref})}),e}const Yk=t=>Tr(t)&&"value"in t,K0=t=>({list(){return Object.keys(kk(t,Yk))},search(e){return this.list().filter(n=>n.includes(e))}}),FA=(t,e,n)=>({categoryKeys:e,list(r){return Array.from(t.categoryMap.get(r)?.entries()??[]).reduce((i,[s,a])=>(n(a,s)&&i.push(s),i),[])},search(r,i){return this.list(r).filter(s=>s.includes(i))}}),BA=t=>({list(){return Object.keys(t)},search(e){return this.list().filter(n=>n.includes(e))}}),NB={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},Q0="var(--chakra-empty,/*!*/ /*!*/)",IB=c6({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":Q0,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,Q0])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,Q0])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),MB=h6({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),DB=d6({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),cx=Pn({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),LB=Pn({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),Yn=Pn({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",cursor:"checkbox",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5",cursor:"disabled"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border.emphasized","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:zB,defaultVariants:FB}=cx,BB=Pn({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:zB,defaultVariants:FB}),Xk=Pn({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),VB=Pn({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),HB=Pn({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),$B=Pn({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),En=Pn({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)",_invalid:{borderColor:"var(--error-color)",boxShadow:"0px 1px 0px 0px var(--error-color)"}}}}},defaultVariants:{size:"md",variant:"outline"}}),UB=Pn({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:En.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),WB=Pn({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),GB=Pn({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),qB=Pn({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Xn=Pn({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border.emphasized",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),YB=Pn({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),XB=Pn({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),KB=Pn({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),QB=Pn({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),ZB=Pn({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),JB={badge:cx,button:LB,code:BB,container:VB,heading:HB,input:En,inputAddon:UB,kbd:WB,link:GB,mark:qB,separator:YB,skeleton:XB,skipNavLink:KB,spinner:QB,textarea:ZB,icon:$B,checkmark:Yn,radiomark:Xn,colorSwatch:Xk},eV=ox.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.500}",_dark:"{colors.red.500}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.500}",_dark:"{colors.green.500}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.500}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.500}",_dark:"{colors.yellow.500}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.500}",_dark:"{colors.teal.500}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.500}",_dark:"{colors.purple.500}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.500}",_dark:"{colors.pink.500}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.500}",_dark:"{colors.cyan.500}"}}}}),tV=ox.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),nV=ox.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),rV=YR.extendWith("itemBody"),iV=Ye("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),sV=Ye("alert").parts("title","description","root","indicator","content"),oV=Ye("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),aV=Ye("blockquote").parts("root","icon","content","caption"),lV=Ye("card").parts("root","header","body","footer","title","description"),cV=Ye("checkbox-card",["root","control","label","description","addon","indicator","content"]),uV=Ye("data-list").parts("root","item","itemLabel","itemValue"),dV=ex.extendWith("header","body","footer","backdrop"),hV=ex.extendWith("header","body","footer","backdrop"),fV=p2.extendWith("textarea"),gV=Ye("empty-state",["root","content","indicator","title","description"]),pV=b2.extendWith("requiredIndicator"),mV=y2.extendWith("content"),bV=x2.extendWith("itemContent","dropzoneContent","fileText"),vV=Ye("list").parts("root","item","indicator"),yV=$2.extendWith("itemCommand"),xV=Ye("select").parts("root","field","indicator"),SV=ak.extendWith("header","body","footer"),Kk=sx.extendWith("itemAddon","itemIndicator"),wV=Kk.extendWith("itemContent","itemDescription"),CV=ck.extendWith("itemIndicator"),EV=dk.extendWith("indicatorGroup"),AV=f2.extendWith("indicatorGroup","empty"),_V=fk.extendWith("markerIndicator"),TV=Ye("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),RV=Ye("status").parts("root","indicator"),kV=Ye("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),OV=gk.extendWith("indicator"),jV=Ye("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),PV=Ye("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),NV=Ye("tabs").parts("root","trigger","list","content","contentGroup","indicator"),IV=Ye("tag").parts("root","label","closeTrigger","startElement","endElement"),MV=Ye("timeline").parts("root","item","content","separator","indicator","connector","title","description"),DV=W5.extendWith("channelText");r2.extendWith("valueText");const LV=Qe({className:"chakra-accordion",slots:rV.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),zV=Qe({className:"chakra-action-bar",slots:iV.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),FV=Qe({slots:sV.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),BV=Qe({slots:QR.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),VV=Qe({className:"chakra-blockquote",slots:aV.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),HV=Qe({className:"chakra-breadcrumb",slots:oV.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),$V=Qe({className:"chakra-card",slots:lV.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}}),UV=Qe({slots:U5.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:Yn.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:Yn.variants?.size?.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:Yn.variants?.size?.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:Yn.variants?.size?.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:Yn.variants?.size?.lg}},variant:{outline:{control:Yn.variants?.variant?.outline},solid:{control:Yn.variants?.variant?.solid},subtle:{control:Yn.variants?.variant?.subtle}}},defaultVariants:{variant:"solid",size:"md"}}),WV=Qe({slots:cV.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:Yn.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:Yn.variants?.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:Yn.variants?.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:Yn.variants?.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:Yn.variants?.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:Yn.variants?.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:Yn.variants?.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:Yn.variants?.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),GV=Qe({slots:_R.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}}),qV=Qe({className:"colorPicker",slots:DV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...Xk.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...En.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:En.variants?.size?.["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:En.variants?.size?.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:En.variants?.size?.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:En.variants?.size?.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:En.variants?.size?.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:En.variants?.size?.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:En.variants?.size?.["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:En.variants?.variant?.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:En.variants?.variant?.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),YV=Qe({className:"chakra-combobox",slots:AV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},input:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"bg.panel",width:"full",minH:"var(--combobox-input-height)",px:"var(--combobox-input-padding-x)","--input-height":"var(--combobox-input-height)",borderRadius:"l2",outline:0,userSelect:"none",textAlign:"start",_placeholderShown:{color:"fg.muted"},_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},trigger:{display:"inline-flex",alignItems:"center",justifyContent:"center","--input-height":"var(--combobox-input-height)"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"},control:{pos:"relative"},indicatorGroup:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--combobox-input-padding-x)",_icon:{boxSize:"var(--combobox-indicator-size)"},"[data-disabled] &":{opacity:.5}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"0s"},"&[data-empty]:not(:has([data-scope=combobox][data-part=empty]))":{opacity:0}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{boxSize:"var(--combobox-indicator-size)"}},empty:{py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"},itemText:{flex:"1"},itemGroup:{pb:"var(--combobox-item-padding-y)",_last:{pb:"0"}},itemGroupLabel:{fontWeight:"medium",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"}},variants:{variant:{outline:{input:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"}},subtle:{input:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"}},flushed:{input:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}},indicatorGroup:{px:"0"}}},size:{xs:{root:{"--combobox-input-height":"sizes.8","--combobox-input-padding-x":"spacing.2","--combobox-indicator-size":"sizes.3.5"},input:{textStyle:"xs"},content:{"--combobox-item-padding-x":"spacing.1.5","--combobox-item-padding-y":"spacing.1","--combobox-indicator-size":"sizes.3.5",p:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"}},sm:{root:{"--combobox-input-height":"sizes.9","--combobox-input-padding-x":"spacing.2.5","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"}},md:{root:{"--combobox-input-height":"sizes.10","--combobox-input-padding-x":"spacing.3","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{textStyle:"sm",gap:"2"}},lg:{root:{"--combobox-input-height":"sizes.12","--combobox-input-padding-x":"spacing.4","--combobox-indicator-size":"sizes.5"},input:{textStyle:"md"},content:{"--combobox-item-padding-y":"spacing.2","--combobox-item-padding-x":"spacing.3","--combobox-indicator-size":"sizes.5",p:"1.5",textStyle:"md"},trigger:{textStyle:"md",py:"3",gap:"2"}}}},defaultVariants:{size:"md",variant:"outline"}}),XV=Qe({slots:uV.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),KV=Qe({slots:dV.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100dvw",h:"100dvh",zIndex:"var(--z-index)",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100dvw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100dvw",minH:"100dvh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),QV=Qe({slots:hV.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start",alignItems:"stretch"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end",alignItems:"stretch"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-left-full, fade-out"}}}},top:{positioner:{justifyContent:"stretch",alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{justifyContent:"stretch",alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),VA=Vc({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),ZV=Qe({slots:fV.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...VA,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"moderate",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...VA,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),JV=Qe({slots:gV.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),eH=Qe({className:"chakra-field",slots:pV.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),tH=Qe({className:"fieldset",slots:mV.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),nH=Qe({className:"chakra-file-upload",slots:bV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),rH=Qe({className:"chakra-hover-card",slots:C2.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),iH=Qe({className:"chakra-list",slots:vV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),sH=Qe({className:"chakra-menu",slots:yV.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),Og=Qe({className:"chakra-select",slots:EV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}}),oH=Qe({className:"chakra-native-select",slots:xV.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error","--input-height":"var(--select-field-height)",height:"var(--select-field-height)",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:Og.variants?.variant.outline.trigger},subtle:{field:Og.variants?.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{root:{"--select-field-height":"sizes.8"},field:{textStyle:"xs",ps:"2",pe:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{root:{"--select-field-height":"sizes.9"},field:{textStyle:"sm",ps:"2.5",pe:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{root:{"--select-field-height":"sizes.10"},field:{textStyle:"sm",ps:"3",pe:"8"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{root:{"--select-field-height":"sizes.11"},field:{textStyle:"md",ps:"4",pe:"8"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{root:{"--select-field-height":"sizes.12"},field:{textStyle:"md",ps:"4.5",pe:"10"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:Og.defaultVariants});function Hv(t,e){const n={};for(const r in t){const i=e(r,t[r]);n[i[0]]=i[1]}return n}const HA=Vc({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),aH=Qe({className:"chakra-number-input",slots:rk.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...En.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...HA,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...HA,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:En.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:En.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:En.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:En.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:Hv(En.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:$A,defaultVariants:lH}=En,cH=Qe({className:"chakra-pin-input",slots:ok.keys(),base:{input:{...En.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:Hv($A.size,(t,e)=>[t,{input:{...e,px:"1"}}]),variant:Hv($A.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:lH}),uH=Qe({className:"chakra-popover",slots:SV.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),dH=Qe({slots:ix.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),hH=Qe({className:"chakra-progress-circle",slots:ix.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dashoffset, stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),fH=Qe({slots:lk.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}}),gH=Qe({className:"chakra-radio-card",slots:wV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Xn.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:Xn.variants?.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:Xn.variants?.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:Xn.variants?.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:Xn.variants?.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:Xn.variants?.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:Xn.variants?.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:Xn.variants?.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),pH=Qe({className:"chakra-radio-group",slots:Kk.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Xn.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:Xn.variants?.variant?.outline},subtle:{itemControl:Xn.variants?.variant?.subtle},solid:{itemControl:Xn.variants?.variant?.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:Xn.variants?.size?.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:Xn.variants?.size?.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:Xn.variants?.size?.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:Xn.variants?.size?.lg}}},defaultVariants:{size:"md",variant:"solid"}}),mH=Qe({className:"chakra-rating-group",slots:CV.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative","--clip-path":{base:"inset(0 50% 0 0)",_rtl:"inset(0 0 0 50%)"},_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"var(--clip-path)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),bH=Qe({className:"chakra-segment-group",slots:uk.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),vH=Qe({className:"chakra-slider",slots:_V.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),yH=Qe({className:"chakra-stat",slots:TV.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),xH=Qe({className:"chakra-status",slots:RV.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),SH=Qe({className:"chakra-steps",slots:kV.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),wH=Qe({slots:OV.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),CH=Qe({className:"chakra-table",slots:jV.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),EH=Qe({slots:NV.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}}),ig=cx.variants?.variant,AH=Qe({slots:IV.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:ig?.subtle},solid:{root:ig?.solid},outline:{root:ig?.outline},surface:{root:ig?.surface}}},defaultVariants:{size:"md",variant:"surface"}}),_H=Qe({slots:MV.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),TH=Qe({slots:PV.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),RH=Qe({slots:xk.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),UA=Vc({display:"flex",alignItems:"center",gap:"var(--tree-item-gap)",rounded:"l2",userSelect:"none",position:"relative","--tree-depth":"calc(var(--depth) - 1)","--tree-indentation-offset":"calc(var(--tree-indentation) * var(--tree-depth))","--tree-icon-offset":"calc(var(--tree-icon-size) * var(--tree-depth) * 0.5)","--tree-offset":"calc(var(--tree-padding-inline) + var(--tree-indentation-offset) + var(--tree-icon-offset))",ps:"var(--tree-offset)",pe:"var(--tree-padding-inline)",py:"var(--tree-padding-block)",focusVisibleRing:"inside",focusRingColor:"border.emphasized",focusRingWidth:"2px","&:hover, &:focus-visible":{bg:"bg.muted"},_disabled:{layerStyle:"disabled"}}),WA=Vc({flex:"1"}),GA=Vc({_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}),qA=Vc({_selected:{layerStyle:"fill.solid"}}),kH=Qe({slots:J2.keys(),className:"chakra-tree-view",base:{root:{width:"full",display:"flex",flexDirection:"column",gap:"2"},tree:{display:"flex",flexDirection:"column","--tree-item-gap":"spacing.2",_icon:{boxSize:"var(--tree-icon-size)"}},label:{fontWeight:"medium",textStyle:"sm"},branch:{position:"relative"},branchContent:{position:"relative"},branchIndentGuide:{height:"100%",width:"1px",bg:"border",position:"absolute","--tree-depth":"calc(var(--depth) - 1)","--tree-indentation-offset":"calc(var(--tree-indentation) * var(--tree-depth))","--tree-offset":"calc(var(--tree-padding-inline) + var(--tree-indentation-offset))","--tree-icon-offset":"calc(var(--tree-icon-size) * 0.5 * var(--depth))",insetInlineStart:"calc(var(--tree-offset) + var(--tree-icon-offset))",zIndex:"1"},branchIndicator:{color:"fg.muted",transformOrigin:"center",transitionDuration:"normal",transitionProperty:"transform",transitionTimingFunction:"default",_open:{transform:"rotate(90deg)"}},branchTrigger:{display:"inline-flex",alignItems:"center",justifyContent:"center"},branchControl:UA,item:UA,itemText:WA,branchText:WA,nodeCheckbox:{display:"inline-flex"}},variants:{size:{md:{tree:{textStyle:"sm","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.3","--tree-padding-block":"spacing.1.5","--tree-icon-size":"spacing.4"}},sm:{tree:{textStyle:"sm","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.3","--tree-padding-block":"spacing.1","--tree-icon-size":"spacing.3"}},xs:{tree:{textStyle:"xs","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.2","--tree-padding-block":"spacing.1","--tree-icon-size":"spacing.3"}}},variant:{subtle:{branchControl:GA,item:GA},solid:{branchControl:qA,item:qA}},animateContent:{true:{branchContent:{_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}}},defaultVariants:{size:"md",variant:"subtle"}}),OH={accordion:LV,actionBar:zV,alert:FV,avatar:BV,blockquote:VV,breadcrumb:HV,card:$V,checkbox:UV,checkboxCard:WV,collapsible:GV,dataList:XV,dialog:KV,drawer:QV,editable:ZV,emptyState:JV,field:eH,fieldset:tH,fileUpload:nH,hoverCard:rH,list:iH,menu:sH,nativeSelect:oH,numberInput:aH,pinInput:cH,popover:uH,progress:dH,progressCircle:hH,radioCard:gH,radioGroup:pH,ratingGroup:mH,segmentGroup:bH,select:Og,combobox:YV,slider:vH,stat:yH,steps:SH,switch:wH,table:CH,tabs:EH,tag:AH,toast:TH,tooltip:RH,status:xH,timeline:_H,colorPicker:qV,qrCode:fH,treeView:kH},jH=u6({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),PH=Tn.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),NH=Tn.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),IH=Tn.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),MH=Tn.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),DH=Tn.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),LH=Tn.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),zH=Tn.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),FH=Tn.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),BH=Tn.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),VH=Tn.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),YA='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',HH=Tn.fonts({heading:{value:`Inter, ${YA}`},body:{value:`Inter, ${YA}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),$H=l6({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),UH=Tn.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),WH=Tn.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),GH=Tn.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),Qk=Tn.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),qH=Tn.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),YH=Tn.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),XH=Tn.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),KH=Tn.sizes({...qH,...Qk,...XH,...YH}),QH=Tn.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),ZH={aspectRatios:NH,animations:PH,blurs:IH,borders:MH,colors:DH,durations:zH,easings:FH,fonts:HH,fontSizes:BH,fontWeights:VH,letterSpacings:UH,lineHeights:WH,radii:GH,spacing:Qk,sizes:KH,zIndex:QH,cursor:LH},JH={colors:eV,shadows:nV,radii:tV},e$="chakra",t$=":where(html, .chakra-theme)",n$=_k({preflight:!0,cssVarsPrefix:e$,cssVarsRoot:t$,globalCss:IB,theme:{breakpoints:NB,keyframes:$H,tokens:ZH,semanticTokens:JH,recipes:JB,slotRecipes:OH,textStyles:jH,layerStyles:MB,animationStyles:DB}}),r$=Tk(x6,n$),i$=jB(r$);function Zk(t){const{key:e,recipe:n}=t,r=Ap();return A.useMemo(()=>{const i=n||(e!=null?r.getSlotRecipe(e):{});return r.sva(structuredClone(i))},[e,n,r])}const s$=t=>t.charAt(0).toUpperCase()+t.slice(1),ch=t=>{const{key:e,recipe:n}=t,r=s$(e||n.className||"Component"),[i,s]=vc({name:`${r}StylesContext`,errorMessage:`use${r}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `}),[a,c]=vc({name:`${r}ClassNameContext`,errorMessage:`use${r}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `,strict:!1}),[d,f]=vc({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`,defaultValue:{}});function g(S){const{unstyled:x,...C}=S,E=Zk({key:e,recipe:C.recipe||n}),[k,T]=A.useMemo(()=>E.splitVariantProps(C),[C,E]);return{styles:A.useMemo(()=>x?aD:E(k),[x,k,E]),classNames:E.classNameMap,props:T}}function m(S,x={}){const{defaultProps:C}=x,E=k=>{const T=f(),R=A.useMemo(()=>zd(C,T,k),[T,k]),{styles:_,classNames:O,props:I}=g(R);return h.jsx(i,{value:_,children:h.jsx(a,{value:O,children:h.jsx(S,{...I})})})};return E.displayName=S.displayName||S.name,E}return{StylesProvider:i,ClassNamesProvider:a,PropsProvider:d,usePropsContext:f,useRecipeResult:g,withProvider:(S,x,C)=>{const{defaultProps:E,...k}=C??{},T=ln(S,{},k),R=A.forwardRef((_,O)=>{const I=f(),M=A.useMemo(()=>zd(E??{},I,_),[I,_]),{styles:L,props:$,classNames:U}=g(M),D=U[x],B=h.jsx(i,{value:L,children:h.jsx(a,{value:U,children:h.jsx(T,{ref:O,...$,css:[L[x],M.css],className:Jr(M.className,D)})})});return C?.wrapElement?.(B,M)??B});return R.displayName=S.displayName||S.name,R},withContext:(S,x,C)=>{const E=ln(S,{},C),k=A.forwardRef((T,R)=>{const{unstyled:_,...O}=T,I=s(),L=c()?.[x];return h.jsx(E,{...O,css:[!_&&x?I[x]:void 0,T.css],ref:R,className:Jr(T.className,L)})});return k.displayName=S.displayName||S.name,k},withRootProvider:m,useStyles:s,useClassNames:c}},o$=t=>h.jsx(ln.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:h.jsx("path",{d:"M20 6 9 17l-5-5"})}),a$=t=>h.jsxs(ln.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[h.jsx("path",{d:"m5 12 7-7 7 7"}),h.jsx("path",{d:"M12 19V5"})]}),l$=t=>h.jsxs(ln.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[h.jsx("path",{d:"M12 5v14"}),h.jsx("path",{d:"m19 12-7 7-7-7"})]}),c$=t=>h.jsx(ln.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...t,children:h.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),XA=t=>h.jsx(ln.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...t,children:h.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),KA=t=>h.jsx(ln.svg,{viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0",...t,children:h.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z"})}),[u$,d$]=vc({name:"AlertStatusContext",hookName:"useAlertStatusContext",providerName:"<Alert />"}),{withProvider:h$,withContext:ux,useStyles:f$}=ch({key:"alert"}),g$=h$("div","root",{forwardAsChild:!0,wrapElement(t,e){return h.jsx(u$,{value:{status:e.status||"info"},children:t})}});ux("div","title");ux("div","description");const p$=ux("div","content"),m$={info:KA,warning:XA,success:c$,error:XA,neutral:KA},b$=A.forwardRef(function(e,n){const r=d$(),i=f$(),s=typeof r.status=="string"?m$[r.status]:A.Fragment,{children:a=h.jsx(s,{}),...c}=e;return h.jsx(ln.span,{ref:n,...c,css:[i.indicator,e.css],children:a})}),v$=t=>t?"":void 0,{withContext:y$}=ws({key:"badge"}),Za=y$("span"),{withContext:x$}=ws({key:"spinner"}),Tt=x$("span"),Jk=ln("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});Jk.displayName="AbsoluteCenter";const S$=A.forwardRef(function(e,n){const{spinner:r=h.jsx(Tt,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:i="start",children:s,text:a,visible:c=!0,...d}=e;return c?a?h.jsxs(qf,{ref:n,display:"contents",...d,children:[i==="start"&&r,a,i==="end"&&r]}):r?h.jsxs(qf,{ref:n,display:"contents",...d,children:[h.jsx(Jk,{display:"inline-flex",children:r}),h.jsx(qf,{visibility:"hidden",display:"contents",children:s})]}):h.jsx(qf,{ref:n,display:"contents",...d,children:s}):s}),{useRecipeResult:w$,usePropsContext:C$}=ws({key:"button"}),Se=A.forwardRef(function(e,n){const r=C$(),i=A.useMemo(()=>zd(r,e),[r,e]),s=w$(i),{loading:a,loadingText:c,children:d,spinner:f,spinnerPlacement:g,...m}=s.props;return h.jsx(ln.button,{type:"button",ref:n,...m,"data-loading":v$(a),disabled:a||m.disabled,className:Jr(s.className,i.className),css:[s.styles,i.css],children:!i.asChild&&a?h.jsx(S$,{spinner:f,text:c,spinnerPlacement:g,children:d}):d})}),uh=A.forwardRef(function(e,n){return h.jsx(Se,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})});function E$(t){const{gap:e,direction:n}=t,r={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":ax(n,i=>r[i])}}function A$(t){return A.Children.toArray(t).filter(e=>A.isValidElement(e))}const dx=A.forwardRef(function(e,n){const{direction:r="column",align:i,justify:s,gap:a="0.5rem",wrap:c,children:d,separator:f,className:g,...m}=e,b=A.useMemo(()=>E$({gap:a,direction:r}),[a,r]),y=A.useMemo(()=>f?A$(d).map((S,x,C)=>{const E=typeof S.key<"u"?S.key:x,k=A.cloneElement(f,{css:[b,f.props.css]});return h.jsxs(A.Fragment,{children:[S,x===C.length-1?null:k]},E)}):d,[d,f,b]);return h.jsx(ln.div,{ref:n,display:"flex",alignItems:i,justifyContent:s,flexDirection:r,flexWrap:c,gap:f?void 0:a,className:Jr("chakra-stack",g),...m,children:y})}),{withContext:_$}=ws({key:"container"}),T$=_$("div"),{useRecipeResult:R$}=ws({key:"icon"}),ye=A.forwardRef(function(e,n){const{styles:r,className:i,props:s}=R$({asChild:!e.as,...e});return h.jsx(ln.svg,{ref:n,focusable:!1,"aria-hidden":"true",...s,css:[r,e.css],className:Jr(i,e.className)})}),k$=A.forwardRef(function(e,n){const{direction:r,align:i,justify:s,wrap:a,basis:c,grow:d,shrink:f,inline:g,...m}=e;return h.jsx(ln.div,{ref:n,...m,css:{display:g?"inline-flex":"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:a,flexBasis:c,flexGrow:d,flexShrink:f,...e.css}})});function QA(t){return ax(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}const Oe=A.forwardRef(function(e,n){const{area:r,colSpan:i,colStart:s,colEnd:a,rowEnd:c,rowSpan:d,rowStart:f,...g}=e,m=Lc({gridArea:r,gridColumn:QA(i),gridRow:QA(d),gridColumnStart:s,gridColumnEnd:a,gridRowStart:f,gridRowEnd:c});return h.jsx(ln.div,{ref:n,css:m,...g})}),{withContext:O$}=ws({key:"input"}),Yt=O$(m2),{withContext:j$}=ws({key:"link"}),P$=j$("a"),{withRootProvider:eO,withContext:Un}=ch({key:"menu"});eO(uF);const hx=eO(cF,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),fx=Un(Q2,"trigger",{forwardAsChild:!0});Un(O2,"contextTrigger",{forwardAsChild:!0});Un(F2,"positioner",{forwardAsChild:!0});Un(K2,"separator",{forwardAsChild:!0});const gx=Un(k2,"content",{forwardAsChild:!0}),N$=Un(_2,"arrowTip",{forwardAsChild:!0});Un(A2,"arrow",{forwardAsChild:!0,defaultProps:{children:h.jsx(N$,{})}});Un(j2,"indicator",{forwardAsChild:!0});Un(M2,"itemGroup",{forwardAsChild:!0});Un(D2,"itemGroupLabel",{forwardAsChild:!0});const Ja=Un(P2,"item",{forwardAsChild:!0});Un(Z2,"item",{forwardAsChild:!0});Un(z2,"itemText",{forwardAsChild:!0});Un("kbd","itemCommand");Un(L2,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:h.jsx(o$,{boxSize:"4"})}});Un(R2,"item",{forwardAsChild:!0});Un(V2,"itemGroup",{forwardAsChild:!0});Un(B2,"item",{forwardAsChild:!0});const de=A.forwardRef(function(e,n){return h.jsx(dx,{align:"center",...e,direction:"row",ref:n})}),ee=A.forwardRef(function(e,n){return h.jsx(dx,{align:"center",...e,direction:"column",ref:n})}),{withProvider:I$,withContext:Hc,PropsProvider:M$}=ch({key:"stat"}),Zu=I$("dl","root"),Ju=Hc("dt","label"),ed=Hc("dd","valueText"),D$=Hc("span","helpText");Hc("span","valueUnit");Hc("span","indicator",{defaultProps:{"data-type":"up",children:h.jsx(a$,{})}});Hc("span","indicator",{defaultProps:{"data-type":"down",children:h.jsx(l$,{})}});A.forwardRef(function(e,n){const r=Zk({key:"stat"}),[i,s]=A.useMemo(()=>r.splitVariantProps(e),[e,r]);return h.jsx(M$,{value:i,children:h.jsx(ln.div,{ref:n,role:"group",display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start",...s})})});const{StylesProvider:L$,ClassNamesProvider:z$,useRecipeResult:F$,withContext:io}=ch({key:"table"}),tO=A.forwardRef(function({native:e,...n},r){const{styles:i,props:s,classNames:a}=F$(n),c=A.useMemo(()=>e?{...i.root,"& thead":i.header,"& tbody":i.body,"& tfoot":i.footer,"& thead th":i.columnHeader,"& tr":i.row,"& td":i.cell,"& caption":i.caption}:i.root,[i,e]);return h.jsx(z$,{value:a,children:h.jsx(L$,{value:i,children:h.jsx(ln.table,{ref:r,...s,css:[c,n.css],className:Jr(a?.root,n.className)})})})}),Od=io("tr","row");ln("div",{base:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflow:"auto",maxWidth:"100%"}});const nO=io("thead","header");io("tfoot","footer");const ki=io("th","columnHeader"),mi=io("td","cell");io("caption","caption",{defaultProps:{captionSide:"bottom"}});const rO=io("tbody","body");io("colgroup");io("col");const{withContext:B$}=ws({key:"textarea"}),iO=B$(v2),{withRootProvider:sO,withContext:dh}=ch({key:"tooltip"});sO(s6);const V$=sO(i6,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),H$=dh(Ck,"trigger",{forwardAsChild:!0});dh(yk,"positioner",{forwardAsChild:!0});const $$=dh(vk,"content",{forwardAsChild:!0}),U$=dh(bk,"arrowTip",{forwardAsChild:!0}),W$=dh(mk,"arrow",{forwardAsChild:!0,defaultProps:{children:h.jsx(U$,{})}});var G$=(t,e,n,r,i,s,a,c)=>{let d=document.documentElement,f=["light","dark"];function g(y){(Array.isArray(t)?t:[t]).forEach(S=>{let x=S==="class",C=x&&s?i.map(E=>s[E]||E):i;x?(d.classList.remove(...C),d.classList.add(s&&s[y]?s[y]:y)):d.setAttribute(S,y)}),m(y)}function m(y){c&&f.includes(y)&&(d.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let y=localStorage.getItem(e)||n,S=a&&y==="system"?b():y;g(S)}catch{}},ZA=["light","dark"],oO="(prefers-color-scheme: dark)",q$=typeof window>"u",px=A.createContext(void 0),Y$={setTheme:t=>{},themes:[]},X$=()=>{var t;return(t=A.useContext(px))!=null?t:Y$},K$=t=>A.useContext(px)?A.createElement(A.Fragment,null,t.children):A.createElement(Z$,{...t}),Q$=["light","dark"],Z$=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=Q$,defaultTheme:a=n?"system":"light",attribute:c="data-theme",value:d,children:f,nonce:g,scriptProps:m})=>{let[b,y]=A.useState(()=>eU(i,a)),[S,x]=A.useState(()=>b==="system"?Z0():b),C=d?Object.values(d):s,E=A.useCallback(_=>{let O=_;if(!O)return;_==="system"&&n&&(O=Z0());let I=d?d[O]:O,M=e?tU(g):null,L=document.documentElement,$=U=>{U==="class"?(L.classList.remove(...C),I&&L.classList.add(I)):U.startsWith("data-")&&(I?L.setAttribute(U,I):L.removeAttribute(U))};if(Array.isArray(c)?c.forEach($):$(c),r){let U=ZA.includes(a)?a:null,D=ZA.includes(O)?O:U;L.style.colorScheme=D}M?.()},[g]),k=A.useCallback(_=>{let O=typeof _=="function"?_(b):_;y(O);try{localStorage.setItem(i,O)}catch{}},[b]),T=A.useCallback(_=>{let O=Z0(_);x(O),b==="system"&&n&&!t&&E("system")},[b,t]);A.useEffect(()=>{let _=window.matchMedia(oO);return _.addListener(T),T(_),()=>_.removeListener(T)},[T]),A.useEffect(()=>{let _=O=>{O.key===i&&(O.newValue?y(O.newValue):k(a))};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[k]),A.useEffect(()=>{E(t??b)},[t,b]);let R=A.useMemo(()=>({theme:b,setTheme:k,forcedTheme:t,resolvedTheme:b==="system"?S:b,themes:n?[...s,"system"]:s,systemTheme:n?S:void 0}),[b,k,t,S,n,s]);return A.createElement(px.Provider,{value:R},A.createElement(J$,{forcedTheme:t,storageKey:i,attribute:c,enableSystem:n,enableColorScheme:r,defaultTheme:a,value:d,themes:s,nonce:g,scriptProps:m}),f)},J$=A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:c,nonce:d,scriptProps:f})=>{let g=JSON.stringify([n,e,s,t,c,a,r,i]).slice(1,-1);return A.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${G$.toString()})(${g})`}})}),eU=(t,e)=>{if(q$)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},tU=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Z0=t=>(t||(t=window.matchMedia(oO)),t.matches?"dark":"light");function nU({children:t,defaultTheme:e,forcedTheme:n,...r}){return h.jsx(K$,{attribute:"class",defaultTheme:"light",forcedTheme:"light",enableSystem:!1,disableTransitionOnChange:!0,...r,children:h.jsx(WM,{value:i$,children:t})})}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aO=t=>{throw TypeError(t)},rU=(t,e,n)=>e.has(t)||aO("Cannot "+n),J0=(t,e,n)=>(rU(t,e,"read from private field"),n?n.call(t):e.get(t)),iU=(t,e,n)=>e.has(t)?aO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),JA="popstate";function sU(t={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return Wd("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wo(i)}return aU(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oU(){return Math.random().toString(36).substring(2,10)}function e_(t,e){return{usr:t.state,key:t.key,idx:e}}function Wd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||r||oU()}}function Wo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function aU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",d=null,f=g();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function g(){return(a.state||{idx:null}).idx}function m(){c="POP";let C=g(),E=C==null?null:C-f;f=C,d&&d({action:c,location:x.location,delta:E})}function b(C,E){c="PUSH";let k=Wd(x.location,C,E);f=g()+1;let T=e_(k,f),R=x.createHref(k);try{a.pushState(T,"",R)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(R)}s&&d&&d({action:c,location:x.location,delta:1})}function y(C,E){c="REPLACE";let k=Wd(x.location,C,E);f=g();let T=e_(k,f),R=x.createHref(k);a.replaceState(T,"",R),s&&d&&d({action:c,location:x.location,delta:0})}function S(C){return lO(C)}let x={get action(){return c},get location(){return t(i,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JA,m),d=C,()=>{i.removeEventListener(JA,m),d=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let E=S(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:y,go(C){return a.go(C)}};return x}function lO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var xd,t_=class{constructor(t){if(iU(this,xd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(J0(this,xd).has(t))return J0(this,xd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){J0(this,xd).set(t,e)}};xd=new WeakMap;var lU=new Set(["lazy","caseSensitive","path","id","index","children"]);function cU(t){return lU.has(t)}var uU=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function dU(t){return uU.has(t)}function hU(t){return t.index===!0}function Gd(t,e,n=[],r={},i=!1){return t.map((s,a)=>{let c=[...n,String(a)],d=typeof s.id=="string"?s.id:c.join("-");if(dt(s.index!==!0||!s.children,"Cannot specify children on an index route"),dt(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),hU(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=Gd(s.children,e,c,r,i)),f}})}function zo(t,e,n="/"){return jg(t,e,n,!1)}function jg(t,e,n,r){let i=typeof e=="string"?Zo(e):e,s=yi(i.pathname||"/",n);if(s==null)return null;let a=cO(t);gU(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=AU(s);c=CU(a[d],f,r)}return c}function fU(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cO(t,e=[],n=[],r=""){let i=(s,a,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=ms([r,d.relativePath]),g=n.concat(d);s.children&&s.children.length>0&&(dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),cO(s.children,e,g,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:SU(f,s.index),routesMeta:g})};return t.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))i(s,a);else for(let c of uO(s.path))i(s,a,c)}),e}function uO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=uO(r.join("/")),c=[];return c.push(...a.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function gU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pU=/^:[\w-]+$/,mU=3,bU=2,vU=1,yU=10,xU=-2,n_=t=>t==="*";function SU(t,e){let n=t.split("/"),r=n.length;return n.some(n_)&&(r+=xU),e&&(r+=bU),n.filter(i=>!n_(i)).reduce((i,s)=>i+(pU.test(s)?mU:s===""?vU:yU),r)}function wU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CU(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",m=sp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),b=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=sp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:ms([s,m.pathname]),pathnameBase:kU(ms([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=ms([s,m.pathnameBase]))}return a}function sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:m},b)=>{if(g==="*"){let S=c[b]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=c[b];return m&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function EU(t,e=!1,n=!0){bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _U({basename:t,pathname:e}){return e==="/"?t:ms([t,e])}function TU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:RU(n,e):e,search:OU(r),hash:jU(i)}}function RU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ev(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wp(t){let e=dO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Gp(t,e,n,r=!1){let i;typeof t=="string"?i=Zo(t):(i={...t},dt(!i.pathname||!i.pathname.includes("?"),ev("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),ev("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),ev("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}c=m>=0?e[m]:"/"}let d=TU(i,c),f=a&&a!=="/"&&a.endsWith("/"),g=(s||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ms=t=>t.join("/").replace(/\/\/+/g,"/"),kU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,op=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Oc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hO=["POST","PUT","PATCH","DELETE"],PU=new Set(hO),NU=["GET",...hO],IU=new Set(NU),MU=new Set([301,302,303,307,308]),DU=new Set([307,308]),tv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},td={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=t=>zU.test(t),FU=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),fO="remix-router-transitions",gO=Symbol("ResetLoaderData");function BU(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";dt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||FU,s={},a=Gd(t.routes,i,void 0,s),c,d=t.basename||"/",f=t.dataStrategy||WU,g={unstable_middleware:!1,...t.future},m=null,b=new Set,y=null,S=null,x=null,C=t.hydrationData!=null,E=zo(a,t.history.location,d),k=!1,T=null,R;if(E==null&&!t.patchRoutesOnNavigation){let Y=pi(404,{pathname:t.history.location.pathname}),{matches:ne,route:le}=g_(a);R=!0,E=ne,T={[le.id]:Y}}else if(E&&!t.hydrationData&&aa(E,a,t.history.location.pathname).active&&(E=null),E)if(E.some(Y=>Y.route.lazy))R=!1;else if(!E.some(Y=>Y.route.loader))R=!0;else{let Y=t.hydrationData?t.hydrationData.loaderData:null,ne=t.hydrationData?t.hydrationData.errors:null;if(ne){let le=E.findIndex(we=>ne[we.route.id]!==void 0);R=E.slice(0,le+1).every(we=>!Uv(we.route,Y,ne))}else R=E.every(le=>!Uv(le.route,Y,ne))}else{R=!1,E=[];let Y=aa(null,a,t.history.location.pathname);Y.active&&Y.matches&&(k=!0,E=Y.matches)}let _,O={historyAction:t.history.action,location:t.history.location,matches:E,initialized:R,navigation:tv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},I="POP",M=!1,L,$=!1,U=new Map,D=null,B=!1,H=!1,G=new Set,P=new Map,W=0,Q=-1,se=new Map,F=new Set,Z=new Map,fe=new Map,ce=new Set,_e=new Map,Ae,Re=null;function ge(){if(m=t.history.listen(({action:Y,location:ne,delta:le})=>{if(Ae){Ae(),Ae=void 0;return}bn(_e.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=Oh({currentLocation:O.location,nextLocation:ne,historyAction:Y});if(we&&le!=null){let ke=new Promise(Ie=>{Ae=Ie});t.history.go(le*-1),qi(we,{state:"blocked",location:ne,proceed(){qi(we,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),ke.then(()=>t.history.go(le))},reset(){let Ie=new Map(O.blockers);Ie.set(we,td),Ee({blockers:Ie})}});return}return je(Y,ne)}),n){nW(e,U);let Y=()=>rW(e,U);e.addEventListener("pagehide",Y),D=()=>e.removeEventListener("pagehide",Y)}return O.initialized||je("POP",O.location,{initialHydration:!0}),_}function ue(){m&&m(),D&&D(),b.clear(),L&&L.abort(),O.fetchers.forEach((Y,ne)=>Wt(ne)),O.blockers.forEach((Y,ne)=>sa(ne))}function pe(Y){return b.add(Y),()=>b.delete(Y)}function Ee(Y,ne={}){Y.matches&&(Y.matches=Y.matches.map(ke=>{let Ie=s[ke.route.id],Le=ke.route;return Le.element!==Ie.element||Le.errorElement!==Ie.errorElement||Le.hydrateFallbackElement!==Ie.hydrateFallbackElement?{...ke,route:Ie}:ke})),O={...O,...Y};let le=[],we=[];O.fetchers.forEach((ke,Ie)=>{ke.state==="idle"&&(ce.has(Ie)?le.push(Ie):we.push(Ie))}),ce.forEach(ke=>{!O.fetchers.has(ke)&&!P.has(ke)&&le.push(ke)}),[...b].forEach(ke=>ke(O,{deletedFetchers:le,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),le.forEach(ke=>Wt(ke)),we.forEach(ke=>O.fetchers.delete(ke))}function te(Y,ne,{flushSync:le}={}){let we=O.actionData!=null&&O.navigation.formMethod!=null&&_r(O.navigation.formMethod)&&O.navigation.state==="loading"&&Y.state?._isRedirect!==!0,ke;ne.actionData?Object.keys(ne.actionData).length>0?ke=ne.actionData:ke=null:we?ke=O.actionData:ke=null;let Ie=ne.loaderData?h_(O.loaderData,ne.loaderData,ne.matches||[],ne.errors):O.loaderData,Le=O.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((De,ze)=>Le.set(ze,td)));let Me=B?!1:Ph(Y,ne.matches||O.matches),Ve=M===!0||O.navigation.formMethod!=null&&_r(O.navigation.formMethod)&&Y.state?._isRedirect!==!0;c&&(a=c,c=void 0),B||I==="POP"||(I==="PUSH"?t.history.push(Y,Y.state):I==="REPLACE"&&t.history.replace(Y,Y.state));let Ue;if(I==="POP"){let De=U.get(O.location.pathname);De&&De.has(Y.pathname)?Ue={currentLocation:O.location,nextLocation:Y}:U.has(Y.pathname)&&(Ue={currentLocation:Y,nextLocation:O.location})}else if($){let De=U.get(O.location.pathname);De?De.add(Y.pathname):(De=new Set([Y.pathname]),U.set(O.location.pathname,De)),Ue={currentLocation:O.location,nextLocation:Y}}Ee({...ne,actionData:ke,loaderData:Ie,historyAction:I,location:Y,initialized:!0,navigation:tv,revalidation:"idle",restoreScrollPosition:Me,preventScrollReset:Ve,blockers:Le},{viewTransitionOpts:Ue,flushSync:le===!0}),I="POP",M=!1,$=!1,B=!1,H=!1,Re?.resolve(),Re=null}async function Ce(Y,ne){if(typeof Y=="number"){t.history.go(Y);return}let le=$v(O.location,O.matches,d,Y,ne?.fromRouteId,ne?.relative),{path:we,submission:ke,error:Ie}=r_(!1,le,ne),Le=O.location,Me=Wd(O.location,we,ne&&ne.state);Me={...Me,...t.history.encodeLocation(Me)};let Ve=ne&&ne.replace!=null?ne.replace:void 0,Ue="PUSH";Ve===!0?Ue="REPLACE":Ve===!1||ke!=null&&_r(ke.formMethod)&&ke.formAction===O.location.pathname+O.location.search&&(Ue="REPLACE");let De=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,ze=(ne&&ne.flushSync)===!0,at=Oh({currentLocation:Le,nextLocation:Me,historyAction:Ue});if(at){qi(at,{state:"blocked",location:Me,proceed(){qi(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),Ce(Y,ne)},reset(){let jt=new Map(O.blockers);jt.set(at,td),Ee({blockers:jt})}});return}await je(Ue,Me,{submission:ke,pendingError:Ie,preventScrollReset:De,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:ze})}function ve(){Re||(Re=iW()),ta(),Ee({revalidation:"loading"});let Y=Re.promise;return O.navigation.state==="submitting"?Y:O.navigation.state==="idle"?(je(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),Y):(je(I||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:$===!0}),Y)}async function je(Y,ne,le){L&&L.abort(),L=null,I=Y,B=(le&&le.startUninterruptedRevalidation)===!0,oa(O.location,O.matches),M=(le&&le.preventScrollReset)===!0,$=(le&&le.enableViewTransition)===!0;let we=c||a,ke=le&&le.overrideNavigation,Ie=le?.initialHydration&&O.matches&&O.matches.length>0&&!k?O.matches:zo(we,ne,d),Le=(le&&le.flushSync)===!0;if(Ie&&O.initialized&&!H&&QU(O.location,ne)&&!(le&&le.submission&&_r(le.submission.formMethod))){te(ne,{matches:Ie},{flushSync:Le});return}let Me=aa(Ie,we,ne.pathname);if(Me.active&&Me.matches&&(Ie=Me.matches),!Ie){let{error:sn,notFoundMatches:st,route:Dt}=pl(ne.pathname);te(ne,{matches:st,loaderData:{},errors:{[Dt.id]:sn}},{flushSync:Le});return}L=new AbortController;let Ve=cc(t.history,ne,L.signal,le&&le.submission),Ue=new t_(t.unstable_getContext?await t.unstable_getContext():void 0),De;if(le&&le.pendingError)De=[Ba(Ie).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&_r(le.submission.formMethod)){let sn=await Je(Ve,ne,le.submission,Ie,Ue,Me.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:Le});if(sn.shortCircuited)return;if(sn.pendingActionResult){let[st,Dt]=sn.pendingActionResult;if(Yr(Dt)&&Oc(Dt.error)&&Dt.error.status===404){L=null,te(ne,{matches:sn.matches,loaderData:{},errors:{[st]:Dt.error}});return}}Ie=sn.matches||Ie,De=sn.pendingActionResult,ke=nv(ne,le.submission),Le=!1,Me.active=!1,Ve=cc(t.history,Ve.url,Ve.signal)}let{shortCircuited:ze,matches:at,loaderData:jt,errors:rn}=await tt(Ve,ne,Ie,Ue,Me.active,ke,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,Le,De);ze||(L=null,te(ne,{matches:at||Ie,...f_(De),loaderData:jt,errors:rn}))}async function Je(Y,ne,le,we,ke,Ie,Le,Me={}){ta();let Ve=eW(ne,le);if(Ee({navigation:Ve},{flushSync:Me.flushSync===!0}),Ie){let ze=await la(we,ne.pathname,Y.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let at=Ba(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[at,{type:"error",error:ze.error}]}}else if(ze.matches)we=ze.matches;else{let{notFoundMatches:at,error:jt,route:rn}=pl(ne.pathname);return{matches:at,pendingActionResult:[rn.id,{type:"error",error:jt}]}}}let Ue,De=Pg(we,ne);if(!De.route.action&&!De.route.lazy)Ue={type:"error",error:pi(405,{method:Y.method,pathname:ne.pathname,routeId:De.route.id})};else{let ze=Sc(i,s,Y,we,De,Le?[]:r,ke),at=await br(Y,ze,ke,null);if(Ue=at[De.route.id],!Ue){for(let jt of we)if(at[jt.route.id]){Ue=at[jt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(Wa(Ue)){let ze;return Me&&Me.replace!=null?ze=Me.replace:ze=c_(Ue.response.headers.get("Location"),new URL(Y.url),d)===O.location.pathname+O.location.search,await mr(Y,Ue,!0,{submission:le,replace:ze}),{shortCircuited:!0}}if(Yr(Ue)){let ze=Ba(we,De.route.id);return(Me&&Me.replace)!==!0&&(I="PUSH"),{matches:we,pendingActionResult:[ze.route.id,Ue,De.route.id]}}return{matches:we,pendingActionResult:[De.route.id,Ue]}}async function tt(Y,ne,le,we,ke,Ie,Le,Me,Ve,Ue,De,ze){let at=Ie||nv(ne,Le),jt=Le||Me||m_(at),rn=!B&&!Ue;if(ke){if(rn){let xn=nt(ze);Ee({navigation:at,...xn!==void 0?{actionData:xn}:{}},{flushSync:De})}let ct=await la(le,ne.pathname,Y.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){let xn=Ba(ct.partialMatches).route.id;return{matches:ct.partialMatches,loaderData:{},errors:{[xn]:ct.error}}}else if(ct.matches)le=ct.matches;else{let{error:xn,notFoundMatches:ca,route:ni}=pl(ne.pathname);return{matches:ca,loaderData:{},errors:{[ni.id]:xn}}}}let sn=c||a,{dsMatches:st,revalidatingFetchers:Dt}=i_(Y,we,i,s,t.history,O,le,jt,ne,Ue?[]:r,Ue===!0,H,G,ce,Z,F,sn,d,t.patchRoutesOnNavigation!=null,ze);if(Q=++W,!t.dataStrategy&&!st.some(ct=>ct.shouldLoad)&&Dt.length===0){let ct=ra();return te(ne,{matches:le,loaderData:{},errors:ze&&Yr(ze[1])?{[ze[0]]:ze[1].error}:null,...f_(ze),...ct?{fetchers:new Map(O.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(rn){let ct={};if(!ke){ct.navigation=at;let xn=nt(ze);xn!==void 0&&(ct.actionData=xn)}Dt.length>0&&(ct.fetchers=un(Dt)),Ee(ct,{flushSync:De})}Dt.forEach(ct=>{Gi(ct.key),ct.controller&&P.set(ct.key,ct.controller)});let Yi=()=>Dt.forEach(ct=>Gi(ct.key));L&&L.signal.addEventListener("abort",Yi);let{loaderResults:Mr,fetcherResults:lr}=await gl(st,Dt,Y,we);if(Y.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Yi),Dt.forEach(ct=>P.delete(ct.key));let ti=sg(Mr);if(ti)return await mr(Y,ti.result,!0,{replace:Ve}),{shortCircuited:!0};if(ti=sg(lr),ti)return F.add(ti.key),await mr(Y,ti.result,!0,{replace:Ve}),{shortCircuited:!0};let{loaderData:bl,errors:oo}=d_(O,le,Mr,ze,Dt,lr);Ue&&O.errors&&(oo={...O.errors,...oo});let As=ra(),_s=ia(Q),Ts=As||_s||Dt.length>0;return{matches:le,loaderData:bl,errors:oo,...Ts?{fetchers:new Map(O.fetchers)}:{}}}function nt(Y){if(Y&&!Yr(Y[1]))return{[Y[0]]:Y[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function un(Y){return Y.forEach(ne=>{let le=O.fetchers.get(ne.key),we=nd(void 0,le?le.data:void 0);O.fetchers.set(ne.key,we)}),new Map(O.fetchers)}async function Ir(Y,ne,le,we){Gi(Y);let ke=(we&&we.flushSync)===!0,Ie=c||a,Le=$v(O.location,O.matches,d,le,ne,we?.relative),Me=zo(Ie,Le,d),Ve=aa(Me,Ie,Le);if(Ve.active&&Ve.matches&&(Me=Ve.matches),!Me){wt(Y,ne,pi(404,{pathname:Le}),{flushSync:ke});return}let{path:Ue,submission:De,error:ze}=r_(!0,Le,we);if(ze){wt(Y,ne,ze,{flushSync:ke});return}let at=new t_(t.unstable_getContext?await t.unstable_getContext():void 0),jt=(we&&we.preventScrollReset)===!0;if(De&&_r(De.formMethod)){await Rn(Y,ne,Ue,Me,at,Ve.active,ke,jt,De);return}Z.set(Y,{routeId:ne,path:Ue}),await Jn(Y,ne,Ue,Me,at,Ve.active,ke,jt,De)}async function Rn(Y,ne,le,we,ke,Ie,Le,Me,Ve){ta(),Z.delete(Y);let Ue=O.fetchers.get(Y);er(Y,tW(Ve,Ue),{flushSync:Le});let De=new AbortController,ze=cc(t.history,le,De.signal,Ve);if(Ie){let en=await la(we,new URL(ze.url).pathname,ze.signal,Y);if(en.type==="aborted")return;if(en.type==="error"){wt(Y,ne,en.error,{flushSync:Le});return}else if(en.matches)we=en.matches;else{wt(Y,ne,pi(404,{pathname:le}),{flushSync:Le});return}}let at=Pg(we,le);if(!at.route.action&&!at.route.lazy){let en=pi(405,{method:Ve.formMethod,pathname:le,routeId:ne});wt(Y,ne,en,{flushSync:Le});return}P.set(Y,De);let jt=W,rn=Sc(i,s,ze,we,at,r,ke),st=(await br(ze,rn,ke,Y))[at.route.id];if(ze.signal.aborted){P.get(Y)===De&&P.delete(Y);return}if(ce.has(Y)){if(Wa(st)||Yr(st)){er(Y,Lo(void 0));return}}else{if(Wa(st))if(P.delete(Y),Q>jt){er(Y,Lo(void 0));return}else return F.add(Y),er(Y,nd(Ve)),mr(ze,st,!1,{fetcherSubmission:Ve,preventScrollReset:Me});if(Yr(st)){wt(Y,ne,st.error);return}}let Dt=O.navigation.location||O.location,Yi=cc(t.history,Dt,De.signal),Mr=c||a,lr=O.navigation.state!=="idle"?zo(Mr,O.navigation.location,d):O.matches;dt(lr,"Didn't find any matches after fetcher action");let ti=++W;se.set(Y,ti);let bl=nd(Ve,st.data);O.fetchers.set(Y,bl);let{dsMatches:oo,revalidatingFetchers:As}=i_(Yi,ke,i,s,t.history,O,lr,Ve,Dt,r,!1,H,G,ce,Z,F,Mr,d,t.patchRoutesOnNavigation!=null,[at.route.id,st]);As.filter(en=>en.key!==Y).forEach(en=>{let ao=en.key,Nh=O.fetchers.get(ao),Ih=nd(void 0,Nh?Nh.data:void 0);O.fetchers.set(ao,Ih),Gi(ao),en.controller&&P.set(ao,en.controller)}),Ee({fetchers:new Map(O.fetchers)});let _s=()=>As.forEach(en=>Gi(en.key));De.signal.addEventListener("abort",_s);let{loaderResults:Ts,fetcherResults:ct}=await gl(oo,As,Yi,ke);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",_s),se.delete(Y),P.delete(Y),As.forEach(en=>P.delete(en.key)),O.fetchers.has(Y)){let en=Lo(st.data);O.fetchers.set(Y,en)}let xn=sg(Ts);if(xn)return mr(Yi,xn.result,!1,{preventScrollReset:Me});if(xn=sg(ct),xn)return F.add(xn.key),mr(Yi,xn.result,!1,{preventScrollReset:Me});let{loaderData:ca,errors:ni}=d_(O,lr,Ts,void 0,As,ct);ia(ti),O.navigation.state==="loading"&&ti>Q?(dt(I,"Expected pending action"),L&&L.abort(),te(O.navigation.location,{matches:lr,loaderData:ca,errors:ni,fetchers:new Map(O.fetchers)})):(Ee({errors:ni,loaderData:h_(O.loaderData,ca,lr,ni),fetchers:new Map(O.fetchers)}),H=!1)}async function Jn(Y,ne,le,we,ke,Ie,Le,Me,Ve){let Ue=O.fetchers.get(Y);er(Y,nd(Ve,Ue?Ue.data:void 0),{flushSync:Le});let De=new AbortController,ze=cc(t.history,le,De.signal);if(Ie){let Dt=await la(we,new URL(ze.url).pathname,ze.signal,Y);if(Dt.type==="aborted")return;if(Dt.type==="error"){wt(Y,ne,Dt.error,{flushSync:Le});return}else if(Dt.matches)we=Dt.matches;else{wt(Y,ne,pi(404,{pathname:le}),{flushSync:Le});return}}let at=Pg(we,le);P.set(Y,De);let jt=W,rn=Sc(i,s,ze,we,at,r,ke),st=(await br(ze,rn,ke,Y))[at.route.id];if(P.get(Y)===De&&P.delete(Y),!ze.signal.aborted){if(ce.has(Y)){er(Y,Lo(void 0));return}if(Wa(st))if(Q>jt){er(Y,Lo(void 0));return}else{F.add(Y),await mr(ze,st,!1,{preventScrollReset:Me});return}if(Yr(st)){wt(Y,ne,st.error);return}er(Y,Lo(st.data))}}async function mr(Y,ne,le,{submission:we,fetcherSubmission:ke,preventScrollReset:Ie,replace:Le}={}){ne.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Me=ne.response.headers.get("Location");dt(Me,"Expected a Location header on the redirect Response"),Me=c_(Me,new URL(Y.url),d);let Ve=Wd(O.location,Me,{_isRedirect:!0});if(n){let rn=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))rn=!0;else if(mx(Me)){const sn=lO(Me,!0);rn=sn.origin!==e.location.origin||yi(sn.pathname,d)==null}if(rn){Le?e.location.replace(Me):e.location.assign(Me);return}}L=null;let Ue=Le===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:ze,formEncType:at}=O.navigation;!we&&!ke&&De&&ze&&at&&(we=m_(O.navigation));let jt=we||ke;if(DU.has(ne.response.status)&&jt&&_r(jt.formMethod))await je(Ue,Ve,{submission:{...jt,formAction:Me},preventScrollReset:Ie||M,enableViewTransition:le?$:void 0});else{let rn=nv(Ve,we);await je(Ue,Ve,{overrideNavigation:rn,fetcherSubmission:ke,preventScrollReset:Ie||M,enableViewTransition:le?$:void 0})}}async function br(Y,ne,le,we){let ke,Ie={};try{ke=await GU(f,Y,ne,we,le,!1)}catch(Le){return ne.filter(Me=>Me.shouldLoad).forEach(Me=>{Ie[Me.route.id]={type:"error",error:Le}}),Ie}if(Y.signal.aborted)return Ie;for(let[Le,Me]of Object.entries(ke))if(ZU(Me)){let Ve=Me.result;Ie[Le]={type:"redirect",response:XU(Ve,Y,Le,ne,d)}}else Ie[Le]=await YU(Me);return Ie}async function gl(Y,ne,le,we){let ke=br(le,Y,we,null),Ie=Promise.all(ne.map(async Ve=>{if(Ve.matches&&Ve.match&&Ve.request&&Ve.controller){let De=(await br(Ve.request,Ve.matches,we,Ve.key))[Ve.match.route.id];return{[Ve.key]:De}}else return Promise.resolve({[Ve.key]:{type:"error",error:pi(404,{pathname:Ve.path})}})})),Le=await ke,Me=(await Ie).reduce((Ve,Ue)=>Object.assign(Ve,Ue),{});return{loaderResults:Le,fetcherResults:Me}}function ta(){H=!0,Z.forEach((Y,ne)=>{P.has(ne)&&G.add(ne),Gi(ne)})}function er(Y,ne,le={}){O.fetchers.set(Y,ne),Ee({fetchers:new Map(O.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function wt(Y,ne,le,we={}){let ke=Ba(O.matches,ne);Wt(Y),Ee({errors:{[ke.route.id]:le},fetchers:new Map(O.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function Nn(Y){return fe.set(Y,(fe.get(Y)||0)+1),ce.has(Y)&&ce.delete(Y),O.fetchers.get(Y)||LU}function Wt(Y){let ne=O.fetchers.get(Y);P.has(Y)&&!(ne&&ne.state==="loading"&&se.has(Y))&&Gi(Y),Z.delete(Y),se.delete(Y),F.delete(Y),ce.delete(Y),G.delete(Y),O.fetchers.delete(Y)}function na(Y){let ne=(fe.get(Y)||0)-1;ne<=0?(fe.delete(Y),ce.add(Y)):fe.set(Y,ne),Ee({fetchers:new Map(O.fetchers)})}function Gi(Y){let ne=P.get(Y);ne&&(ne.abort(),P.delete(Y))}function kh(Y){for(let ne of Y){let le=Nn(ne),we=Lo(le.data);O.fetchers.set(ne,we)}}function ra(){let Y=[],ne=!1;for(let le of F){let we=O.fetchers.get(le);dt(we,`Expected fetcher: ${le}`),we.state==="loading"&&(F.delete(le),Y.push(le),ne=!0)}return kh(Y),ne}function ia(Y){let ne=[];for(let[le,we]of se)if(we<Y){let ke=O.fetchers.get(le);dt(ke,`Expected fetcher: ${le}`),ke.state==="loading"&&(Gi(le),se.delete(le),ne.push(le))}return kh(ne),ne.length>0}function Es(Y,ne){let le=O.blockers.get(Y)||td;return _e.get(Y)!==ne&&_e.set(Y,ne),le}function sa(Y){O.blockers.delete(Y),_e.delete(Y)}function qi(Y,ne){let le=O.blockers.get(Y)||td;dt(le.state==="unblocked"&&ne.state==="blocked"||le.state==="blocked"&&ne.state==="blocked"||le.state==="blocked"&&ne.state==="proceeding"||le.state==="blocked"&&ne.state==="unblocked"||le.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${ne.state}`);let we=new Map(O.blockers);we.set(Y,ne),Ee({blockers:we})}function Oh({currentLocation:Y,nextLocation:ne,historyAction:le}){if(_e.size===0)return;_e.size>1&&bn(!1,"A router only supports one blocker at a time");let we=Array.from(_e.entries()),[ke,Ie]=we[we.length-1],Le=O.blockers.get(ke);if(!(Le&&Le.state==="proceeding")&&Ie({currentLocation:Y,nextLocation:ne,historyAction:le}))return ke}function pl(Y){let ne=pi(404,{pathname:Y}),le=c||a,{matches:we,route:ke}=g_(le);return{notFoundMatches:we,route:ke,error:ne}}function jh(Y,ne,le){if(y=Y,x=ne,S=le||null,!C&&O.navigation===tv){C=!0;let we=Ph(O.location,O.matches);we!=null&&Ee({restoreScrollPosition:we})}return()=>{y=null,x=null,S=null}}function ml(Y,ne){return S&&S(Y,ne.map(we=>fU(we,O.loaderData)))||Y.key}function oa(Y,ne){if(y&&x){let le=ml(Y,ne);y[le]=x()}}function Ph(Y,ne){if(y){let le=ml(Y,ne),we=y[le];if(typeof we=="number")return we}return null}function aa(Y,ne,le){if(t.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:jg(ne,le,d,!0)}}else return{active:!0,matches:jg(ne,le,d,!0)||[]};return{active:!1,matches:null}}async function la(Y,ne,le,we){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Y};let ke=Y;for(;;){let Ie=c==null,Le=c||a,Me=s;try{await t.patchRoutesOnNavigation({signal:le,path:ne,matches:ke,fetcherKey:we,patch:(De,ze)=>{le.aborted||s_(De,ze,Le,Me,i,!1)}})}catch(De){return{type:"error",error:De,partialMatches:ke}}finally{Ie&&!le.aborted&&(a=[...a])}if(le.aborted)return{type:"aborted"};let Ve=zo(Le,ne,d);if(Ve)return{type:"success",matches:Ve};let Ue=jg(Le,ne,d,!0);if(!Ue||ke.length===Ue.length&&ke.every((De,ze)=>De.route.id===Ue[ze].route.id))return{type:"success",matches:null};ke=Ue}}function Xc(Y){s={},c=Gd(Y,i,void 0,s)}function Kc(Y,ne,le=!1){let we=c==null;s_(Y,ne,c||a,s,i,le),we&&(a=[...a],Ee({}))}return _={get basename(){return d},get future(){return g},get state(){return O},get routes(){return a},get window(){return e},initialize:ge,subscribe:pe,enableScrollRestoration:jh,navigate:Ce,fetch:Ir,revalidate:ve,createHref:Y=>t.history.createHref(Y),encodeLocation:Y=>t.history.encodeLocation(Y),getFetcher:Nn,deleteFetcher:na,dispose:ue,getBlocker:Es,deleteBlocker:sa,patchRoutes:Kc,_internalFetchControllers:P,_internalSetRoutes:Xc,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){Ee(Y)}},_}function VU(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $v(t,e,n,r,i,s){let a,c;if(i){a=[];for(let f of e)if(a.push(f),f.route.id===i){c=f;break}}else a=e,c=e[e.length-1];let d=Gp(r||".",Wp(a),yi(t.pathname,n)||t.pathname,s==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=bx(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let g=new URLSearchParams(d.search),m=g.getAll("index");g.delete("index"),m.filter(y=>y).forEach(y=>g.append("index",y));let b=g.toString();d.search=b?`?${b}`:""}}return n!=="/"&&(d.pathname=_U({basename:n,pathname:d.pathname})),Wo(d)}function r_(t,e,n){if(!n||!VU(n))return{path:e};if(n.formMethod&&!JU(n.formMethod))return{path:e,error:pi(405,{method:n.formMethod})};let r=()=>({path:e,error:pi(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=xO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_r(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,S])=>`${b}${y}=${S}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!_r(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}dt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Gv(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Gv(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=u_(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=u_(c)}catch{return r()}let f={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(_r(f.formMethod))return{path:e,submission:f};let g=Zo(e);return t&&g.search&&bx(g.search)&&c.append("index",""),g.search=`?${c}`,{path:Wo(g),submission:f}}function i_(t,e,n,r,i,s,a,c,d,f,g,m,b,y,S,x,C,E,k,T){let R=T?Yr(T[1])?T[1].error:T[1].data:void 0,_=i.createURL(s.location),O=i.createURL(d),I;if(g&&s.errors){let B=Object.keys(s.errors)[0];I=a.findIndex(H=>H.route.id===B)}else if(T&&Yr(T[1])){let B=T[0];I=a.findIndex(H=>H.route.id===B)-1}let M=T?T[1].statusCode:void 0,L=M&&M>=400,$={currentUrl:_,currentParams:s.matches[0]?.params||{},nextUrl:O,nextParams:a[0].params,...c,actionResult:R,actionStatus:M},U=a.map((B,H)=>{let{route:G}=B,P=null;if(I!=null&&H>I?P=!1:G.lazy?P=!0:G.loader==null?P=!1:g?P=Uv(G,s.loaderData,s.errors):HU(s.loaderData,s.matches[H],B)&&(P=!0),P!==null)return Wv(n,r,t,B,f,e,P);let W=L?!1:m||_.pathname+_.search===O.pathname+O.search||_.search!==O.search||$U(s.matches[H],B),Q={...$,defaultShouldRevalidate:W},se=ap(B,Q);return Wv(n,r,t,B,f,e,se,Q)}),D=[];return S.forEach((B,H)=>{if(g||!a.some(fe=>fe.route.id===B.routeId)||y.has(H))return;let G=s.fetchers.get(H),P=G&&G.state!=="idle"&&G.data===void 0,W=zo(C,B.path,E);if(!W){if(k&&P)return;D.push({key:H,routeId:B.routeId,path:B.path,matches:null,match:null,request:null,controller:null});return}if(x.has(H))return;let Q=Pg(W,B.path),se=new AbortController,F=cc(i,B.path,se.signal),Z=null;if(b.has(H))b.delete(H),Z=Sc(n,r,F,W,Q,f,e);else if(P)m&&(Z=Sc(n,r,F,W,Q,f,e));else{let fe={...$,defaultShouldRevalidate:L?!1:m};ap(Q,fe)&&(Z=Sc(n,r,F,W,Q,f,e,fe))}Z&&D.push({key:H,routeId:B.routeId,path:B.path,matches:Z,match:Q,request:F,controller:se})}),{dsMatches:U,revalidatingFetchers:D}}function Uv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function HU(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function $U(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ap(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function s_(t,e,n,r,i,s){let a;if(t){let f=r[t];dt(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),a=f.children}else a=n;let c=[],d=[];if(e.forEach(f=>{let g=a.find(m=>pO(f,m));g?d.push({existingRoute:g,newRoute:f}):c.push(f)}),c.length>0){let f=Gd(c,i,[t||"_","patch",String(a?.length||"0")],r);a.push(...f)}if(s&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:g,newRoute:m}=d[f],b=g,[y]=Gd([m],i,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function pO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>pO(n,i))):!1}var o_=new WeakMap,mO=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(dt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=o_.get(i);a||(a={},o_.set(i,a));let c=a[t];if(c)return c;let d=(async()=>{let f=cU(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)bn(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)bn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await s();b!=null&&(Object.assign(i,{[t]:b}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return a[t]=d,d},a_=new WeakMap;function UU(t,e,n,r,i){let s=n[t.id];if(dt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=a_.get(s);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let m=(async()=>{dt(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),y={};for(let S in b){let x=b[S];if(x===void 0)continue;let C=dU(S),k=s[S]!==void 0&&S!=="hasErrorBoundary";C?bn(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?bn(!k,`Route "${s.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):y[S]=x}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return a_.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),c=[],d;for(let g of a){if(i&&i.includes(g))continue;let m=mO({key:g,route:t,manifest:n,mapRouteProperties:r});m&&(c.push(m),g===e&&(d=m))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function l_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function WU(t){return t.matches.some(e=>e.route.unstable_middleware)?bO(t,!1,()=>l_(t),(e,n)=>({[n]:{type:"error",result:e}})):l_(t)}async function bO(t,e,n,r){let{matches:i,request:s,params:a,context:c}=t,d={handlerResult:void 0};try{let f=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(b=>[m.route.id,b]):[]),g=await vO({request:s,params:a,context:c},f,e,d,n);return e?g:d.handlerResult}catch(f){if(!d.middlewareError)throw f;let g=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,g):g}}async function vO(t,e,n,r,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let c=e[s];if(!c)return r.handlerResult=await i(),r.handlerResult;let[d,f]=c,g=!1,m,b=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await vO(t,e,n,r,i,s+1)};try{let y=await f({request:t.request,params:t.params,context:t.context},b);return g?y===void 0?m:y:b()}catch(y){throw r.middlewareError?r.middlewareError.error!==y&&(r.middlewareError={routeId:d,error:y}):r.middlewareError={routeId:d,error:y},y}}function yO(t,e,n,r,i){let s=mO({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=UU(r.route,_r(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Wv(t,e,n,r,i,s,a,c=null){let d=!1,f=yO(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:a,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(g){return d=!0,c?typeof g=="boolean"?ap(r,{...c,defaultShouldRevalidate:g}):ap(r,c):a},resolve(g){return d||a||g&&!_r(n.method)&&(r.route.lazy||r.route.loader)?qU({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:g,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Sc(t,e,n,r,i,s,a,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:yO(t,e,n,d,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Wv(t,e,n,d,s,a,!0,c))}async function GU(t,e,n,r,i,s){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:e,params:n[0].params,context:i,matches:n},d=await t({...a,fetcherKey:r,unstable_runClientMiddleware:f=>{let g=a;return bO(g,!1,()=>f({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,b)=>({[b]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function qU({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,c,d=_r(t.method),f=d?"action":"loader",g=m=>{let b,y=new Promise((C,E)=>b=E);c=()=>b(),t.signal.addEventListener("abort",c);let S=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...C!==void 0?[C]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(E=>S(E)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([x,y])};try{let m=d?e.route.action:e.route.loader;if(n||r)if(m){let b,[y]=await Promise.all([g(m).catch(S=>{b=S}),n,r]);if(b!==void 0)throw b;a=y}else{await n;let b=d?e.route.action:e.route.loader;if(b)[a]=await Promise.all([g(b),r]);else if(f==="action"){let y=new URL(t.url),S=y.pathname+y.search;throw pi(405,{method:t.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await g(m);else{let b=new URL(t.url),y=b.pathname+b.search;throw pi(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{c&&t.signal.removeEventListener("abort",c)}return a}async function YU(t){let{result:e,type:n}=t;if(SO(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new op(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?p_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new op(e.init?.status||500,void 0,e.data),statusCode:Oc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Oc(e)?e.status:void 0}:p_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function XU(t,e,n,r,i){let s=t.headers.get("Location");if(dt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!mx(s)){let a=r.slice(0,r.findIndex(c=>c.route.id===n)+1);s=$v(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function c_(t,e,n){if(mx(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=yi(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function cc(t,e,n,r){let i=t.createURL(xO(e)).toString(),s={signal:n};if(r&&_r(r.formMethod)){let{formMethod:a,formEncType:c}=r;s.method=a.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Gv(r.formData):s.body=r.formData}return new Request(i,s)}function Gv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function u_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function KU(t,e,n,r=!1,i=!1){let s={},a=null,c,d=!1,f={},g=n&&Yr(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let b=m.route.id,y=e[b];if(dt(!Wa(y),"Cannot handle redirect results in processLoaderData"),Yr(y)){let S=y.error;if(g!==void 0&&(S=g,g=void 0),a=a||{},i)a[b]=S;else{let x=Ba(t,b);a[x.route.id]==null&&(a[x.route.id]=S)}r||(s[b]=gO),d||(d=!0,c=Oc(y.error)?y.error.status:500),y.headers&&(f[b]=y.headers)}else s[b]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(c=y.statusCode),y.headers&&(f[b]=y.headers)}),g!==void 0&&n&&(a={[n[0]]:g},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:c||200,loaderHeaders:f}}function d_(t,e,n,r,i,s){let{loaderData:a,errors:c}=KU(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:g,controller:m}=d,b=s[f];if(dt(b,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Yr(b)){let y=Ba(t.matches,g?.route.id);c&&c[y.route.id]||(c={...c,[y.route.id]:b.error}),t.fetchers.delete(f)}else if(Wa(b))dt(!1,"Unhandled fetcher revalidation redirect");else{let y=Lo(b.data);t.fetchers.set(f,y)}}),{loaderData:a,errors:c}}function h_(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==gO).reduce((s,[a,c])=>(s[a]=c,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function f_(t){return t?Yr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ba(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function g_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pi(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",c=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new op(t||500,a,new Error(c),!0)}function sg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Wa(i))return{key:r,result:i}}}function xO(t){let e=typeof t=="string"?Zo(t):t;return Wo({...e,hash:""})}function QU(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ZU(t){return SO(t.result)&&MU.has(t.result.status)}function Yr(t){return t.type==="error"}function Wa(t){return(t&&t.type)==="redirect"}function p_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function SO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JU(t){return IU.has(t.toUpperCase())}function _r(t){return PU.has(t.toUpperCase())}function bx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pg(t,e){let n=typeof e=="string"?Zo(e).search:e.search;if(t[t.length-1].route.index&&bx(n||""))return t[t.length-1];let r=dO(t);return r[r.length-1]}function m_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function nv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eW(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tW(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Lo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nW(t,e){try{let n=t.sessionStorage.getItem(fO);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function rW(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(fO,JSON.stringify(n))}catch(r){bn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function iW(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var dl=A.createContext(null);dl.displayName="DataRouter";var hh=A.createContext(null);hh.displayName="DataRouterState";A.createContext(!1);var vx=A.createContext({isTransitioning:!1});vx.displayName="ViewTransition";var wO=A.createContext(new Map);wO.displayName="Fetchers";var sW=A.createContext(null);sW.displayName="Await";var Hi=A.createContext(null);Hi.displayName="Navigation";var qp=A.createContext(null);qp.displayName="Location";var wi=A.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var yx=A.createContext(null);yx.displayName="RouteError";function oW(t,{relative:e}={}){dt($c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Hi),{hash:i,pathname:s,search:a}=fh(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:ms([n,s])),r.createHref({pathname:c,search:a,hash:i})}function $c(){return A.useContext(qp)!=null}function $i(){return dt($c(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(qp).location}var CO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EO(t){A.useContext(Hi).static||A.useLayoutEffect(t)}function yn(){let{isDataRoute:t}=A.useContext(wi);return t?xW():aW()}function aW(){dt($c(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(dl),{basename:e,navigator:n}=A.useContext(Hi),{matches:r}=A.useContext(wi),{pathname:i}=$i(),s=JSON.stringify(Wp(r)),a=A.useRef(!1);return EO(()=>{a.current=!0}),A.useCallback((d,f={})=>{if(bn(a.current,CO),!a.current)return;if(typeof d=="number"){n.go(d);return}let g=Gp(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ms([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,s,i,t])}var lW=A.createContext(null);function cW(t){let e=A.useContext(wi).outlet;return e&&A.createElement(lW.Provider,{value:t},e)}function pr(){let{matches:t}=A.useContext(wi),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=A.useContext(wi),{pathname:r}=$i(),i=JSON.stringify(Wp(n));return A.useMemo(()=>Gp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function uW(t,e,n,r){dt($c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Hi),{matches:s}=A.useContext(wi),a=s[s.length-1],c=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",g=a&&a.route;{let E=g&&g.path||"";_O(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=$i(),b;b=m;let y=b.pathname||"/",S=y;if(f!=="/"){let E=f.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=zo(t,{pathname:S});return bn(g||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pW(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:ms([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:ms([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function dW(){let t=AO(),e=Oc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,a)}var hW=A.createElement(dW,null),fW=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(wi.Provider,{value:this.props.routeContext},A.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gW({routeContext:t,match:e,children:n}){let r=A.useContext(dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(wi.Provider,{value:t},n)}function pW(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:m}=n,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let m,b=!1,y=null,S=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||hW,a&&(c<0&&g===0?(_O("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===g&&(b=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,g+1)),C=()=>{let E;return m?E=y:b?E=S:f.route.Component?E=A.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,A.createElement(gW,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?A.createElement(fW,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function xx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mW(t){let e=A.useContext(dl);return dt(e,xx(t)),e}function bW(t){let e=A.useContext(hh);return dt(e,xx(t)),e}function vW(t){let e=A.useContext(wi);return dt(e,xx(t)),e}function Sx(t){let e=vW(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yW(){return Sx("useRouteId")}function AO(){let t=A.useContext(yx),e=bW("useRouteError"),n=Sx("useRouteError");return t!==void 0?t:e.errors?.[n]}function xW(){let{router:t}=mW("useNavigate"),e=Sx("useNavigate"),n=A.useRef(!1);return EO(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{bn(n.current,CO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var b_={};function _O(t,e,n){!e&&!b_[t]&&(b_[t]=!0,bn(!1,n))}var v_={};function y_(t,e){!t&&!v_[e]&&(v_[e]=!0,console.warn(e))}function SW(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&bn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&bn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&bn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var wW=["HydrateFallback","hydrateFallbackElement"],CW=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function EW({router:t,flushSync:e}){let[n,r]=A.useState(t.state),[i,s]=A.useState(),[a,c]=A.useState({isTransitioning:!1}),[d,f]=A.useState(),[g,m]=A.useState(),[b,y]=A.useState(),S=A.useRef(new Map),x=A.useCallback((T,{deletedFetchers:R,flushSync:_,viewTransitionOpts:O})=>{T.fetchers.forEach((M,L)=>{M.data!==void 0&&S.current.set(L,M.data)}),R.forEach(M=>S.current.delete(M)),y_(_===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(y_(O==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!I){e&&_?e(()=>r(T)):A.startTransition(()=>r(T));return}if(e&&_){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let M=t.window.document.startViewTransition(()=>{e(()=>r(T))});M.finished.finally(()=>{e(()=>{f(void 0),m(void 0),s(void 0),c({isTransitioning:!1})})}),e(()=>m(M));return}g?(d&&d.resolve(),g.skipTransition(),y({state:T,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(T),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,g,d]);A.useLayoutEffect(()=>t.subscribe(x),[t,x]),A.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new CW)},[a]),A.useEffect(()=>{if(d&&i&&t.window){let T=i,R=d.promise,_=t.window.document.startViewTransition(async()=>{A.startTransition(()=>r(T)),await R});_.finished.finally(()=>{f(void 0),m(void 0),s(void 0),c({isTransitioning:!1})}),m(_)}},[i,d,t.window]),A.useEffect(()=>{d&&i&&n.location.key===i.location.key&&d.resolve()},[d,g,n.location,i]),A.useEffect(()=>{!a.isTransitioning&&b&&(s(b.state),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[a.isTransitioning,b]);let C=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:T=>t.navigate(T),push:(T,R,_)=>t.navigate(T,{state:R,preventScrollReset:_?.preventScrollReset}),replace:(T,R,_)=>t.navigate(T,{replace:!0,state:R,preventScrollReset:_?.preventScrollReset})}),[t]),E=t.basename||"/",k=A.useMemo(()=>({router:t,navigator:C,static:!1,basename:E}),[t,C,E]);return A.createElement(A.Fragment,null,A.createElement(dl.Provider,{value:k},A.createElement(hh.Provider,{value:n},A.createElement(wO.Provider,{value:S.current},A.createElement(vx.Provider,{value:a},A.createElement(kW,{basename:E,location:n.location,navigationType:n.historyAction,navigator:C},A.createElement(AW,{routes:t.routes,future:t.future,state:n})))))),null)}var AW=A.memo(_W);function _W({routes:t,future:e,state:n}){return uW(t,void 0,n,e)}function TW({to:t,replace:e,state:n,relative:r}){dt($c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Hi);bn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(wi),{pathname:a}=$i(),c=yn(),d=Gp(t,Wp(s),a,r==="path"),f=JSON.stringify(d);return A.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function RW(t){return cW(t.context)}function kW({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dt(!$c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Zo(n));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:b="default"}=n,y=A.useMemo(()=>{let S=yi(d,a);return S==null?null:{location:{pathname:S,search:f,hash:g,state:m,key:b},navigationType:r}},[a,d,f,g,m,b,r]);return bn(y!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(Hi.Provider,{value:c},A.createElement(qp.Provider,{children:e,value:y}))}var Ng="get",Ig="application/x-www-form-urlencoded";function Yp(t){return t!=null&&typeof t.tagName=="string"}function OW(t){return Yp(t)&&t.tagName.toLowerCase()==="button"}function jW(t){return Yp(t)&&t.tagName.toLowerCase()==="form"}function PW(t){return Yp(t)&&t.tagName.toLowerCase()==="input"}function NW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IW(t,e){return t.button===0&&(!e||e==="_self")&&!NW(t)}var og=null;function MW(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var DW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(t){return t!=null&&!DW.has(t)?(bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):t}function LW(t,e){let n,r,i,s,a;if(jW(t)){let c=t.getAttribute("action");r=c?yi(c,e):null,n=t.getAttribute("method")||Ng,i=rv(t.getAttribute("enctype"))||Ig,s=new FormData(t)}else if(OW(t)||PW(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?yi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ng,i=rv(t.getAttribute("formenctype"))||rv(c.getAttribute("enctype"))||Ig,s=new FormData(c,t),!MW()){let{name:f,type:g,value:m}=t;if(g==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,m)}}else{if(Yp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ng,r=null,i=Ig,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zW(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function FW(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BW(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VW(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await FW(s,n);return a.links?a.links():[]}return[]}));return WW(r.flat(1).filter(BW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x_(t,e,n,r,i,s){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>a(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(a(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function HW(t,e,{includeHydrateFallback:n}={}){return $W(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $W(t){return[...new Set(t)]}function UW(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WW(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(UW(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function TO(){let t=A.useContext(dl);return wx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GW(){let t=A.useContext(hh);return wx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cx=A.createContext(void 0);Cx.displayName="FrameworkContext";function RO(){let t=A.useContext(Cx);return wx(t,"You must render this element inside a <HydratedRouter> element"),t}function qW(t,e){let n=A.useContext(Cx),[r,i]=A.useState(!1),[s,a]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:m}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=E=>{E.forEach(k=>{a(k.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:rd(c,y),onBlur:rd(d,S),onMouseEnter:rd(f,y),onMouseLeave:rd(g,S),onTouchStart:rd(m,y)}]:[!1,b,{}]}function rd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YW({page:t,...e}){let{router:n}=TO(),r=A.useMemo(()=>zo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(KW,{page:t,matches:r,...e}):null}function XW(t){let{manifest:e,routeModules:n}=RO(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return VW(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function KW({page:t,matches:e,...n}){let r=$i(),{manifest:i,routeModules:s}=RO(),{basename:a}=TO(),{loaderData:c,matches:d}=GW(),f=A.useMemo(()=>x_(t,e,d,i,r,"data"),[t,e,d,i,r]),g=A.useMemo(()=>x_(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(E=>{let k=i.routes[E.route.id];!k||!k.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in c&&s[E.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:S.add(E.route.id))}),S.size===0)return[];let C=zW(t,a,"data");return x&&S.size>0&&C.searchParams.set("_routes",e.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[a,c,r,i,f,e,t,s]),b=A.useMemo(()=>HW(g,i),[g,i]),y=XW(g);return A.createElement(A.Fragment,null,m.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:x})=>A.createElement("link",{key:S,...x})))}function QW(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kO&&(window.__reactRouterVersion="7.7.1")}catch{}function ZW(t,e){return BU({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:sU({window:e?.window}),hydrationData:JW(),routes:t,mapRouteProperties:SW,hydrationRouteProperties:wW,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function JW(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:e8(t.errors)}),t}function e8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new op(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var OO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xp=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:d,to:f,preventScrollReset:g,viewTransition:m,...b},y){let{basename:S}=A.useContext(Hi),x=typeof f=="string"&&OO.test(f),C,E=!1;if(typeof f=="string"&&x&&(C=f,kO))try{let L=new URL(window.location.href),$=f.startsWith("//")?new URL(L.protocol+f):new URL(f),U=yi($.pathname,S);$.origin===L.origin&&U!=null?f=U+$.search+$.hash:E=!0}catch{bn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=oW(f,{relative:i}),[T,R,_]=qW(r,b),O=i8(f,{replace:a,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:m});function I(L){e&&e(L),L.defaultPrevented||O(L)}let M=A.createElement("a",{...b,..._,href:C||k,onClick:E||s?e:I,ref:QW(y,R),target:d,"data-discover":!x&&n==="render"?"true":void 0});return T&&!x?A.createElement(A.Fragment,null,M,A.createElement(YW,{page:k})):M});Xp.displayName="Link";var t8=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:d,...f},g){let m=fh(a,{relative:f.relative}),b=$i(),y=A.useContext(hh),{navigator:S,basename:x}=A.useContext(Hi),C=y!=null&&c8(m)&&c===!0,E=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,k=b.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(k=k.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&x&&(T=yi(T,x)||T);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let _=k===E||!i&&k.startsWith(E)&&k.charAt(R)==="/",O=T!=null&&(T===E||!i&&T.startsWith(E)&&T.charAt(E.length)==="/"),I={isActive:_,isPending:O,isTransitioning:C},M=_?e:void 0,L;typeof r=="function"?L=r(I):L=[r,_?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(I):s;return A.createElement(Xp,{...f,"aria-current":M,className:L,ref:g,style:$,to:a,viewTransition:c},typeof d=="function"?d(I):d)});t8.displayName="NavLink";var n8=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Ng,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:m,...b},y)=>{let S=a8(),x=l8(c,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&OO.test(c),k=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,_=R?.getAttribute("formmethod")||a;S(R||T.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:i,state:s,relative:f,preventScrollReset:g,viewTransition:m})};return A.createElement("form",{ref:y,method:C,action:x,onSubmit:r?d:k,...b,"data-discover":!E&&t==="render"?"true":void 0})});n8.displayName="Form";function r8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jO(t){let e=A.useContext(dl);return dt(e,r8(t)),e}function i8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let c=yn(),d=$i(),f=fh(t,{relative:s});return A.useCallback(g=>{if(IW(g,e)){g.preventDefault();let m=n!==void 0?n:Wo(d)===Wo(f);c(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[d,c,f,n,r,e,t,i,s,a])}var s8=0,o8=()=>`__${String(++s8)}__`;function a8(){let{router:t}=jO("useSubmit"),{basename:e}=A.useContext(Hi),n=yW();return A.useCallback(async(r,i={})=>{let{action:s,method:a,encType:c,formData:d,body:f}=LW(r,e);if(i.navigate===!1){let g=i.fetcherKey||o8();await t.fetch(g,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function l8(t,{relative:e}={}){let{basename:n}=A.useContext(Hi),r=A.useContext(wi);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...fh(t||".",{relative:e})},a=$i();if(t==null){s.search=a.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();s.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ms([n,s.pathname])),Wo(s)}function c8(t,{relative:e}={}){let n=A.useContext(vx);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jO("useViewTransitionState"),i=fh(t,{relative:e});if(!n.isTransitioning)return!1;let s=yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sp(i.pathname,a)!=null||sp(i.pathname,s)!=null}function u8(t){return A.createElement(EW,{flushSync:Ks.flushSync,...t})}const d8=()=>{const t=AO();return h.jsx(h.Fragment,{children:h.jsxs(N,{padding:5,children:[h.jsx(St,{children:"Oops"}),h.jsx(V,{children:Oc(t)?"This page does not exist.":"An unexpected error occurred."})]})})},h8=()=>(A.useEffect(()=>{document.documentElement.lang="fa",document.documentElement.dir="rtl",document.body.classList.add("rtl"),document.body.classList.remove("ltr")},[]),h.jsx(RW,{}));var PO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S_=Mt.createContext&&Mt.createContext(PO),f8=["attr","size","title"];function g8(t,e){if(t==null)return{};var n=p8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){m8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m8(t,e,n){return e=b8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b8(t){var e=v8(t,"string");return typeof e=="symbol"?e:e+""}function v8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NO(t){return t&&t.map((e,n)=>Mt.createElement(e.tag,cp({key:n},e.attr),NO(e.child)))}function it(t){return e=>Mt.createElement(y8,lp({attr:cp({},t.attr)},e),NO(t.child))}function y8(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=g8(t,f8),c=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Mt.createElement("svg",lp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:cp(cp({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Mt.createElement("title",null,s),t.children)};return S_!==void 0?Mt.createElement(S_.Consumer,null,n=>e(n)):e(PO)}function x8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function S8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(t)}function Ex(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Ax(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function Mg(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function qv(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function qd(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function w8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function C8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function Go(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function xs(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function E8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function A8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function qo(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Kp(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function _8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function IO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function MO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function T8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function DO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Ho(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function Yv(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function Xv(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function R8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function k8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function O8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function up(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function LO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function zO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(t)}function rl(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function _x(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"},child:[]}]})(t)}function Tx(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function FO(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Yo(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function il(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Ss(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function j8(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Kv(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Qp(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function zi(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Rx(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(t)}function kx(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(t)}function BO(t,e){return function(){return t.apply(e,arguments)}}const{toString:P8}=Object.prototype,{getPrototypeOf:Ox}=Object,{iterator:Zp,toStringTag:VO}=Symbol,Jp=(t=>e=>{const n=P8.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=t=>(t=t.toLowerCase(),e=>Jp(e)===t),em=t=>e=>typeof e===t,{isArray:Uc}=Array,Yd=em("undefined");function gh(t){return t!==null&&!Yd(t)&&t.constructor!==null&&!Yd(t.constructor)&&kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HO=Ui("ArrayBuffer");function N8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HO(t.buffer),e}const I8=em("string"),kr=em("function"),$O=em("number"),ph=t=>t!==null&&typeof t=="object",M8=t=>t===!0||t===!1,Dg=t=>{if(Jp(t)!=="object")return!1;const e=Ox(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VO in t)&&!(Zp in t)},D8=t=>{if(!ph(t)||gh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},L8=Ui("Date"),z8=Ui("File"),F8=Ui("Blob"),B8=Ui("FileList"),V8=t=>ph(t)&&kr(t.pipe),H8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kr(t.append)&&((e=Jp(t))==="formdata"||e==="object"&&kr(t.toString)&&t.toString()==="[object FormData]"))},$8=Ui("URLSearchParams"),[U8,W8,G8,q8]=["ReadableStream","Request","Response","Headers"].map(Ui),Y8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Uc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(gh(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let c;for(r=0;r<a;r++)c=s[r],e.call(null,t[c],c,t)}}function UO(t,e){if(gh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WO=t=>!Yd(t)&&t!==Ga;function Qv(){const{caseless:t}=WO(this)&&this||{},e={},n=(r,i)=>{const s=t&&UO(e,i)||i;Dg(e[s])&&Dg(r)?e[s]=Qv(e[s],r):Dg(r)?e[s]=Qv({},r):Uc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&mh(arguments[r],n);return e}const X8=(t,e,n,{allOwnKeys:r}={})=>(mh(e,(i,s)=>{n&&kr(i)?t[s]=BO(i,n):t[s]=i},{allOwnKeys:r}),t),K8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Q8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Z8=(t,e,n,r)=>{let i,s,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&Ox(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},J8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},eG=t=>{if(!t)return null;if(Uc(t))return t;let e=t.length;if(!$O(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},tG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ox(Uint8Array)),nG=(t,e)=>{const r=(t&&t[Zp]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},rG=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},iG=Ui("HTMLFormElement"),sG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),C_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),oG=Ui("RegExp"),GO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};mh(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},aG=t=>{GO(t,(e,n)=>{if(kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},lG=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Uc(t)?r(t):r(String(t).split(e)),n},cG=()=>{},uG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function dG(t){return!!(t&&kr(t.append)&&t[VO]==="FormData"&&t[Zp])}const hG=t=>{const e=new Array(10),n=(r,i)=>{if(ph(r)){if(e.indexOf(r)>=0)return;if(gh(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Uc(r)?[]:{};return mh(r,(a,c)=>{const d=n(a,i+1);!Yd(d)&&(s[c]=d)}),e[i]=void 0,s}}return r};return n(t,0)},fG=Ui("AsyncFunction"),gG=t=>t&&(ph(t)||kr(t))&&kr(t.then)&&kr(t.catch),qO=((t,e)=>t?setImmediate:e?((n,r)=>(Ga.addEventListener("message",({source:i,data:s})=>{i===Ga&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ga.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kr(Ga.postMessage)),pG=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||qO,mG=t=>t!=null&&kr(t[Zp]),he={isArray:Uc,isArrayBuffer:HO,isBuffer:gh,isFormData:H8,isArrayBufferView:N8,isString:I8,isNumber:$O,isBoolean:M8,isObject:ph,isPlainObject:Dg,isEmptyObject:D8,isReadableStream:U8,isRequest:W8,isResponse:G8,isHeaders:q8,isUndefined:Yd,isDate:L8,isFile:z8,isBlob:F8,isRegExp:oG,isFunction:kr,isStream:V8,isURLSearchParams:$8,isTypedArray:tG,isFileList:B8,forEach:mh,merge:Qv,extend:X8,trim:Y8,stripBOM:K8,inherits:Q8,toFlatObject:Z8,kindOf:Jp,kindOfTest:Ui,endsWith:J8,toArray:eG,forEachEntry:nG,matchAll:rG,isHTMLForm:iG,hasOwnProperty:C_,hasOwnProp:C_,reduceDescriptors:GO,freezeMethods:aG,toObjectSet:lG,toCamelCase:sG,noop:cG,toFiniteNumber:uG,findKey:UO,global:Ga,isContextDefined:WO,isSpecCompliantForm:dG,toJSONObject:hG,isAsyncFn:fG,isThenable:gG,setImmediate:qO,asap:pG,isIterable:mG};function rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const YO=rt.prototype,XO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XO[t]={value:t}});Object.defineProperties(rt,XO);Object.defineProperty(YO,"isAxiosError",{value:!0});rt.from=(t,e,n,r,i,s)=>{const a=Object.create(YO);return he.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),rt.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const bG=null;function Zv(t){return he.isPlainObject(t)||he.isArray(t)}function KO(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function E_(t,e,n){return t?t.concat(e).map(function(i,s){return i=KO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function vG(t){return he.isArray(t)&&!t.some(Zv)}const yG=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function tm(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!he.isUndefined(C[x])});const r=n.metaTokens,i=n.visitor||g,s=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function f(S){if(S===null)return"";if(he.isDate(S))return S.toISOString();if(he.isBoolean(S))return S.toString();if(!d&&he.isBlob(S))throw new rt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(S)||he.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,x,C){let E=S;if(S&&!C&&typeof S=="object"){if(he.endsWith(x,"{}"))x=r?x:x.slice(0,-2),S=JSON.stringify(S);else if(he.isArray(S)&&vG(S)||(he.isFileList(S)||he.endsWith(x,"[]"))&&(E=he.toArray(S)))return x=KO(x),E.forEach(function(T,R){!(he.isUndefined(T)||T===null)&&e.append(a===!0?E_([x],R,s):a===null?x:x+"[]",f(T))}),!1}return Zv(S)?!0:(e.append(E_(C,x,s),f(S)),!1)}const m=[],b=Object.assign(yG,{defaultVisitor:g,convertValue:f,isVisitable:Zv});function y(S,x){if(!he.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(S),he.forEach(S,function(E,k){(!(he.isUndefined(E)||E===null)&&i.call(e,E,he.isString(k)?k.trim():k,x,b))===!0&&y(E,x?x.concat(k):[k])}),m.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return y(t),e}function A_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jx(t,e){this._pairs=[],t&&tm(t,this,e)}const QO=jx.prototype;QO.append=function(e,n){this._pairs.push([e,n])};QO.toString=function(e){const n=e?function(r){return e.call(this,r,A_)}:A_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function xG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZO(t,e,n){if(!e)return t;const r=n&&n.encode||xG;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=he.isURLSearchParams(e)?e.toString():new jx(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class __{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SG=typeof URLSearchParams<"u"?URLSearchParams:jx,wG=typeof FormData<"u"?FormData:null,CG=typeof Blob<"u"?Blob:null,EG={isBrowser:!0,classes:{URLSearchParams:SG,FormData:wG,Blob:CG},protocols:["http","https","file","blob","url","data"]},Px=typeof window<"u"&&typeof document<"u",Jv=typeof navigator=="object"&&navigator||void 0,AG=Px&&(!Jv||["ReactNative","NativeScript","NS"].indexOf(Jv.product)<0),_G=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TG=Px&&window.location.href||"http://localhost",RG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Px,hasStandardBrowserEnv:AG,hasStandardBrowserWebWorkerEnv:_G,navigator:Jv,origin:TG},Symbol.toStringTag,{value:"Module"})),or={...RG,...EG};function kG(t,e){return tm(t,new or.classes.URLSearchParams,{visitor:function(n,r,i,s){return or.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function OG(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jG(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function ej(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=s>=n.length;return a=!a&&he.isArray(i)?i.length:a,d?(he.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!he.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&he.isArray(i[a])&&(i[a]=jG(i[a])),!c)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(r,i)=>{e(OG(r),i,n,0)}),n}return null}function PG(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bh={transitional:JO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=he.isObject(e);if(s&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(ej(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kG(e,this.formSerializer).toString();if((c=he.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return tm(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),PG(e)):e}],transformResponse:[function(e){const n=this.transitional||bh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?rt.from(c,rt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{bh.headers[t]={}});const NG=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IG=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&NG[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},T_=Symbol("internals");function id(t){return t&&String(t).trim().toLowerCase()}function Lg(t){return t===!1||t==null?t:he.isArray(t)?t.map(Lg):String(t)}function MG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const DG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function iv(t,e,n,r,i){if(he.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!he.isString(e)){if(he.isString(r))return e.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(e)}}function LG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function zG(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Or=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(c,d,f){const g=id(d);if(!g)throw new Error("header name must be a non-empty string");const m=he.findKey(i,g);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||d]=Lg(c))}const a=(c,d)=>he.forEach(c,(f,g)=>s(f,g,d));if(he.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(he.isString(e)&&(e=e.trim())&&!DG(e))a(IG(e),n);else if(he.isObject(e)&&he.isIterable(e)){let c={},d,f;for(const g of e){if(!he.isArray(g))throw TypeError("Object iterator must return a key-value pair");c[f=g[0]]=(d=c[f])?he.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}a(c,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=id(e),e){const r=he.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return MG(i);if(he.isFunction(n))return n.call(this,i,r);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=id(e),e){const r=he.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||iv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=id(a),a){const c=he.findKey(r,a);c&&(!n||iv(r,r[c],c,n))&&(delete r[c],i=!0)}}return he.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||iv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return he.forEach(this,(i,s)=>{const a=he.findKey(r,s);if(a){n[a]=Lg(i),delete n[s];return}const c=e?LG(s):String(s).trim();c!==s&&delete n[s],n[c]=Lg(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[T_]=this[T_]={accessors:{}}).accessors,i=this.prototype;function s(a){const c=id(a);r[c]||(zG(i,a),r[c]=!0)}return he.isArray(e)?e.forEach(s):s(e),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Or.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});he.freezeMethods(Or);function sv(t,e){const n=this||bh,r=e||n,i=Or.from(r.headers);let s=r.data;return he.forEach(t,function(c){s=c.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function tj(t){return!!(t&&t.__CANCEL__)}function Wc(t,e,n){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(Wc,rt,{__CANCEL__:!0});function nj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function FG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function BG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[s];a||(a=f),n[i]=d,r[i]=f;let m=s,b=0;for(;m!==i;)b+=n[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const y=g&&f-g;return y?Math.round(b*1e3/y):void 0}}function VG(t,e){let n=0,r=1e3/e,i,s;const a=(f,g=Date.now())=>{n=g,i=null,s&&(clearTimeout(s),s=null),t(...f)};return[(...f)=>{const g=Date.now(),m=g-n;m>=r?a(f,g):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-m)))},()=>i&&a(i)]}const dp=(t,e,n=3)=>{let r=0;const i=BG(50,250);return VG(s=>{const a=s.loaded,c=s.lengthComputable?s.total:void 0,d=a-r,f=i(d),g=a<=c;r=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&g?(c-a)/f:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},R_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},k_=t=>(...e)=>he.asap(()=>t(...e)),HG=or.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,or.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,$G=or.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];he.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),he.isString(r)&&a.push("path="+r),he.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rj(t,e,n){let r=!UG(e);return t&&(r||n==!1)?WG(t,e):e}const O_=t=>t instanceof Or?{...t}:t;function sl(t,e){e=e||{};const n={};function r(f,g,m,b){return he.isPlainObject(f)&&he.isPlainObject(g)?he.merge.call({caseless:b},f,g):he.isPlainObject(g)?he.merge({},g):he.isArray(g)?g.slice():g}function i(f,g,m,b){if(he.isUndefined(g)){if(!he.isUndefined(f))return r(void 0,f,m,b)}else return r(f,g,m,b)}function s(f,g){if(!he.isUndefined(g))return r(void 0,g)}function a(f,g){if(he.isUndefined(g)){if(!he.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function c(f,g,m){if(m in e)return r(f,g);if(m in t)return r(void 0,f)}const d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,g,m)=>i(O_(f),O_(g),m,!0)};return he.forEach(Object.keys({...t,...e}),function(g){const m=d[g]||i,b=m(t[g],e[g],g);he.isUndefined(b)&&m!==c||(n[g]=b)}),n}const ij=t=>{const e=sl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:c}=e;e.headers=a=Or.from(a),e.url=ZO(rj(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(he.isFormData(n)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[f,...g]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...g].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(e)),r||r!==!1&&HG(e.url))){const f=i&&s&&$G.read(s);f&&a.set(i,f)}return e},GG=typeof XMLHttpRequest<"u",qG=GG&&function(t){return new Promise(function(n,r){const i=ij(t);let s=i.data;const a=Or.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,g,m,b,y,S;function x(){y&&y(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function E(){if(!C)return;const T=Or.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};nj(function(I){n(I),x()},function(I){r(I),x()},_),C=null}"onloadend"in C?C.onloadend=E:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(E)},C.onabort=function(){C&&(r(new rt("Request aborted",rt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new rt("Network Error",rt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||JO;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new rt(R,_.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,C)),C=null},s===void 0&&a.setContentType(null),"setRequestHeader"in C&&he.forEach(a.toJSON(),function(R,_){C.setRequestHeader(_,R)}),he.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),c&&c!=="json"&&(C.responseType=i.responseType),f&&([b,S]=dp(f,!0),C.addEventListener("progress",b)),d&&C.upload&&([m,y]=dp(d),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(g=T=>{C&&(r(!T||T.type?new Wc(null,t,C):T),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const k=FG(i.url);if(k&&or.protocols.indexOf(k)===-1){r(new rt("Unsupported protocol "+k+":",rt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},YG=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,c();const g=f instanceof Error?f:this.reason;r.abort(g instanceof rt?g:new Wc(g instanceof Error?g.message:g))}};let a=e&&setTimeout(()=>{a=null,s(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>he.asap(c),d}},XG=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},KG=async function*(t,e){for await(const n of QG(t))yield*XG(n,e)},QG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},j_=(t,e,n,r)=>{const i=KG(t,e);let s=0,a,c=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){c(),d.close();return}let m=g.byteLength;if(n){let b=s+=m;n(b)}d.enqueue(new Uint8Array(g))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},nm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sj=nm&&typeof ReadableStream=="function",ZG=nm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),oj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},JG=sj&&oj(()=>{let t=!1;const e=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P_=64*1024,ey=sj&&oj(()=>he.isReadableStream(new Response("").body)),hp={stream:ey&&(t=>t.body)};nm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hp[e]&&(hp[e]=he.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,r)})})})(new Response);const e7=async t=>{if(t==null)return 0;if(he.isBlob(t))return t.size;if(he.isSpecCompliantForm(t))return(await new Request(or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(he.isArrayBufferView(t)||he.isArrayBuffer(t))return t.byteLength;if(he.isURLSearchParams(t)&&(t=t+""),he.isString(t))return(await ZG(t)).byteLength},t7=async(t,e)=>{const n=he.toFiniteNumber(t.getContentLength());return n??e7(e)},n7=nm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:g,withCredentials:m="same-origin",fetchOptions:b}=ij(t);f=f?(f+"").toLowerCase():"text";let y=YG([i,s&&s.toAbortSignal()],a),S;const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(d&&JG&&n!=="get"&&n!=="head"&&(C=await t7(g,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(he.isFormData(r)&&(O=_.headers.get("content-type"))&&g.setContentType(O),_.body){const[I,M]=R_(C,dp(k_(d)));r=j_(_.body,P_,I,M)}}he.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;S=new Request(e,{...b,signal:y,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:E?m:void 0});let k=await fetch(S,b);const T=ey&&(f==="stream"||f==="response");if(ey&&(c||T&&x)){const _={};["status","statusText","headers"].forEach(L=>{_[L]=k[L]});const O=he.toFiniteNumber(k.headers.get("content-length")),[I,M]=c&&R_(O,dp(k_(c),!0))||[];k=new Response(j_(k.body,P_,I,()=>{M&&M(),x&&x()}),_)}f=f||"text";let R=await hp[he.findKey(hp,f)||"text"](k,t);return!T&&x&&x(),await new Promise((_,O)=>{nj(_,O,{data:R,headers:Or.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:S})})}catch(E){throw x&&x(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,t,S),{cause:E.cause||E}):rt.from(E,E&&E.code,t,S)}}),ty={http:bG,xhr:qG,fetch:n7};he.forEach(ty,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const N_=t=>`- ${t}`,r7=t=>he.isFunction(t)||t===null||t===!1,aj={getAdapter:t=>{t=he.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!r7(n)&&(r=ty[(a=String(n)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(N_).join(`
`):" "+N_(s[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ty};function ov(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wc(null,t)}function I_(t){return ov(t),t.headers=Or.from(t.headers),t.data=sv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aj.getAdapter(t.adapter||bh.adapter)(t).then(function(r){return ov(t),r.data=sv.call(t,t.transformResponse,r),r.headers=Or.from(r.headers),r},function(r){return tj(r)||(ov(t),r&&r.response&&(r.response.data=sv.call(t,t.transformResponse,r.response),r.response.headers=Or.from(r.response.headers))),Promise.reject(r)})}const lj="1.11.0",rm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const M_={};rm.transitional=function(e,n,r){function i(s,a){return"[Axios v"+lj+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,c)=>{if(e===!1)throw new rt(i(a," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!M_[a]&&(M_[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,c):!0}};rm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function i7(t,e,n){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const c=t[s],d=c===void 0||a(c,s,t);if(d!==!0)throw new rt("option "+s+" must be "+d,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+s,rt.ERR_BAD_OPTION)}}const zg={assertOptions:i7,validators:rm},rs=zg.validators;let el=class{constructor(e){this.defaults=e||{},this.interceptors={request:new __,response:new __}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=sl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zg.assertOptions(r,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:zg.assertOptions(i,{encode:rs.function,serialize:rs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zg.assertOptions(n,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&he.merge(s.common,s[n.method]);s&&he.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=Or.concat(a,s);const c=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(d=d&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let g,m=0,b;if(!d){const S=[I_.bind(this),void 0];for(S.unshift(...c),S.push(...f),b=S.length,g=Promise.resolve(n);m<b;)g=g.then(S[m++],S[m++]);return g}b=c.length;let y=n;for(m=0;m<b;){const S=c[m++],x=c[m++];try{y=S(y)}catch(C){x.call(this,C);break}}try{g=I_.call(this,y)}catch(S){return Promise.reject(S)}for(m=0,b=f.length;m<b;)g=g.then(f[m++],f[m++]);return g}getUri(e){e=sl(this.defaults,e);const n=rj(e.baseURL,e.url,e.allowAbsoluteUrls);return ZO(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){el.prototype[e]=function(n,r){return this.request(sl(r||{},{method:e,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,c){return this.request(sl(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}el.prototype[e]=n(),el.prototype[e+"Form"]=n(!0)});let s7=class cj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(c=>{r.subscribe(c),s=c}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,c){r.reason||(r.reason=new Wc(s,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new cj(function(i){e=i}),cancel:e}}};function o7(t){return function(n){return t.apply(null,n)}}function a7(t){return he.isObject(t)&&t.isAxiosError===!0}const ny={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ny).forEach(([t,e])=>{ny[e]=t});function uj(t){const e=new el(t),n=BO(el.prototype.request,e);return he.extend(n,el.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return uj(sl(t,i))},n}const cn=uj(bh);cn.Axios=el;cn.CanceledError=Wc;cn.CancelToken=s7;cn.isCancel=tj;cn.VERSION=lj;cn.toFormData=tm;cn.AxiosError=rt;cn.Cancel=cn.CanceledError;cn.all=function(e){return Promise.all(e)};cn.spread=o7;cn.isAxiosError=a7;cn.mergeConfig=sl;cn.AxiosHeaders=Or;cn.formToJSON=t=>ej(he.isHTMLForm(t)?new FormData(t):t);cn.getAdapter=aj.getAdapter;cn.HttpStatusCode=ny;cn.default=cn;const{Axios:oQ,AxiosError:aQ,CanceledError:lQ,isCancel:cQ,CancelToken:uQ,VERSION:dQ,all:hQ,Cancel:fQ,isAxiosError:gQ,spread:pQ,toFormData:mQ,AxiosHeaders:bQ,HttpStatusCode:vQ,formToJSON:yQ,getAdapter:xQ,mergeConfig:SQ}=cn,pn={BASE_URL:"http://localhost:8000",ENDPOINTS:{LOGIN:"/api/users/auth/login/",LOGOUT:"/api/users/auth/logout/",STUDENT_SIGNUP:"/api/users/auth/signup/student/",REFRESH:"/api/users/auth/refresh/",PROFILE:"/api/users/profile/",ME:"/api/users/me/",COURSES:"/api/courses/",COURSE_DETAIL:t=>`/api/courses/${t}/`,ENROLL_BY_CODE:"/api/courses/enroll/by-code/",CREATE_COURSE:"/api/courses/",ASSIGNMENTS:t=>`/api/assignments/course/${t}/`,ASSIGNMENT_DETAIL:(t,e)=>`/api/assignments/${e}/`,ROSTER:t=>`/api/courses/${t}/roster/`,COURSE_SETTINGS:t=>`/api/courses/${t}/settings/`},TIMEOUT:1e4,DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"}},Fo=cn.create({baseURL:pn.BASE_URL,timeout:pn.TIMEOUT,headers:pn.DEFAULT_HEADERS});Fo.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Fo.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response?.status===401&&!e._retry){e._retry=!0;try{const n=localStorage.getItem("refresh_token");if(n){const r=await cn.post(`${pn.BASE_URL}/api/users/auth/refresh/`,{refresh:n}),{access:i}=r.data;return localStorage.setItem("access_token",i),e.headers.Authorization=`Bearer ${i}`,Fo(e)}}catch(n){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(t)});const Be={get:(t,e)=>Fo.get(t,e).then(n=>n.data),post:(t,e,n)=>Fo.post(t,e,n).then(r=>r.data),put:(t,e,n)=>Fo.put(t,e,n).then(r=>r.data),patch:(t,e,n)=>Fo.patch(t,e,n).then(r=>r.data),delete:(t,e)=>Fo.delete(t,e).then(n=>n.data)},l7=Object.freeze(Object.defineProperty({__proto__:null,api:Be},Symbol.toStringTag,{value:"Module"})),ja={login:async t=>{const e=await Be.post(pn.ENDPOINTS.LOGIN,t);return localStorage.setItem("access_token",e.access),localStorage.setItem("refresh_token",e.refresh),e},studentSignup:async t=>await Be.post("/api/users/auth/signup/student/",t),logout:async()=>{const t=localStorage.getItem("refresh_token");try{t&&await Be.post(pn.ENDPOINTS.LOGOUT,{refresh:t})}catch{console.warn("Logout request failed, but clearing local tokens")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}},getProfile:async()=>Be.get(pn.ENDPOINTS.PROFILE),getMe:async()=>Be.get(pn.ENDPOINTS.ME),updateProfile:async t=>Be.patch(pn.ENDPOINTS.PROFILE,t),refreshToken:async()=>{const t=localStorage.getItem("refresh_token");if(!t)throw new Error("No refresh token available");const e=await Be.post(pn.ENDPOINTS.REFRESH,{refresh:t});return localStorage.setItem("access_token",e.access),e},isAuthenticated:()=>!!localStorage.getItem("access_token"),getAccessToken:()=>localStorage.getItem("access_token"),getRefreshToken:()=>localStorage.getItem("refresh_token")},Wi=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!0),[i,s]=A.useState(null),a=ja.isAuthenticated();A.useEffect(()=>{(async()=>{if(!a){r(!1);return}try{r(!0);const y=await ja.getMe();e(y)}catch(y){console.error("Failed to load user profile:",y),s("Failed to load user profile"),await ja.logout(),e(null)}finally{r(!1)}})()},[a]);const c=A.useCallback(async b=>{try{r(!0),s(null);const y=await ja.login(b);e(y.user)}catch(y){const S=y?.response?.data?.detail||"Login failed";throw s(S),y}finally{r(!1)}},[]),d=A.useCallback(async b=>{try{r(!0),s(null),await ja.studentSignup(b)}catch(y){const S=y?.response?.data?.detail||"Signup failed";throw s(S),y}finally{r(!1)}},[]),f=A.useCallback(async()=>{try{await ja.logout(),e(null)}catch(b){console.error("Logout error:",b),e(null)}},[]),g=A.useCallback(async b=>{try{const y=await ja.updateProfile(b);e(y)}catch(y){const S=y?.response?.data?.detail||"Profile update failed";throw s(S),y}},[]),m=A.useCallback(()=>{s(null)},[]);return{user:t,isAuthenticated:a,isLoading:n,error:i,login:c,studentSignup:d,logout:f,updateProfile:g,clearError:m}},c7=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(""),[i,s]=A.useState(""),[a,c]=A.useState(!1),{login:d,error:f,clearError:g,isAuthenticated:m}=Wi(),b=yn();A.useEffect(()=>{m&&b("/")},[m,b]);const y=async S=>{if(S.preventDefault(),!(!n||!i))try{c(!0),g(),await d({email:n,password:i}),b("/")}catch(x){console.error("Login failed:",x)}finally{c(!1)}};return h.jsx(N,{minH:"100vh",bg:"gray.50",display:"flex",alignItems:"center",justifyContent:"center",p:4,fontFamily:"inherit",children:h.jsx(T$,{maxW:"md",children:h.jsxs(N,{bg:"white",p:8,borderRadius:"xl",boxShadow:"xl",border:"1px",borderColor:"gray.200",children:[h.jsxs(ee,{gap:6,mb:8,children:[h.jsx(St,{size:"xl",color:"gray.800",textAlign:"center",fontFamily:"inherit",children:"  "}),h.jsx(V,{color:"gray.600",textAlign:"center",fontSize:"sm",children:"      "})]}),f&&h.jsx(N,{bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",p:4,mb:4,children:h.jsx(V,{color:"red.600",fontWeight:"medium",children:f})}),h.jsx("form",{onSubmit:y,children:h.jsxs(ee,{gap:6,children:[h.jsxs(N,{w:"100%",children:[h.jsx(V,{color:"gray.600",fontSize:"sm",fontWeight:"medium",mb:2,children:""}),h.jsxs(N,{position:"relative",children:[h.jsx(Yt,{type:"email",placeholder:"example@email.com",value:n,onChange:S=>r(S.target.value),size:"md",borderColor:"gray.200",_focus:{borderColor:"#4A90E2",boxShadow:"0 0 0 1px #4A90E2"},_hover:{borderColor:"#4A90E2"},pr:12}),h.jsx(N,{position:"absolute",right:3,top:"50%",transform:"translateY(-50%)",pointerEvents:"none",children:h.jsx(LO,{color:"#4A90E2"})})]})]}),h.jsxs(N,{w:"100%",children:[h.jsx(V,{color:"gray.600",fontSize:"sm",fontWeight:"medium",mb:2,children:" "}),h.jsxs(N,{position:"relative",children:[h.jsx(Yt,{type:t?"text":"password",placeholder:"     ",value:i,onChange:S=>s(S.target.value),size:"md",borderColor:"gray.200",_focus:{borderColor:"#4A90E2",boxShadow:"0 0 0 1px #4A90E2"},_hover:{borderColor:"#4A90E2"},pr:12}),h.jsx(N,{position:"absolute",right:3,top:"50%",transform:"translateY(-50%)",children:h.jsx(uh,{"aria-label":t?"Hide password":"Show password",variant:"ghost",size:"sm",onClick:()=>e(!t),color:"gray.600",_hover:{color:"#4A90E2"},children:t?h.jsx(T8,{}):h.jsx(DO,{})})})]})]}),h.jsx(de,{justify:"flex-end",w:"full",children:h.jsx(P$,{color:"#4A90E2",fontSize:"sm",_hover:{textDecoration:"underline"},children:"  "})}),h.jsx(Se,{type:"submit",size:"lg",w:"full",bg:"#2E5BBA",color:"white",_hover:{bg:"#1E4A9A"},_active:{bg:"#1E4A9A"},fontFamily:"inherit",fontSize:"md",fontWeight:"medium",loading:a,loadingText:"  ...",disabled:!n||!i,children:""})]})}),h.jsx(N,{my:6,borderTop:"1px",borderColor:"gray.200"}),h.jsxs(ee,{gap:4,children:[h.jsx(V,{color:"gray.600",fontSize:"sm",textAlign:"center",children:"  "}),h.jsx(Xp,{to:"/signup",children:h.jsx(Se,{p:4,variant:"outline",size:"md",w:"full",borderColor:"#4A90E2",color:"#4A90E2",_hover:{bg:"#4A90E2",color:"white"},fontFamily:"inherit",children:""})})]})]})})})};function u7(){const{setTheme:t}=X$();return{colorMode:"light",setColorMode:()=>t("light"),toggleColorMode:()=>{t("light")}}}function K(t,e){const{colorMode:n}=u7();return n==="dark"?e:t}const d7=()=>{const t=yn(),{studentSignup:e,login:n,isLoading:r,error:i,clearError:s}=Wi(),[a,c]=A.useState({email:"",name:"",password:""}),d=K("white","gray.800"),f=K("gray.800","white"),g=K("gray.200","gray.600"),m=(y,S)=>{c(x=>({...x,[y]:S})),i&&s()},b=async y=>{y.preventDefault();try{await e(a),await n({email:a.email,password:a.password}),t("/")}catch(S){console.error("Signup error:",S)}};return h.jsx(N,{minH:"100vh",bg:K("gray.50","gray.900"),display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:d,p:8,borderRadius:"lg",boxShadow:"xl",w:"full",maxW:"400px",border:"1px solid",borderColor:g,children:h.jsxs(ee,{gap:6,align:"stretch",children:[h.jsxs(ee,{gap:2,children:[h.jsx(St,{size:"lg",color:f,textAlign:"center",children:""}),h.jsx(V,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"    "})]}),i&&h.jsxs(g$,{status:"error",borderRadius:"md",children:[h.jsx(b$,{}),h.jsx(p$,{children:i})]}),h.jsx("form",{onSubmit:b,children:h.jsxs(ee,{gap:4,align:"stretch",children:[h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:f,children:"  *"}),h.jsx(Yt,{paddingRight:2,type:"text",value:a.name,onChange:y=>m("name",y.target.value),placeholder:"     ",dir:"rtl",required:!0})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:f,children:" *"}),h.jsx(Yt,{paddingLeft:2,type:"email",value:a.email,onChange:y=>m("email",y.target.value),placeholder:"example@email.com",dir:"ltr",required:!0})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:f,children:"  *"}),h.jsx(Yt,{paddingRight:2,type:"password",value:a.password,onChange:y=>m("password",y.target.value),placeholder:"     ",minLength:8,required:!0})]}),h.jsx(Se,{type:"submit",colorScheme:"blue",size:"lg",loading:r,loadingText:"  ...",w:"full",children:""})]})}),h.jsxs(V,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["  "," ",h.jsx(Xp,{to:"/login",style:{color:"#3182ce",textDecoration:"underline"},children:" "})]})]})})})},hr={getCourses:async()=>(await Be.get(pn.ENDPOINTS.COURSES)).results,getCourse:async t=>Be.get(pn.ENDPOINTS.COURSE_DETAIL(t)),createCourse:async t=>Be.post(pn.ENDPOINTS.CREATE_COURSE,t),enrollCourse:async t=>Be.post(pn.ENDPOINTS.ENROLL_BY_CODE,t),updateCourseSettings:async(t,e)=>Be.patch(pn.ENDPOINTS.COURSE_SETTINGS(t),e),updateCourse:async(t,e)=>Be.patch(pn.ENDPOINTS.COURSE_DETAIL(t),e),getAssignments:async t=>Be.get(pn.ENDPOINTS.ASSIGNMENTS(t)),getRoster:async t=>(await Be.get(pn.ENDPOINTS.ROSTER(t))).results,removeStudent:async(t,e)=>Be.delete(`/api/courses/${t}/roster/${e}/remove/`),addUser:async(t,e)=>Be.post(`/api/courses/${t}/roster/add/`,{email:e}),deleteCourse:async t=>Be.delete(pn.ENDPOINTS.COURSE_DETAIL(t)),unenrollFromCourse:async t=>Be.delete(`/api/courses/${t}/unenroll/`)},Jo=t=>{const[e,n]=A.useState(null),[r,i]=A.useState(!1),[s,a]=A.useState(null),c=async()=>{if(!t){a("Course ID is required");return}const d=parseInt(t);if(isNaN(d)){a("Invalid course ID");return}i(!0),a(null);try{const f=await hr.getCourse(d);n(f)}catch(f){a(f instanceof Error?f.message:"Failed to fetch course")}finally{i(!1)}};return A.useEffect(()=>{c()},[t]),{course:e,isLoading:r,error:s,refetch:c}},vh={async getCourseAssignments(t){try{return await Be.get(`/api/assignments/course/${t}/`)}catch{return console.log("API call failed, using mock data for development"),{results:[{id:1,title:"  - ",instructions:"   ",due_at:"2024-12-31T23:59:59Z",total_points:100,is_published:!0,regrade_enabled:!0,created_at:"2024-01-01T00:00:00Z",course:t,template_pdf:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",total_submissions:15,grading_progress:80},{id:2,title:"  - ",instructions:"   ",due_at:"2024-12-25T23:59:59Z",total_points:150,is_published:!1,regrade_enabled:!1,created_at:"2024-01-02T00:00:00Z",course:t,total_submissions:8,grading_progress:25},{id:3,title:" ",instructions:"    ",due_at:"2025-01-15T23:59:59Z",total_points:200,is_published:!0,regrade_enabled:!0,created_at:"2024-01-03T00:00:00Z",course:t,total_submissions:22,grading_progress:100},{id:4,title:"  -  ",instructions:"     ",due_at:"2024-12-20T23:59:59Z",total_points:50,is_published:!0,regrade_enabled:!1,created_at:"2024-01-04T00:00:00Z",course:t,total_submissions:5,grading_progress:0}],count:4}}},async getCourseAssignmentCount(t){return(await Be.get(`/api/assignments/course/${t}/`)).count||0},async getAssignment(t){try{return await Be.get(`/api/assignments/${t}/`)}catch{if(t>1e12)return console.log("Assignment fetch API failed for mock assignment, using mock data for development"),{id:t,title:"  ",instructions:"    ",due_at:"2024-12-31T23:59:59Z",total_points:100,is_published:!1,regrade_enabled:!0,created_at:new Date().toISOString(),course:1,template_pdf:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"};throw console.error("Assignment not found:",t),new Error("Assignment not found")}},async createAssignment(t,e){try{const n=new FormData;return Object.entries(e).forEach(([i,s])=>{if(i==="templatePdf"&&s instanceof File)n.append("template_pdf",s);else if(s!=null){const a=i==="isPublished"?"is_published":i==="regradeEnabled"?"regrade_enabled":i==="dueAt"?"due_at":i==="uploadByStudent"?"upload_by_student":i==="anonymizedGrading"?"anonymized_grading":i==="totalPoints"?"total_points":i;i==="uploadByStudent"?n.append(a,(s==="student").toString()):n.append(a,s.toString())}}),await Be.post("/api/assignments/",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(n){if(console.error("Assignment creation failed:",n),n.response?.status===401)throw new Error("Authentication required. Please log in again.");if(n.response?.status===400){const r=n.response.data;if(typeof r=="object"){const i=Object.values(r).flat();throw new Error(`Validation error: ${i.join(", ")}`)}throw new Error("Invalid assignment data")}throw new Error("Failed to create assignment. Please try again.")}},async updateAssignment(t,e){return await Be.put(`/api/assignments/${t}/`,e)},async deleteAssignment(t){try{await Be.delete(`/api/assignments/${t}/`)}catch{console.log("Assignment deletion API failed, simulating success for development"),console.log("Deleted assignment ID:",t)}}},Gc=t=>{const[e,n]=A.useState(null),[r,i]=A.useState(!0),[s,a]=A.useState(null);return A.useEffect(()=>{if(!t){i(!1);return}(async()=>{try{i(!0),a(null);const d=await vh.getAssignment(parseInt(t));n(d)}catch(d){console.error("Error fetching assignment:",d),a("    ")}finally{i(!1)}})()},[t]),{assignment:e,isLoading:r,error:s}},im=t=>t==="student"?{type:"home",sections:[{items:[{icon:qd,label:" ",href:"/",path:"/"},{icon:Yo,label:" ",href:"/profile",path:"/profile"}]}]}:{type:"home",sections:[{items:[{icon:qd,label:" ",href:"/",path:"/"},{icon:Yo,label:" ",href:"/profile",path:"/profile"}]}]},h7={type:"course",sections:[{items:[{icon:Xv,label:"",href:"/courses",path:"/courses"},{icon:Ho,label:"",href:"/courses/assignments",path:"/courses/assignments"},{icon:Qp,label:" ",href:"/courses/roster",path:"/courses/roster"},{icon:Kp,label:"",href:"/courses/extensions",path:"/courses/extensions"},{icon:Yo,label:" ",href:"/courses/settings",path:"/courses/settings"}]}],courseActions:[{icon:up,label:"  ",href:"/courses/unenroll"}]},f7=(t,e,n,r)=>({type:"assignment",title:r||"Assignment",subtitle:n||"Course",sections:[{items:[{icon:Ax,label:`  ${n||""}`,href:`/courses/${t}`,path:`/courses/${t}`}]},{items:[{icon:MO,label:" ",href:`/courses/${t}/assignments/${e}/outline`,path:`/courses/${t}/assignments/${e}/outline`},{icon:Ss,label:" ",href:`/courses/${t}/assignments/${e}/submissions`,path:`/courses/${t}/assignments/${e}/submissions`},{icon:C8,label:"",href:`/courses/${t}/assignments/${e}/grade`,path:`/courses/${t}/assignments/${e}/grade`},{icon:qv,label:" ",href:`/courses/${t}/assignments/${e}/review-grades`,path:`/courses/${t}/assignments/${e}/review-grades`}]},{items:[{icon:Kp,label:" ",href:`/courses/${t}/assignments/${e}/regrade`,path:`/courses/${t}/assignments/${e}/regrade`},{icon:qv,label:"",href:`/courses/${t}/assignments/${e}/statistics`,path:`/courses/${t}/assignments/${e}/statistics`},{icon:Yo,label:"",href:`/courses/${t}/assignments/${e}/settings`,path:`/courses/${t}/assignments/${e}/settings`}]}]}),g7=(t,e,n,r,i)=>{const s=t.match(/^\/courses\/(\d+)\/assignments\/(\d+)\/(outline|submissions|grade|questions|review-grades)/);if(s){const[,a,c]=s;return f7(a,c,r,i)}return t.startsWith("/courses")?e?n==="student"?{type:"course",sections:[{items:[{icon:Xv,label:"",href:`/courses/${e}`,path:`/courses/${e}`},{icon:Ho,label:"",href:`/courses/${e}/assignments`,path:`/courses/${e}/assignments`}]}],courseActions:[{icon:up,label:"  ",href:`/courses/${e}/unenroll`}]}:{type:"course",sections:[{items:[{icon:Xv,label:"",href:`/courses/${e}`,path:`/courses/${e}`},{icon:Ho,label:"",href:`/courses/${e}/assignments`,path:`/courses/${e}/assignments`},{icon:Qp,label:" ",href:`/courses/${e}/roster`,path:`/courses/${e}/roster`},{icon:Kp,label:"",href:`/courses/${e}/extensions`,path:`/courses/${e}/extensions`},{icon:Yo,label:" ",href:`/courses/${e}/settings`,path:`/courses/${e}/settings`}]}],courseActions:[{icon:up,label:"  ",href:`/courses/${e}/unenroll`}]}:h7:im(n)},dj=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[i,s]=A.useState(null),a=A.useCallback(async()=>{try{r(!0),s(null);const x=await hr.getCourses();e(x)}catch(x){const C=x.response?.data?.detail||"Failed to load courses";s(C),console.error("Failed to load courses:",x)}finally{r(!1)}},[]);A.useEffect(()=>{a()},[a]);const c=A.useCallback(async x=>{try{s(null);const C=await hr.createCourse(x);return await a(),C}catch(C){const E=C.response?.data?.detail||"Failed to create course";throw s(E),C}},[a]),d=A.useCallback(async x=>{try{s(null);const C=await hr.enrollCourse(x);return await a(),C.course}catch(C){const E=C.response?.data?.detail||"Failed to enroll in course";throw s(E),C}},[a]),f=A.useCallback(async x=>{try{s(null),await hr.unenrollFromCourse(x),await a()}catch(C){const E=C.response?.data?.detail||"Failed to unenroll from course";throw s(E),C}},[a]),g=A.useCallback(async x=>{try{return s(null),await hr.getCourse(x)}catch(C){const E=C.response?.data?.detail||"Failed to get course";throw s(E),C}},[]),m=A.useCallback(async(x,C)=>{try{s(null);const E=await hr.updateCourseSettings(x,C);return e(k=>k.map(T=>T.id===x?E:T)),E}catch(E){const k=E.response?.data?.detail||"Failed to update course";throw s(k),E}},[]),b=A.useCallback(async x=>{try{s(null),await hr.deleteCourse(x),e(C=>C.filter(E=>E.id!==x))}catch(C){const E=C.response?.data?.detail||"Failed to delete course";throw s(E),C}},[]),y=A.useCallback(async()=>{await a()},[a]),S=A.useCallback(()=>{s(null)},[]);return{courses:t,isLoading:n,error:i,createCourse:c,enrollCourse:d,unenrollFromCourse:f,getCourse:g,updateCourse:m,deleteCourse:b,refreshCourses:y,clearError:S}},p7=({isOpen:t,onClose:e,courseId:n,courseTitle:r,courseCode:i,instructor:s})=>{const a=yn(),c=$p({placement:"top"}),[d,f]=A.useState(!1),{unenrollFromCourse:g}=dj(),m=K("white","gray.800"),b=K("gray.200","gray.600"),y=K("gray.800","white"),S=K("rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.6)");A.useEffect(()=>{const E=k=>{k.key==="Escape"&&t&&x()};if(t)return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[t]);const x=()=>{f(!1),e()},C=async()=>{try{f(!0),await g(n),c.create({title:" ",description:`    "${r}"  `,type:"success",duration:5e3}),x(),a("/")}catch(E){console.error("Failed to unenroll:",E),c.create({title:"  ",description:E?.response?.data?.detail||"    ",type:"error",duration:5e3})}finally{f(!1)}};return t?Ks.createPortal(h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:S,display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,style:{zIndex:9999},p:4,children:h.jsxs(N,{bg:m,borderRadius:"lg",boxShadow:"2xl",w:"full",maxW:"500px",border:"1px solid",borderColor:b,overflow:"hidden",position:"relative",zIndex:1e4,children:[h.jsx(N,{bg:"red.50",borderColor:b,p:4,textAlign:"center",children:h.jsxs(ee,{gap:3,children:[h.jsx(N,{bg:"red.100",color:"red.600",p:3,borderRadius:"full",w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",children:h.jsx(ye,{as:x8})}),h.jsx(St,{size:"lg",color:y,children:"  "}),h.jsx(V,{fontSize:"sm",color:"gray.600",children:"             ."})]})}),h.jsx(N,{p:6,children:h.jsxs(ee,{gap:6,align:"stretch",children:[h.jsx(N,{bg:K("gray.50","gray.700"),p:6,borderRadius:"xl",border:"1px solid",borderColor:K("gray.200","gray.600"),position:"relative",overflow:"hidden",children:h.jsxs(ee,{gap:4,align:"stretch",position:"relative",zIndex:1,children:[h.jsxs(de,{gap:3,align:"center",children:[h.jsx(ye,{as:qd,color:"blue.500",fontSize:"20px"}),h.jsx(V,{fontSize:"xl",fontWeight:"bold",color:y,children:r})]}),h.jsxs(de,{gap:4,wrap:"wrap",children:[h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:R8,color:"gray.500",fontSize:"16px"}),h.jsx(Za,{colorScheme:"blue",variant:"subtle",px:3,py:1,borderRadius:"full",children:i})]}),h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:Kv,color:"gray.500",fontSize:"16px"}),h.jsx(V,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:s})]})]})]})}),h.jsxs(de,{justify:"flex-end",gap:3,pt:2,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:x,color:y,disabled:d,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",loading:d,loadingText:"  ...",onClick:C,children:""})]})]})})]})}),document.body):null},yt=({config:t,courseTitle:e,courseSubtitle:n,courseCode:r,instructor:i,courseId:s})=>{const a=K("gray.100","gray.800"),c=K("gray.300","gray.700"),d=K("gray.600","gray.300"),f=K("blue.100","blue.900"),g=K("blue.700","blue.200"),m=K("white","gray.700"),b=K("gray.200","gray.600"),y=K("gray.50","gray.600"),S=K("gray.100","gray.500"),{course:x}=Jo(s),C=K("blue.300","blue.500"),E=K("gray.400","gray.300"),k=K("gray.800","gray.100"),T=K("gray.500","gray.400"),R=K("white","gray.700"),_=K("gray.200","gray.600"),O=K("blue.50","blue.900"),I=K("blue.700","blue.200"),M=yn(),L=$i(),$=L.pathname.match(/^\/courses\/(\d+)\/assignments\/(\d+)\/(outline|submissions|grade|questions|review-grades)/),U=$?$[2]:void 0,{assignment:D}=Gc(U),{user:B,isAuthenticated:H,logout:G}=Wi(),[P,W]=A.useState("100vh"),[Q,se]=A.useState(!1);A.useEffect(()=>{const Ae=()=>{const Re=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);W(`${Re}px`)};return Ae(),window.addEventListener("resize",Ae),window.addEventListener("scroll",Ae),()=>{window.removeEventListener("resize",Ae),window.removeEventListener("scroll",Ae)}},[]);const F=t||g7(L.pathname,s,B?.role,x?.title,D?.title),Z=Ae=>{if(L.pathname===Ae||Ae==="/"&&(L.pathname==="/"||L.pathname==="/courses")||Ae.endsWith("/assignments")&&L.pathname.startsWith(Ae))return!0;if(Ae.startsWith("/courses/")&&L.pathname.startsWith("/courses/")){const Re=Ae.split("/"),ge=L.pathname.split("/");if(Ae.endsWith("/grade")&&L.pathname.includes("/questions/"))return!0;if(Ae.endsWith("/submissions")&&L.pathname.includes("/questions/"))return!1;if(Re.length>=3&&ge.length>=3)return Re[Re.length-1]===ge[ge.length-1]}return!1},fe=()=>{M("/login")},ce=async()=>{try{await G(),M("/login")}catch(Ae){console.error("Logout failed:",Ae)}},_e=Ae=>{Ae.includes("/unenroll")?se(!0):M(Ae)};return h.jsxs(N,{bg:a,borderLeft:"1px solid",borderColor:c,p:4,position:"sticky",top:0,h:P,overflowY:"auto",children:[h.jsxs(ee,{gap:6,align:"stretch",children:[H&&B&&h.jsxs(hx,{children:[h.jsx(fx,{asChild:!0,children:h.jsx(N,{p:4,bg:m,borderRadius:"lg",border:"1px solid",borderColor:b,cursor:"pointer",_hover:{bg:y,transform:"translateX(-3px)",boxShadow:"md",borderColor:C},_active:{bg:S},transition:"all 0.3s ease",dir:"rtl",children:h.jsxs(de,{gap:3,justify:"space-between",dir:"rtl",children:[h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:xs,color:E}),h.jsx(N,{w:"36px",h:"36px",borderRadius:"full",bg:"blue.500",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"sm",fontWeight:"bold",boxShadow:"sm",children:(B.name||B.email||"U").charAt(0).toUpperCase()})]}),h.jsxs(ee,{align:"start",gap:0,flex:1,children:[h.jsx(V,{fontSize:"md",fontWeight:"bold",color:k,children:B.name||B.email}),h.jsx(V,{fontSize:"xs",color:T,children:B.email})]})]})})}),h.jsxs(gx,{dir:"rtl",bg:R,border:"1px solid",borderColor:_,borderRadius:"lg",boxShadow:"xl",minW:"200px",py:2,children:[h.jsx(Ja,{value:"dashboard",onClick:()=>M("/"),bg:"transparent",cursor:"pointer",_hover:{bg:O,color:I},_focus:{bg:O,color:I},py:3,px:4,fontSize:"sm",fontWeight:"medium",children:h.jsxs(de,{gap:3,justify:"space-between",w:"full",children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:Kv})]})}),h.jsx(Ja,{value:"profile",onClick:()=>M("/profile"),bg:"transparent",cursor:"pointer",_hover:{bg:O,color:I},_focus:{bg:O,color:I},py:3,px:4,fontSize:"sm",fontWeight:"medium",children:h.jsxs(de,{gap:3,justify:"space-between",w:"full",children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:Yo})]})})]})]}),F.type==="course"&&h.jsx(St,{size:"lg",color:d,fontWeight:"bold",children:e||F.title}),F.type==="assignment"&&h.jsx(St,{size:"lg",color:d,fontWeight:"bold",children:F.title}),F.sections.map((Ae,Re)=>h.jsxs(ee,{gap:2,align:"stretch",children:[Ae.title&&h.jsx(St,{size:"sm",color:d,children:Ae.title}),Ae.items.map((ge,ue)=>h.jsxs(Se,{variant:"ghost",justifyContent:"flex-start",color:ge.path&&Z(ge.path)?g:d,bg:ge.path&&Z(ge.path)?f:"transparent",_hover:{bg:ge.path&&Z(ge.path)?f:"#4A90E2",color:ge.path&&Z(ge.path)?g:"white",transform:"translateX(-4px)"},fontSize:"sm",h:"30px",transition:"all 0.3s",onClick:()=>_e(ge.href),children:[h.jsx(ye,{as:ge.icon,mr:2}),ge.label]},ue)),Re===0&&h.jsx(N,{h:"1px",bg:c,mx:2,my:2}),F.type==="assignment"&&Re===1&&h.jsx(N,{h:"1px",bg:c,mx:2,my:2})]},Re)),F.type==="course"&&i&&h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(St,{size:"md",color:d,children:" "}),h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:Kv,color:d}),h.jsx(V,{fontSize:"sm",color:d,children:i})]})]}),F.type==="course"&&F.courseActions&&h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(St,{size:"md",color:d,children:" "}),F.courseActions.map((Ae,Re)=>h.jsxs(Se,{variant:"ghost",justifyContent:"flex-start",color:"red.500",_hover:{bg:"red.100",color:"red.700",transform:"translateX(-4px)"},fontSize:"sm",h:"40px",transition:"all 0.3s",onClick:()=>_e(Ae.href),children:[h.jsx(ye,{as:Ae.icon,mr:2}),Ae.label]},Re))]}),F.type==="home"&&(H?h.jsxs(Se,{variant:"outline",justifyContent:"flex-start",color:"#e53e3e",borderColor:"#e53e3e",_hover:{bg:"#e53e3e",color:"white",transform:"translateX(-4px)"},fontSize:"sm",h:"40px",transition:"all 0.3s",onClick:ce,children:[h.jsx(ye,{as:up,mr:2}),""]}):h.jsxs(Se,{variant:"outline",justifyContent:"flex-start",color:"#4A90E2",borderColor:"#4A90E2",_hover:{bg:"#4A90E2",color:"white",transform:"translateX(-4px)"},fontSize:"sm",h:"40px",transition:"all 0.3s",onClick:fe,children:[h.jsx(ye,{as:O8,mr:2}),""]}))]}),Q&&s&&e&&i&&h.jsx(p7,{isOpen:Q,onClose:()=>se(!1),courseId:parseInt(s),courseTitle:e,courseCode:r||"",instructor:i})]})},hj=t=>{const[e,n]=A.useState([]),[r,i]=A.useState(!1),[s,a]=A.useState(null),c=async()=>{if(t){i(!0),a(null);try{const d=await hr.getRoster(parseInt(t));n(Array.isArray(d)?d:[])}catch(d){a(d instanceof Error?d.message:"    ")}finally{i(!1)}}};return A.useEffect(()=>{c()},[t]),{roster:e,isLoading:r,error:s,refetch:c}};function xi(t){return{fall:"",winter:"",spring:"",summer:""}[t]||t}function m7(t){const e={};return t.forEach(n=>{const r=n.term||"",i=xi(r),s=n.year||1400,a=`${i} ${s}`;e[a]||(e[a]=[]),e[a].push(n)}),e}function b7(t){return Object.keys(t).sort((e,n)=>{const r=a=>{const c=a.split(" "),d=c[0]||"",f=parseInt(c[1])||0,m={:4,:3,:2,:1,:0}[d]||0;return f*10+m},i=r(e);return r(n)-i})}function v7(t,e){return t.filter(n=>(n.year||0)>=e)}const y7=()=>{const{courseId:t}=pr(),{course:e,isLoading:n,error:r}=Jo(t),{roster:i,isLoading:s,error:a,refetch:c}=hj(t),[d,f]=A.useState("name"),[g,m]=A.useState("asc"),[b,y]=A.useState("all"),[S,x]=A.useState(""),[C,E]=A.useState(!1),[k,T]=A.useState(null),[R,_]=A.useState(!1),[O,I]=A.useState(!1),[M,L]=A.useState(""),[$,U]=A.useState(!1),[D,B]=A.useState(""),H=K("white","gray.900"),G=K("gray.800","white"),P=K("gray.600","gray.300"),W=K("gray.200","gray.700"),Q=K("gray.50","gray.800"),se=K("gray.50","gray.700"),F=te=>{const{user:Ce}=te;return Ce.first_name&&Ce.last_name?`${Ce.first_name} ${Ce.last_name}`:Ce.name||Ce.email},Z=te=>{switch(te){case"instructor":return"";case"ta":return" ";case"student":return"";default:return te}},fe=te=>{switch(te){case"instructor":return"blue";case"ta":return"green";case"student":return"gray";default:return"gray"}},ce=(Array.isArray(i)?i:[]).filter(te=>{const Ce=b==="all"||te.role===b,ve=S===""||F(te).toLowerCase().includes(S.toLowerCase())||te.user.email.toLowerCase().includes(S.toLowerCase());return Ce&&ve}).sort((te,Ce)=>{const ve={instructor:0,ta:1,student:2},je=ve[te.role]??3,Je=ve[Ce.role]??3;if(je!==Je)return je-Je;let tt,nt;switch(d){case"name":tt=F(te),nt=F(Ce);break;case"email":tt=te.user.email,nt=Ce.user.email;break;case"role":tt=te.role,nt=Ce.role;break;case"submissions":tt=te.submission_count||0,nt=Ce.submission_count||0;break;default:tt=F(te),nt=F(Ce)}if(typeof tt=="string"&&typeof nt=="string"){const un=tt.localeCompare(nt,"fa");return g==="asc"?un:-un}else{const un=tt-nt;return g==="asc"?un:-un}}),_e=te=>{d===te?m(g==="asc"?"desc":"asc"):(f(te),m("asc"))},Ae=te=>d!==te?h.jsx(ye,{as:Mg}):g==="asc"?h.jsx(ye,{as:qo}):h.jsx(ye,{as:xs}),Re=te=>{const Ce=F(te);T({id:te.id,name:Ce,email:te.user.email}),E(!0)},ge=async()=>{if(!(!k||!t)){_(!0);try{await hr.removeStudent(parseInt(t),k.id),c(),E(!1),T(null)}catch(te){console.error("Error removing student:",te)}finally{_(!1)}}},ue=()=>{console.log("Send enrollment notification")},pe=()=>{I(!0),L(""),B("")},Ee=async()=>{if(!(!M.trim()||!t)){U(!0),B("");try{await hr.addUser(parseInt(t),M.trim()),c(),I(!1),L(""),B("")}catch(te){console.error("Error adding student:",te);const Ce=te?.response?.data?.detail||"      ";B(Ce)}finally{U(!1)}}};return n||s?h.jsx(N,{bg:H,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:G,children:"  ..."})]})}):r||!e?h.jsx(N,{bg:H,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:P,children:r||"  "})]})}):h.jsxs(h.Fragment,{children:[h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:e.title,courseSubtitle:`${xi(e.term)} ${e.year}`,courseCode:e.courseCode,instructor:e.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:H,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(N,{children:[h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:G,fontWeight:"bold",children:e.title}),h.jsx(N,{height:"20px",width:"1px",bg:P}),h.jsxs(V,{color:P,fontSize:"lg",children:[xi(e.term)," ",e.year]})]}),h.jsxs(V,{color:P,fontSize:"sm",children:[" : ",e.courseCode]})]}),h.jsxs(k$,{justify:"space-between",align:"center",children:[h.jsx(St,{size:"lg",color:G,children:" "}),h.jsxs(de,{gap:4,children:[h.jsxs(N,{as:"select",defaultValue:b,onChange:te=>y(te.target.value),p:2,borderWidth:"1px",borderRadius:"md",bg:H,color:G,borderColor:W,fontSize:"sm",children:[h.jsx("option",{value:"all",children:" "}),h.jsx("option",{value:"instructor",children:""}),h.jsx("option",{value:"ta",children:" "}),h.jsx("option",{value:"student",children:""})]}),h.jsxs(N,{position:"relative",maxW:"300px",children:[h.jsx(ye,{as:FO,color:"gray.400",position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",zIndex:1,pointerEvents:"none"}),h.jsx(Yt,{paddingRight:2,placeholder:"   ...",value:S,onChange:te=>x(te.target.value),bg:H,borderColor:W,_hover:{borderColor:"#4A90E2"},_focus:{borderColor:"#2E5BBA",boxShadow:"0 0 0 1px #2E5BBA"},fontSize:"sm",pl:"40px"})]})]})]}),a?h.jsxs(N,{borderWidth:"1px",borderColor:W,borderRadius:"md",py:16,textAlign:"center",color:"red.500",children:[h.jsx(V,{fontSize:"lg",mb:4,children:"    "}),h.jsx(V,{color:P,mb:4,children:a}),h.jsx(Se,{onClick:c,colorScheme:"blue",children:" "})]}):ce.length===0?h.jsxs(N,{borderWidth:"1px",borderColor:W,borderRadius:"md",py:16,textAlign:"center",color:P,children:[h.jsx(V,{fontSize:"lg",mb:4,children:"     ."}),h.jsxs(Se,{paddingLeft:2,colorScheme:"blue",children:[h.jsx(ye,{as:j8,mr:2})," "]})]}):h.jsx(N,{borderWidth:"1px",borderColor:W,borderRadius:"md",overflow:"hidden",maxH:"calc(100vh - 300px)",overflowY:"auto",children:h.jsxs(tO,{children:[h.jsx(nO,{bg:Q,position:"sticky",top:0,zIndex:10,children:h.jsxs(Od,{children:[h.jsx(ki,{cursor:"pointer",onClick:()=>_e("name"),_hover:{bg:se},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:"   "}),Ae("name")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>_e("email"),_hover:{bg:se},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:""}),Ae("email")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>_e("role"),_hover:{bg:se},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:""}),Ae("role")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>_e("submissions"),_hover:{bg:se},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:" "}),Ae("submissions")]})}),h.jsx(ki,{py:4,px:6,children:h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:""})})]})}),h.jsx(rO,{children:ce.map(te=>h.jsxs(Od,{_hover:te.role==="instructor"?{}:{bg:se},opacity:te.role==="instructor"?.6:1,cursor:te.role==="instructor"?"default":"pointer",children:[h.jsx(mi,{py:4,px:4,children:h.jsx(V,{fontWeight:"medium",fontSize:"sm",color:te.role==="instructor"?P:G,children:F(te)})}),h.jsx(mi,{py:4,px:6,children:h.jsx(V,{color:(te.role==="instructor",P),fontSize:"sm",children:te.user.email})}),h.jsx(mi,{py:4,px:6,children:h.jsx(Za,{colorScheme:fe(te.role),size:"sm",padding:2,borderRadius:"lg",opacity:te.role==="instructor"?.7:1,children:Z(te.role)})}),h.jsx(mi,{py:4,px:6,children:h.jsx(V,{fontSize:"sm",color:te.role==="instructor"?P:G,children:te.submission_count||0})}),h.jsx(mi,{py:4,px:6,children:te.role==="instructor"?h.jsx(ye,{marginRight:3,as:il}):h.jsxs(V$,{children:[h.jsx(H$,{asChild:!0,children:h.jsx(uh,{"aria-label":" ",size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Re(te),children:h.jsx(ye,{as:il})})}),h.jsxs($$,{children:[h.jsx(W$,{}),"  "]})]})})]},te.id))})]})})]})})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"space-between",mx:"auto",px:{base:4,md:6},children:[h.jsxs(de,{gap:4,children:[h.jsxs(V,{fontSize:{base:"sm",md:"md"},color:G,children:[ce.filter(te=>te.role==="student").length," "]}),h.jsxs(V,{fontSize:{base:"sm",md:"md"},color:G,children:[ce.filter(te=>te.role==="instructor").length," "]})]}),h.jsxs(de,{gap:2,children:[h.jsxs(Se,{bg:H,variant:"outline",colorScheme:"blue",size:{base:"sm",md:"md"},paddingLeft:2,borderColor:"#4A90E2",color:"#4A90E2",_hover:{bg:"#4A90E2",color:"white"},fontSize:{base:"xs",md:"sm"},onClick:()=>ue(),children:[h.jsx(ye,{as:LO,mr:2}),"  "]}),h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:()=>pe(),children:[h.jsx(ye,{as:Qp,mr:2})," "]})]})]})}),C&&k&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:H,borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:G,textAlign:"center",children:"   "}),h.jsxs(V,{fontSize:"sm",color:"red.500",textAlign:"center",children:['     "',k.name,'"     ']}),h.jsxs(V,{fontSize:"xs",color:P,textAlign:"center",children:[": ",k.email]}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>{E(!1),T(null)},disabled:R,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",onClick:ge,loading:R,loadingText:"  ...",children:""})]})]})})}),O&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:H,borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:G,textAlign:"center",children:"   "}),h.jsx(V,{fontSize:"sm",color:P,textAlign:"center",children:"          "}),h.jsx(Yt,{placeholder:" ",value:M,onChange:te=>{L(te.target.value),D&&B("")},bg:H,borderColor:D?"red.500":W,_hover:{borderColor:D?"red.500":"#4A90E2"},_focus:{borderColor:D?"red.500":"#2E5BBA",boxShadow:D?"0 0 0 1px red.500":"0 0 0 1px #2E5BBA"},fontSize:"sm",type:"email"}),D&&h.jsx(V,{fontSize:"xs",color:"red.500",textAlign:"center",children:D}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>{I(!1),L(""),B("")},disabled:$,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"blue",onClick:Ee,loading:$,loadingText:"   ...",disabled:!M.trim(),children:""})]})]})})})]})},x7=()=>{const{courseId:t}=pr(),{course:e,isLoading:n,error:r}=Jo(t),i=K("white","gray.900"),s=K("gray.800","white"),a=K("gray.600","gray.300"),c=K("gray.200","gray.700");return n?h.jsx(N,{bg:i,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:s,children:"   ..."})]})}):r||!e?h.jsx(N,{bg:i,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:a,children:r||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:e.title,courseSubtitle:`${xi(e.term)} ${e.year}`,courseCode:e.courseCode,instructor:e.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:i,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(N,{children:[h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:s,fontWeight:"bold",children:e.title}),h.jsx(N,{height:"20px",width:"1px",bg:a}),h.jsxs(V,{color:a,fontSize:"lg",children:[xi(e.term)," ",e.year]})]}),h.jsxs(V,{color:a,fontSize:"sm",children:[" : ",e.courseCode]})]}),h.jsx(St,{size:"lg",color:s,children:""}),h.jsxs(N,{borderWidth:"1px",borderColor:c,borderRadius:"md",py:16,textAlign:"center",color:a,children:[h.jsx(ye,{as:Kp,boxSize:6,mb:4}),h.jsx(V,{fontSize:"lg",mb:4,children:"    "}),h.jsx(V,{fontSize:"sm",children:"       "})]})]})})})]})},S7=()=>{const{courseId:t}=pr(),e=yn(),{course:n,isLoading:r,error:i,refetch:s}=Jo(t),a=$p({placement:"top"}),c=K("white","gray.900"),d=K("gray.800","white"),f=K("gray.600","gray.300"),g=K("gray.200","gray.700"),[m,b]=A.useState({title:"",code:"",description:"",term:"spring",year:1403}),[y,S]=A.useState(!1),[x,C]=A.useState(!1),[E,k]=A.useState(!1),[T,R]=A.useState(!1),[_,O]=A.useState(!1);A.useEffect(()=>{n&&(console.log("Course data loaded:",n),b({title:n.title||"",code:n.courseCode||n.code||"",description:n.description||"",term:n.term||"spring",year:n.year||1403}))},[n]),A.useEffect(()=>{(async()=>{if(t)try{console.log("Checking assignments for course ID:",t);const B=await hr.getAssignments(parseInt(t));console.log("Full API response:",B);const H=B?.results||[];console.log("Extracted assignments:",H),console.log("Assignments count:",H.length),k(Array.isArray(H)&&H.length>0)}catch(B){console.error("Error checking assignments:",B),console.error("Error details:",B),k(!1)}})()},[t]);const I=(D,B)=>{b(H=>({...H,[D]:B}))},M=()=>{e(`/courses/${t}`)},L=()=>{const D=[];return m.title.trim()||D.push("   "),m.code.trim()||D.push("   "),(m.year<1400||m.year>1410)&&D.push("   1400  1410 "),D},$=async()=>{if(!t)return;const D=L();if(D.length>0){a.create({title:"  ",description:D.join(" "),type:"error",duration:5e3});return}S(!0);try{const B=await hr.updateCourse(parseInt(t),m);console.log("Course updated successfully:",B),a.create({title:"  ",description:"     ",type:"success",duration:3e3}),s()}catch(B){console.error("Error updating course:",B);let H="     ";B?.response?.data?.detail?H=B.response.data.detail:B?.response?.data?.message?H=B.response.data.message:B?.message&&(H=B.message),a.create({title:"  ",description:H,type:"error",duration:5e3})}finally{S(!1)}},U=async()=>{if(!(!t||E)){C(!0),O(!1);try{await hr.deleteCourse(parseInt(t)),a.create({title:"  ",description:"    ",type:"success",duration:3e3}),setTimeout(()=>{window.location.href="/"},1e3)}catch(D){a.create({title:"  ",description:D?.response?.data?.detail||"     ",type:"error",duration:3e3})}finally{C(!1)}}};return r?h.jsx(N,{bg:c,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:d,children:"   ..."})]})}):i||!n?h.jsx(N,{bg:c,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:f,children:i||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:n.title,courseSubtitle:`${xi(n.term)} ${n.year}`,courseCode:n.courseCode,instructor:n.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:c,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsx(St,{size:"xl",color:d,children:" "}),h.jsx(N,{width:"50%",borderWidth:"1px",borderColor:g,borderRadius:"lg",p:8,bg:K("gray.50","gray.800"),boxShadow:"sm",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsxs(N,{children:[h.jsxs(N,{as:"label",fontWeight:"medium",color:d,display:"block",mb:2,children:["  ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsx(Yt,{paddingRight:2,value:m.title,onChange:D=>I("title",D.target.value),color:d,placeholder:"    ",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(N,{children:[h.jsxs(N,{as:"label",fontWeight:"medium",color:d,display:"block",mb:2,children:["  ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsx(Yt,{paddingRight:2,value:m.code,onChange:D=>I("code",D.target.value),color:d,placeholder:"    ",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(de,{gap:4,children:[h.jsxs(N,{flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:d,display:"block",mb:2,children:""}),h.jsxs("select",{value:m.term,onChange:D=>I("term",D.target.value),style:{fontSize:"md",color:d,backgroundColor:K("white","gray.800"),border:"1px solid",borderColor:K("gray.300","gray.600"),borderRadius:"6px",padding:"8px",width:"100%"},children:[h.jsx("option",{value:"fall",children:""}),h.jsx("option",{value:"winter",children:""}),h.jsx("option",{value:"spring",children:""}),h.jsx("option",{value:"summer",children:""})]})]}),h.jsxs(N,{flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:d,display:"block",mb:2,children:""}),h.jsx(Yt,{paddingRight:2,type:"number",value:m.year,onChange:D=>I("year",parseInt(D.target.value)),color:d,min:1400,max:1410,_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]})]}),h.jsxs(N,{children:[h.jsx(N,{as:"label",fontWeight:"medium",color:d,display:"block",mb:2,children:" "}),h.jsx(iO,{padding:2,value:m.description,onChange:D=>I("description",D.target.value),placeholder:"      ...",color:d,rows:4,_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(de,{justify:"space-between",gap:3,children:[h.jsxs(N,{position:"relative",onMouseEnter:()=>E&&R(!0),onMouseLeave:()=>R(!1),children:[h.jsxs(Se,{paddingLeft:2,colorScheme:"red",variant:"outline",onClick:E?void 0:()=>O(!0),loading:x,loadingText:"  ...",disabled:E,_disabled:{opacity:.6,cursor:"not-allowed",bg:"gray.100",borderColor:"gray.300",color:"gray.500"},_hover:E?{}:{bg:"red.50",borderColor:"red.400",color:"red.600"},_active:E?{}:{bg:"red.100",borderColor:"red.500"},borderColor:E?"gray.300":"red.300",color:E?"gray.500":"red.600",bg:E?"gray.100":"transparent",children:[h.jsx(ye,{as:il,mr:2})," "]}),E&&T&&h.jsx(N,{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",mb:2,bg:"white",border:"1px solid",borderColor:"red.300",borderRadius:"md",p:3,boxShadow:"lg",zIndex:10,minW:"200px",_after:{content:'""',position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",border:"5px solid transparent",borderTopColor:"white"},_before:{content:'""',position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",border:"6px solid transparent",borderTopColor:"gray.200"},children:h.jsx(V,{fontSize:"xs",color:"gray.600",textAlign:"center",children:"        .     ."})})]}),h.jsxs(de,{gap:3,children:[h.jsx(Se,{p:2,variant:"outline",onClick:M,children:""}),h.jsxs(Se,{paddingLeft:2,colorScheme:"teal",onClick:$,loading:y,loadingText:"  ...",children:[h.jsx(ye,{as:Tx,mr:2})," "]})]})]})]})})]})})}),_&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:K("white","gray.800"),borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:d,textAlign:"center",children:" "}),h.jsxs(V,{fontSize:"sm",color:"red.500",textAlign:"center",children:['      "',n?.title,'"   ']}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>O(!1),disabled:x,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",onClick:U,loading:x,loadingText:"  ...",children:""})]})]})})})]})};var Fg=typeof document<"u"?A.useLayoutEffect:A.useEffect;function fp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!fp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!fp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function D_(t){const e=A.useRef(t);return Fg(()=>{e.current=t}),e}function w7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:a}=t,[c,d]=A.useState({x:null,y:null,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=A.useState(r);fp(f,r)||g(r);const m=A.useRef(null),b=A.useRef(null),y=A.useRef(c),S=D_(s),x=D_(i),[C,E]=A.useState(null),[k,T]=A.useState(null),R=A.useCallback($=>{m.current!==$&&(m.current=$,E($))},[]),_=A.useCallback($=>{b.current!==$&&(b.current=$,T($))},[]),O=A.useCallback(()=>{if(!m.current||!b.current)return;const $={placement:e,strategy:n,middleware:f};x.current&&($.platform=x.current),$R(m.current,b.current,$).then(U=>{const D={...U,isPositioned:!0};I.current&&!fp(y.current,D)&&(y.current=D,Ks.flushSync(()=>{d(D)}))})},[f,e,n,x]);Fg(()=>{a===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[a]);const I=A.useRef(!1);Fg(()=>(I.current=!0,()=>{I.current=!1}),[]),Fg(()=>{if(C&&k){if(S.current)return S.current(C,k,O);O()}},[C,k,O,S]);const M=A.useMemo(()=>({reference:m,floating:b,setReference:R,setFloating:_}),[R,_]),L=A.useMemo(()=>({reference:C,floating:k}),[C,k]);return A.useMemo(()=>({...c,update:O,refs:M,elements:L,reference:R,floating:_}),[c,O,M,L,R,_])}var C7=typeof document<"u"?A.useLayoutEffect:A.useEffect;const fj="floating-ui-root",E7=function(t){let{id:e=fj,enabled:n=!0}=t===void 0?{}:t;const[r,i]=A.useState(null);return C7(()=>{if(!n)return;const s=document.getElementById(e);if(s)i(s);else{const a=document.createElement("div");a.id=e,i(a),document.body.contains(a)||document.body.appendChild(a)}},[e,n]),r},A7=t=>{let{children:e,id:n=fj,root:r=null}=t;const i=E7({id:n,enabled:!r});return r?Ks.createPortal(e,r):i?Ks.createPortal(e,i):null},L_=["mousedown","touchstart"];function _7(t,e,n){const r=A.useRef();return A.useEffect(()=>{const i=s=>{const{target:a}=s??{};if(Array.isArray(n)){const c=a?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(a)&&a.tagName!=="HTML";n.every(f=>!!f&&!s.composedPath().includes(f))&&!c&&t()}else r.current&&!r.current.contains(a)&&t()};return L_.forEach(s=>document.addEventListener(s,i)),()=>{L_.forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}function T7(t,e,n={leading:!1}){const[r,i]=A.useState(t),s=A.useRef(!1),a=A.useRef(null),c=A.useRef(!1),d=()=>window.clearTimeout(a.current);return A.useEffect(()=>{s.current&&(!c.current&&n.leading?(c.current=!0,i(t)):(d(),a.current=window.setTimeout(()=>{c.current=!1,i(t)},e)))},[t,n.leading,e]),A.useEffect(()=>(s.current=!0,d),[]),[r,d]}var av={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var z_;function R7(){return z_||(z_=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var c in s)e.call(s,c)&&s[c]&&(a=i(a,c));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(av)),av.exports}var k7=R7();const Ni=th(k7);var sd={},Fn={},Pa={},Na={},F_;function sm(){if(F_)return Na;F_=1;var t=Na&&Na.__assign||function(){return t=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},t.apply(this,arguments)};Object.defineProperty(Na,"__esModule",{value:!0}),Na.getDefaultOptions=void 0;var e=function(n,r){return t(t({},r),n)};return Na.getDefaultOptions=e,Na}var Po={},od={},tc={},ad={},B_;function O7(){if(B_)return ad;B_=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.separateDigitsBySeparator=void 0;var t=Nx(),e=sm(),n=function(r,i){var s=(0,e.getDefaultOptions)(i,t.separatorHandlerDefaultOptions);if(typeof r=="number"){var a=r.toLocaleString(),c=s.separator||"";return a.replace(/|,/g,c)}var d=/[\d|\u06F0-\u06F90-9]+/g,f=r;return r.match(d)?(f=f.replace(d,function(g){return g.replace(/(.)(?=(.{3})+(?!.))/g,"$1".concat(s.separator))}),f):r};return ad.separateDigitsBySeparator=n,ad}var V_;function Nx(){if(V_)return tc;V_=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.separatorHandlerDefaultOptions=void 0;var t=O7();return tc.separatorHandlerDefaultOptions={separator:","},tc.default=t.separateDigitsBySeparator,tc}var H_;function j7(){return H_||(H_=1,function(t){var e=od&&od.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.convertDigits=void 0;var n=om(),r=sm(),i=e(Nx()),s=["","","","","","","","","",""],a=function(g,m){var b;switch(m){default:case"fa":b=/\d/g;break;case"en":b=/[\u06F0-\u06F90-9]/g;break}return g.replace(b,function(y){return m==="fa"?s[y]:s.indexOf(y.toString())>=0?s.indexOf(y.toString()):y})},c=function(g,m){var b=g.toLocaleString(m.to),y=m.separator||"";return b.replace(/|,/g,y)},d=function(g,m){if(g===null)return g;var b=g;return Array.isArray(g)?g.forEach(function(y,S){b[S]=(0,t.convertDigits)(y,m)}):Object.keys(g).forEach(function(y){var S=g[y];b[y]=(0,t.convertDigits)(S,m)}),b},f=function(g,m){var b=(0,r.getDefaultOptions)(m,n.convertDigitsDefaultOptions);switch(m?.separator===!0&&(b.separator=n.defaultSeparator),typeof g){case"string":var y=a(g,b.to);return b.separator?(0,i.default)(y,{separator:b.separator}):y;case"number":return c(g,b);case"object":return d(g,b);case"undefined":default:return g}};t.convertDigits=f}(od)),od}var $_;function om(){if($_)return Po;$_=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.defaultSeparator=Po.convertDigitsDefaultOptions=void 0;var t=j7();return Po.convertDigitsDefaultOptions={to:"fa",separator:void 0},Po.defaultSeparator="",Po.default=t.convertDigits,Po}var U_;function P7(){if(U_)return Pa;U_=1;var t=Pa&&Pa.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.convertDigitsToWords=void 0;var e=gj(),n=sm(),r=t(om()),i=function(g,m){if(m)throw new Error('Cannot convert "'.concat(g,'" to words.'))},s=function(g,m){switch(!0){case g<10:return e.ones[g-1];case g<20:return e.tensBelowTwenty[g-10];case g<100:return e.tens[Math.floor(g/10)-2]+c(g%10,m+1);case g<1e3:return e.hundreds[Math.floor(g/100)-1]+c(g%100,m+1);default:return a(g,m)}},a=function(g,m){var b={1e6:"",1e9:"",1e12:"",1e15:""},y=Object.keys(b).find(function(x){return g<Number(x)});if(!y)return"";var S=y/1e3;return c(Math.floor(g/S),m)+" ".concat(b[y])+c(g%S,m+1)},c=function(g,m){m===void 0&&(m=0);var b=(0,r.default)(g,{to:"en"})-0;if(isNaN(b))return"";var y=null,S,x,C=b.toString();if(C.includes(".")){var E=C.indexOf("."),k=C.substring(E+1,E+e.decimals.length+1);y=Number(C.substring(0,E)),Number(k)!==0&&(S=c(k),x=e.decimals[k.length-1])}var T=[];if(b===0)return m===0?"":"";if(b<0)return" "+c(Math.abs(b),m);m>0&&(T.push(""),T.push(""),m-=1);var R;return b<1e3?R=s(y||b,m):R=a(y||b,m),R?.length&&T.push(R),S&&(y===0&&T.push(""),T.push(""),T.push(S),T.push(x)),T.join(" ")},d=function(g,m){var b=e.ones.indexOf(g);if(b===0&&m>1)return"";var y=e.ordinalOnes[b];return y||(g===""?" ":g+"")},f=function(g,m){var b=(0,n.getDefaultOptions)(m,e.convertDigitsToWordsDefaultOptions);if(typeof g!="number"&&typeof g!="string")return i(g,b.throwErrorIfInvalid);var y=c(g);if(y.length<1)return i(g,b.throwErrorIfInvalid);if(b.ordinal!==!0||g<=0||g.toString().includes("."))return y;var S=y.split(" "),x=S.length-1;return S[x]=d(S[x],S.length),S.join(" ")};return Pa.convertDigitsToWords=f,Pa}var W_;function gj(){if(W_)return Fn;W_=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.decimals=Fn.tensBelowTwenty=Fn.hundreds=Fn.tens=Fn.ordinalOnes=Fn.ones=Fn.convertDigitsToWordsDefaultOptions=void 0;var t=P7();return Fn.convertDigitsToWordsDefaultOptions={ordinal:!1,throwErrorIfInvalid:!1},Fn.ones=["","","","","","","","",""],Fn.ordinalOnes=["","","","","","","","",""],Fn.tens=["","","","","","","",""],Fn.hundreds=["","","","","","","","",""],Fn.tensBelowTwenty=["","","","","","","","","",""],Fn.decimals=["","",""," "," ",""],Fn.default=t.convertDigitsToWords,Fn}var No={},Ia={},G_;function N7(){if(G_)return Ia;G_=1;var t=Ia&&Ia.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.generateSlug=void 0;var e=pj(),n=sm(),r=t(om()),i=function(s,a){var c=(0,n.getDefaultOptions)(a,e.slugGeneratorDefaultOptions),d=c?.to||"en",f;switch(c?.to){case"fa":f="en";break;default:case"en":f="fa";break}var g=(0,r.default)(s,{to:"en"});c?.includeUpperCase!==!0&&(g=g.toLowerCase());var m=g.split("").filter(function(b){return b.match(/[a-zA-Z0-9_\s]|[-]/g)});return m.forEach(function(b,y){if(b.length){var S=e.letters.find(function(x){return x[f]===b});S&&(m[y]=S[d])}}),m.join("").trim().replace(/\s/g,c?.separator||"-")};return Ia.generateSlug=i,Ia}var q_;function pj(){if(q_)return No;q_=1,Object.defineProperty(No,"__esModule",{value:!0}),No.letters=No.slugGeneratorDefaultOptions=void 0;var t=N7();return No.slugGeneratorDefaultOptions={includeUpperCase:!1,separator:"-",to:"en"},No.letters=[{en:"a",fa:""},{en:"a",fa:""},{en:"b",fa:""},{en:"p",fa:""},{en:"t",fa:""},{en:"s",fa:""},{en:"j",fa:""},{en:"ch",fa:""},{en:"h",fa:""},{en:"kh",fa:""},{en:"d",fa:""},{en:"z",fa:""},{en:"r",fa:""},{en:"z",fa:""},{en:"zh",fa:""},{en:"s",fa:""},{en:"c",fa:""},{en:"sh",fa:""},{en:"s",fa:""},{en:"z",fa:""},{en:"t",fa:""},{en:"z",fa:""},{en:"a",fa:""},{en:"gh",fa:""},{en:"f",fa:""},{en:"gh",fa:""},{en:"k",fa:""},{en:"g",fa:""},{en:"l",fa:""},{en:"m",fa:""},{en:"n",fa:""},{en:"o",fa:""},{en:"h",fa:""},{en:"y",fa:""},{en:"i",fa:""},{en:"e",fa:""}],No.default=t.generateSlug,No}var Y_;function I7(){return Y_||(Y_=1,function(t){var e=sd&&sd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateSlug=t.separateDigitsBySeparator=t.convertDigits=t.convertDigitsToWords=void 0;var n=gj();Object.defineProperty(t,"convertDigitsToWords",{enumerable:!0,get:function(){return e(n).default}});var r=om();Object.defineProperty(t,"convertDigits",{enumerable:!0,get:function(){return e(r).default}});var i=Nx();Object.defineProperty(t,"separateDigitsBySeparator",{enumerable:!0,get:function(){return e(i).default}});var s=pj();Object.defineProperty(t,"generateSlug",{enumerable:!0,get:function(){return e(s).default}})}(sd)),sd}var Ys=I7(),M7=({children:t,className:e,...n})=>h.jsx("button",{type:"button",className:Ni("p-2 text-xs rounded-full",e),...n,children:t}),X_=M7,D7=[12,1,2,3,4,5,6,7,8,9,10,11],L7=["00","05","10","15","20","25","30","35","40","45","50","55"],K_=(t,e)=>t*360/e.length,mj={backgroundColor:"#fff",amPmActiveBackgroundColor:"#93c5fd",amPmColor:"#000",clockBackgroundColor:"#eff6ff",clockLabelsColor:"#000",pointerBackgroundColor:"#3b82f6"},z7=({onChange:t,theme:e=mj})=>{const[n,r]=A.useState(),[i]=T7(n,10),[s,a]=A.useState(),[c,d]=A.useState(),[f,g]=A.useState(!0),m=A.useMemo(()=>s?L7:D7,[c,s]);return A.useEffect(()=>{s!==void 0&&c!==void 0&&t?.(s,c)},[s,c]),A.useEffect(()=>{s&&a(b=>b&&(f?b-12:b+12))},[f]),h.jsxs("div",{className:"w-full h-full relative",style:{backgroundColor:e.backgroundColor},children:[h.jsxs("div",{className:"w-[18rem] h-[18rem] m-8 shrink-0 relative rounded-full",style:{backgroundColor:e.clockBackgroundColor},children:[h.jsx("div",{className:"w-2 h-2 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 rounded-full",style:{backgroundColor:e.pointerBackgroundColor}}),i!==void 0&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"absolute h-[40%] w-0.5 top-[10%] origin-bottom left-1/2 -translate-x-1/2",style:{transform:`rotate(${K_(i,m)}deg)`,backgroundColor:e.pointerBackgroundColor}})}),m.map((b,y)=>{const S=K_(y,m);return h.jsx("div",{className:Ni("absolute text-center text-lg pointer-events-none",i===y&&"text-white"),style:{transform:`rotate(${S}deg)`,inset:"10px"},children:h.jsx("button",{type:"button",onMouseEnter:()=>r(y),onMouseLeave:()=>r(void 0),className:"inline-block w-8 h-8 pointer-events-auto rounded-full",style:{transform:`rotate(-${S}deg)`,color:i===y?"white":e.clockLabelsColor,backgroundColor:i===y?e.pointerBackgroundColor:"transparent"},onClick:()=>{s?d(+b):a(+b)},children:Ys.convertDigits(b)})},b)})]}),h.jsx(X_,{style:{backgroundColor:f?e.amPmActiveBackgroundColor:"transparent",color:e.amPmColor},className:"absolute bottom-4 left-4",onClick:()=>g(!0),children:"  "}),h.jsx(X_,{style:{backgroundColor:f?"transparent":e.amPmActiveBackgroundColor,color:e.amPmColor},className:"absolute bottom-4 right-4",onClick:()=>g(!1),children:"  "})]})};function Nr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function bt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}var lv=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ci(t,e,n){return B7(Ix(t,e,n))}function ea(t,e,n){return vj(F7(t,e,n))}function bj(t,e){if(isNaN(t))return e?{gy:NaN,march:NaN}:{leap:NaN,gy:NaN,march:NaN};var n=lv.length,r=t+621,i=-14,s=lv[0],a,c=0,d,f,g,m,b;for(b=1;b<n&&(a=lv[b],c=a-s,!(t<a));b+=1)i=i+Xt(c,33)*8+Xt(Qr(c,33),4),s=a;return m=t-s,i=i+Xt(m,33)*8+Xt(Qr(m,33)+3,4),Qr(c,33)===4&&c-m===4&&(i+=1),f=Xt(r,4)-Xt((Xt(r,100)+1)*3,4)-150,g=20+i-f,e?{gy:r,march:g}:(c-m<6&&(m=m-c+Xt(c+4,33)*33),d=Qr(Qr(m+1,33)-1,4),d===-1&&(d=4),{leap:d,gy:r,march:g})}function F7(t,e,n){var r=Qr(Qr(e,12)+12-1,12)+1,i=Xt(e-r,12);e=r;var s=bj(t+i,!0);return Ix(s.gy,3,s.march)+(e-1)*31-Xt(e,7)*(e-7)+n-1}function B7(t){if(isNaN(t))return{jy:NaN,jm:NaN,jd:NaN};var e=vj(t).gy,n=e-621,r=bj(n,!1),i=Ix(e,3,r.march),s,a,c;if(c=t-i,c>=0){if(c<=185)return a=1+Xt(c,31),s=Qr(c,31)+1,{jy:n,jm:a,jd:s};c-=186}else n-=1,c+=179,r.leap===1&&(c+=1);return a=7+Xt(c,30),s=Qr(c,30)+1,{jy:n,jm:a,jd:s}}function Ix(t,e,n){var r=Xt((t+Xt(e-8,6)+100100)*1461,4)+Xt(153*Qr(e+9,12)+2,5)+n-34840408;return r=r-Xt(Xt(t+100100+Xt(e-8,6),100)*3,4)+752,r}function vj(t){if(isNaN(t))return{gy:NaN,gm:NaN,gd:NaN};var e,n,r,i,s;return e=4*t+139361631,e=e+Xt(Xt(4*t+183187720,146097)*3,4)*4-3908,n=Xt(Qr(e,1461),4)*5+308,r=Xt(Qr(n,153),5)+1,i=Qr(Xt(n,153),12)+1,s=Xt(e,1461)-100100+Xt(8-i,6),{gy:s,gm:i,gd:r}}function Xt(t,e){return~~(t/e)}function Qr(t,e){return t-~~(t/e)*e}function jd(t,e,n){return V7()?jd=Reflect.construct:jd=function(i,s,a){var c=[null];c.push.apply(c,s);var d=Function.bind.apply(i,c),f=new d;return a&&ry(f,a.prototype),f},jd.apply(null,arguments)}function V7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ry(t,e){return ry=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ry(t,e)}function cv(t){return $7(t)||xj(t)||yj(t)||H7()}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(t){if(Array.isArray(t))return iy(t)}function U7(t){return G7(t)||xj(t)||yj(t)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yj(t,e){if(t){if(typeof t=="string")return iy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iy(t,e)}}function iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xj(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function G7(t){if(Array.isArray(t))return t}function jr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){var r=e,i=U7(r),s=i[0],a=i[1],c=i[2],d=c===void 0?1:c,f=i.slice(3),g=ea(s,a+1,d);return jd(Date,cv([g.gy,g.gm-1,g.gd].concat(cv(f))))}return jd(Date,cv(e))}function Bg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bg=function(n){return typeof n}:Bg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bg(t)}function Rt(t){bt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Bg(t)==="object"&&e==="[object Date]"?jr(t.getTime()):typeof t=="number"||e==="[object Number]"?jr(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),jr(NaN))}function eo(t){var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return Ci(r,n,e).jd}function am(t){for(var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=ea(i.jy,i.jm,d);return t.setFullYear(f.gy,f.gm-1,f.gd)}function q7(t,e){bt(2,arguments);var n=Rt(t),r=Nr(e);return isNaN(r)?jr(NaN):(r&&am(n,eo(n)+r),n)}function Xo(t){var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return Ci(r,n,e).jm-1}function Sj(t){for(var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=a[1],g=f===void 0?i.jd:f,m=ea(i.jy,d+1,g);return t.setFullYear(m.gy,m.gm-1,m.gd)}function to(t){var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return Ci(r,n,e).jy}function yh(t){for(var e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=a[1],g=f===void 0?i.jm-1:f,m=a[2],b=m===void 0?i.jd:m,y=ea(d,g+1,b);return t.setFullYear(y.gy,y.gm-1,y.gd)}function wj(t,e){bt(2,arguments);var n=Rt(t),r=Nr(e);if(isNaN(r))return jr(NaN);if(!r)return n;var i=eo(n),s=jr(n.getTime());Sj(s,Xo(n)+r+1,0);var a=eo(s);return i>=a?s:(yh(n,to(s),Xo(s),i),n)}function uv(t){return bt(1,arguments),Rt(t).getDay()===6}function Y7(t,e){bt(2,arguments);var n=Rt(t).getTime(),r=Nr(e);return jr(n+r)}var X7={};function qc(){return X7}function K7(t,e){var n,r,i,s,a,c;bt(1,arguments);var d=qc(),f=Nr((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(a=d.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:6);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Rt(t),m=g.getDay(),b=(m<f?7:0)+m-f;return am(g,eo(g)-b),g.setHours(0,0,0,0),g}function gp(t){for(var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=a[1],g=f===void 0?i.jm-1:f,m=a[2],b=m===void 0?i.jd:m,y=ea(d,g+1,b);return t.setUTCFullYear(y.gy,y.gm-1,y.gd)}function Q_(t){return e9(t)||J7(t)||Z7(t)||Q7()}function Q7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sy(t,e)}}function J7(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function e9(t){if(Array.isArray(t))return sy(t)}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],s=e[2],a=s===void 0?1:s,c=e.slice(3),d=ea(r,i+1,a);return Date.UTC.apply(Date,Q_([d.gy,d.gm-1,d.gd].concat(Q_(c))))}function n9(t){var e=jr(t9(to(t),Xo(t),eo(t),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return gp(e,to(t)),t.getTime()-e.getTime()}function Z_(t){bt(1,arguments);var e=Rt(t);return e.setHours(0,0,0,0),e}function Ur(t,e){bt(2,arguments);var n=Z_(t),r=Z_(e);return n.getTime()===r.getTime()}function Vg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vg=function(n){return typeof n}:Vg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vg(t)}function r9(t){return bt(1,arguments),t instanceof Date||Vg(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function i9(t){if(bt(1,arguments),!r9(t)&&typeof t!="number")return!1;var e=Rt(t);return!isNaN(Number(e))}function s9(t){bt(1,arguments);var e=Rt(t),n=Xo(e);return yh(e,to(e),n+1,0),e.setHours(23,59,59,999),e}function o9(t){bt(1,arguments);var e=Rt(t);return am(e,1),e.setHours(0,0,0,0),e}function a9(t,e){var n,r,i,s,a,c;bt(1,arguments);var d=qc(),f=Nr((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(a=d.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:6);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Rt(t),m=g.getDay(),b=(m<f?-7:0)+6-(m-f);return am(g,eo(g)+b),g.setHours(23,59,59,999),g}function l9(t,e){bt(2,arguments);var n=Nr(e);return Y7(t,-n)}function c9(t){for(var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=a[1],g=f===void 0?i.jd:f,m=ea(i.jy,d+1,g);return t.setUTCFullYear(m.gy,m.gm-1,m.gd)}var u9=864e5;function d9(t){bt(1,arguments);var e=Rt(t),n=e.getTime();c9(e,0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/u9)+1}function pp(t){bt(1,arguments);var e=1,n=Rt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Cj(t){bt(1,arguments);var e=Rt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=pp(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=pp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function h9(t){bt(1,arguments);var e=Cj(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=pp(n);return r}var f9=6048e5;function g9(t){bt(1,arguments);var e=Rt(t),n=pp(e).getTime()-h9(e).getTime();return Math.round(n/f9)+1}function Mx(t){var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear();return Ci(r,n,e).jd}function p9(t){for(var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear(),i=Ci(r,n,e),s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];var d=a[0],f=ea(i.jy,i.jm,d);return t.setUTCFullYear(f.gy,f.gm-1,f.gd)}function mp(t,e){var n,r,i,s,a,c,d,f;bt(1,arguments);var g=qc(),m=Nr((n=(r=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:g.weekStartsOn)!==null&&r!==void 0?r:(d=g.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&n!==void 0?n:6);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Rt(t),y=b.getUTCDay(),S=(y<m?7:0)+y-m;return p9(b,Mx(b)-S),b.setUTCHours(0,0,0,0),b}function Pd(t){var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear();return Ci(r,n,e).jy}function Ej(t,e){var n,r,i,s,a,c,d,f;bt(1,arguments);var g=Rt(t),m=Pd(g),b=qc(),y=Nr((n=(r=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:b.firstWeekContainsDate)!==null&&r!==void 0?r:(d=b.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=jr(0);gp(S,m+1,0,y),S.setUTCHours(0,0,0,0);var x=mp(S,e),C=jr(0);gp(C,m,0,y),C.setUTCHours(0,0,0,0);var E=mp(C,e);return g.getTime()>=x.getTime()?m+1:g.getTime()>=E.getTime()?m:m-1}function m9(t,e){var n,r,i,s,a,c,d,f;bt(1,arguments);var g=qc(),m=Nr((n=(r=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(d=g.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1),b=Ej(t,e),y=jr(0);gp(y,b,0,m),y.setUTCHours(0,0,0,0);var S=mp(y,e);return S}var b9=6048e5;function v9(t,e){bt(1,arguments);var n=Rt(t),r=mp(n,e).getTime()-m9(n,e).getTime();return Math.round(r/b9)+1}function It(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function Sd(t){var e=t.getUTCDate(),n=t.getUTCMonth()+1,r=t.getUTCFullYear();return Ci(r,n,e).jm-1}var Io={y:function(e,n){var r=Pd(e),i=r>0?r:1-r;return It(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=Sd(e);return n==="M"?String(r+1):It(r+1,2)},d:function(e,n){return It(Mx(e),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return It(e.getUTCHours()%12||12,n.length)},H:function(e,n){return It(e.getUTCHours(),n.length)},m:function(e,n){return It(e.getUTCMinutes(),n.length)},s:function(e,n){return It(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return It(s,n.length)}},nc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y9={G:function(e,n,r){var i=Pd(e)>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=Pd(e),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Io.y(e,n)},Y:function(e,n,r,i){var s=Ej(e,i),a=s>0?s:1-s;if(n==="YY"){var c=a%100;return It(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):It(a,n.length)},R:function(e,n){var r=Cj(e);return It(r,n.length)},u:function(e,n){var r=Pd(e);return It(r,n.length)},Q:function(e,n,r){var i=Math.ceil((Sd(e)+1)/3);switch(n){case"Q":return String(i);case"QQ":return It(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((Sd(e)+1)/3);switch(n){case"q":return String(i);case"qq":return It(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=Sd(e);switch(n){case"M":case"MM":return Io.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=Sd(e);switch(n){case"L":return String(i+1);case"LL":return It(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=v9(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):It(s,n.length)},I:function(e,n,r){var i=g9(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):It(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(Mx(e),{unit:"date"}):Io.d(e,n)},D:function(e,n,r){var i=d9(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):It(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return It(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return It(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return It(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=nc.noon:i===0?s=nc.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=nc.evening:i>=12?s=nc.afternoon:i>=4?s=nc.morning:s=nc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Io.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Io.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):It(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):It(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Io.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Io.s(e,n)},S:function(e,n){return Io.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return eT(a);case"XXXX":case"XX":return La(a);case"XXXXX":case"XXX":default:return La(a,":")}},x:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"x":return eT(a);case"xxxx":case"xx":return La(a);case"xxxxx":case"xxx":default:return La(a,":")}},O:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+J_(a,":");case"OOOO":default:return"GMT"+La(a,":")}},z:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+J_(a,":");case"zzzz":default:return"GMT"+La(a,":")}},t:function(e,n,r,i){var s=i._originalDate||e,a=Math.floor(s.getTime()/1e3);return It(a,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,a=s.getTime();return It(a,n.length)}};function J_(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var a=e;return n+String(i)+a+It(s,2)}function eT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+It(Math.abs(t)/60,2)}return La(t,e)}function La(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=It(Math.floor(i/60),2),a=It(i%60,2);return r+s+n+a}var tT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Aj=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},x9=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return tT(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",tT(i,n)).replace("{{time}}",Aj(s,n))},S9={p:Aj,P:x9},w9=["D","DD"],C9=["YY","YYYY"];function E9(t){return w9.indexOf(t)!==-1}function A9(t){return C9.indexOf(t)!==-1}function nT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _9={lessThanXSeconds:{one:"   ",other:"  {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"   ",other:"  {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:"  1 ",other:"  {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},T9=function(e,n,r){var i,s=_9[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+i:i+" ":i};function dv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var R9={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"yyyy/MM/dd"},k9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O9={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j9={date:dv({formats:R9,defaultWidth:"full"}),time:dv({formats:k9,defaultWidth:"full"}),dateTime:dv({formats:O9,defaultWidth:"full"})},P9={lastWeek:"eeee ' ' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},N9=function(e,n,r,i){return P9[e]};function ld(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{var c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[c]}var f=t.argumentCallback?t.argumentCallback(e):e;return i[f]}}var I9={narrow:["",""],abbreviated:["..",".."],wide:["  ","  "]},M9={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" 1"," 2"," 3"," 4"]},D9={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},L9={narrow:["","","","","","",""],short:["1","2","3","4","5","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},z9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"..",evening:"",night:""},abbreviated:{am:"..",pm:"..",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},F9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"..",evening:"",night:""},abbreviated:{am:"..",pm:"..",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},B9=function(e,n){var r=Number(e);return r+"-"},V9={ordinalNumber:B9,era:ld({values:I9,defaultWidth:"wide"}),quarter:ld({values:M9,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ld({values:D9,defaultWidth:"wide"}),day:ld({values:L9,defaultWidth:"wide"}),dayPeriod:ld({values:z9,defaultWidth:"wide",formattingValues:F9,defaultFormattingWidth:"wide"})};function cd(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?$9(c,function(m){return m.test(a)}):H9(c,function(m){return m.test(a)}),f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;var g=e.slice(a.length);return{value:f,rest:g}}}function H9(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function $9(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function U9(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;var c=e.slice(i.length);return{value:a,rest:c}}}var W9=/^(\d+)(-?)?/i,G9=/\d+/i,q9={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?|\.?)/i,wide:/^(  | |  )/i},Y9={any:[/^/i,/^/i]},X9={narrow:/^[1234]/i,abbreviated:/^(|Q|)[1234]/i,wide:/^(|quarter|) [1234](-|)?/i},K9={any:[/1/i,/2/i,/3/i,/4/i]},Q9={narrow:/^(|||||||||||)/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},Z9={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},J9={narrow:/^[]/i,short:/^(||1|2|3|4|5)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},eq={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^(|1|)/i,/^(|2|)/i,/^(|3|)/i,/^(|4|)/i,/^(|5|)/i,/^(|)/i,/^(|)/i]},tq={narrow:/^(|||||..||)/i,any:/^(..|..|||||||)/i},nq={any:{am:/^(|..|)/i,pm:/^(|..|)/i,midnight:/^(|)/i,noon:/^(|)/i,morning:/^(|)/i,afternoon:/^(|..|)/i,evening:/^(|)/i,night:/^(|)/i}},rq={ordinalNumber:U9({matchPattern:W9,parsePattern:G9,valueCallback:function(e){return parseInt(e,10)}}),era:cd({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:Y9,defaultParseWidth:"any"}),quarter:cd({matchPatterns:X9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cd({matchPatterns:Q9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any"}),day:cd({matchPatterns:J9,defaultMatchWidth:"wide",parsePatterns:eq,defaultParseWidth:"any"}),dayPeriod:cd({matchPatterns:tq,defaultMatchWidth:"any",parsePatterns:nq,defaultParseWidth:"any"})},iq={code:"fa-IR",formatDistance:T9,formatLong:j9,formatRelative:N9,localize:V9,match:rq,options:{weekStartsOn:6,firstWeekContainsDate:1}},sq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aq=/^'([^]*?)'?$/,lq=/''/g,cq=/[a-zA-Z]/;function bp(t,e,n){var r,i,s,a,c,d,f,g,m,b,y,S,x,C;bt(2,arguments);var E=String(e),k=qc(),T=(r=(i=void 0)!==null&&i!==void 0?i:k.locale)!==null&&r!==void 0?r:iq,R=Nr((s=(a=(c=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&c!==void 0?c:k.firstWeekContainsDate)!==null&&a!==void 0?a:(f=k.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Nr((m=(b=(y=(S=void 0)!==null&&S!==void 0?S:void 0)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&b!==void 0?b:(x=k.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:6);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var O=Rt(t);if(!i9(O))throw new RangeError("Invalid time value");var I=n9(O),M=l9(O,I),L={firstWeekContainsDate:R,weekStartsOn:_,locale:T,_originalDate:O},$=E.match(oq).map(function(U){var D=U[0];if(D==="p"||D==="P"){var B=S9[D];return B(U,T.formatLong)}return U}).join("").match(sq).map(function(U){if(U==="''")return"'";var D=U[0];if(D==="'")return uq(U);var B=y9[D];if(B)return A9(U)&&nT(U,e,String(t)),E9(U)&&nT(U,e,String(t)),B(M,U,T.localize,L);if(D.match(cq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return U}).join("");return $}function uq(t){var e=t.match(aq);return e?e[1].replace(lq,"'"):t}function Hg(t){bt(1,arguments);var e=Rt(t),n=eo(e);return n}function dq(t){bt(1,arguments);var e=Rt(t),n=to(e),r=Xo(e),i=jr(0);return yh(i,n,r+1,0),i.setHours(0,0,0,0),eo(i)}function wc(t){bt(1,arguments);var e=Rt(t),n=Xo(e);return n}function ag(t){return bt(1,arguments),to(Rt(t))}function hq(t,e){bt(2,arguments);var n=Rt(t),r=Rt(e);return n.getTime()>r.getTime()}function fq(t,e){bt(2,arguments);var n=Rt(t),r=Rt(e);return n.getTime()<r.getTime()}function rT(t){return bt(1,arguments),Rt(t).getDay()===5}function gq(t,e){bt(2,arguments);var n=Rt(t),r=Rt(e);return to(n)===to(r)&&Xo(n)===Xo(r)}function _j(t){return bt(1,arguments),Ur(t,Date.now())}function pq(t,e){bt(2,arguments);var n=Rt(t),r=Nr(e),i=to(n),s=eo(n),a=jr(0);yh(a,i,r,15),a.setHours(0,0,0,0);var c=dq(a);return Sj(n,r,Math.min(s,c)),n}function mq(t,e){bt(2,arguments);var n=Rt(t),r=Nr(e);return isNaN(n.getTime())?jr(NaN):(yh(n,r),n)}function bq(t,e){bt(2,arguments);var n=Nr(e);return wj(t,-n)}function vq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},oy(t,e)}function Tj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oy(t,e)}const iT={disabled:!1},Dx=Mt.createContext(null);var yq=function(e){return e.scrollTop},wd="unmounted",za="exited",vi="entering",ds="entered",Xd="exiting",so=function(t){Tj(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,c=a&&!a.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?c?(d=za,s.appearStatus=vi):d=ds:r.unmountOnExit||r.mountOnEnter?d=wd:d=za,s.state={status:d},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===wd?{status:za}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==vi&&a!==ds&&(s=vi):(a===vi||a===ds)&&(s=Xd)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,c;return s=a=c=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===vi){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Gf.findDOMNode(this);a&&yq(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:wd})},n.performEnter=function(i){var s=this,a=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Gf.findDOMNode(this),c],f=d[0],g=d[1],m=this.getTimeouts(),b=c?m.appear:m.enter;if(!i&&!a||iT.disabled){this.safeSetState({status:ds},function(){s.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:vi},function(){s.props.onEntering(f,g),s.onTransitionEnd(b,function(){s.safeSetState({status:ds},function(){s.props.onEntered(f,g)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),c=this.props.nodeRef?void 0:Gf.findDOMNode(this);if(!s||iT.disabled){this.safeSetState({status:za},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Xd},function(){i.props.onExiting(c),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:za},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Gf.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!a||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=d[0],g=d[1];this.props.addEndListener(f,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===wd)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=vq(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Mt.createElement(Dx.Provider,{value:null},typeof a=="function"?a(i,c):Mt.cloneElement(Mt.Children.only(a),c))},e}(Mt.Component);so.contextType=Dx;so.propTypes={};function rc(){}so.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rc,onEntering:rc,onEntered:rc,onExit:rc,onExiting:rc,onExited:rc};so.UNMOUNTED=wd;so.EXITED=za;so.ENTERING=vi;so.ENTERED=ds;so.EXITING=Xd;var lg,cg;function xq(t,e){return!(t===e||Mt.isValidElement(t)&&Mt.isValidElement(e)&&t.key!=null&&t.key===e.key)}var jc={out:"out-in",in:"in-out"},vp=function(e,n,r){return function(){var i;e.props[n]&&(i=e.props)[n].apply(i,arguments),r()}},Sq=(lg={},lg[jc.out]=function(t){var e=t.current,n=t.changeState;return Mt.cloneElement(e,{in:!1,onExited:vp(e,"onExited",function(){n(vi,null)})})},lg[jc.in]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,Mt.cloneElement(r,{in:!0,onEntered:vp(r,"onEntered",function(){n(vi)})})]},lg),wq=(cg={},cg[jc.out]=function(t){var e=t.children,n=t.changeState;return Mt.cloneElement(e,{in:!0,onEntered:vp(e,"onEntered",function(){n(ds,Mt.cloneElement(e,{in:!0}))})})},cg[jc.in]=function(t){var e=t.current,n=t.children,r=t.changeState;return[Mt.cloneElement(e,{in:!1,onExited:vp(e,"onExited",function(){r(ds,Mt.cloneElement(n,{in:!0}))})}),Mt.cloneElement(n,{in:!0})]},cg),Lx=function(t){Tj(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=t.call.apply(t,[this].concat(s))||this,r.state={status:ds,current:null},r.appeared=!1,r.changeState=function(c,d){d===void 0&&(d=r.state.current),r.setState({status:c,current:d})},r}var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,s){return i.children==null?{current:null}:s.status===vi&&i.mode===jc.in?{status:vi}:s.current&&xq(s.current,i.children)?{status:Xd}:{current:Mt.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,s=i.children,a=i.mode,c=this.state,d=c.status,f=c.current,g={children:s,current:f,changeState:this.changeState,status:d},m;switch(d){case vi:m=wq[a](g);break;case Xd:m=Sq[a](g);break;case ds:m=f}return Mt.createElement(Dx.Provider,{value:{isMounting:!this.appeared}},m)},e}(Mt.Component);Lx.propTypes={};Lx.defaultProps={mode:jc.out};function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function lm(t,e){if(t==null)return{};var n,r,i=function(a,c){if(a==null)return{};var d,f,g={},m=Object.keys(a);for(f=0;f<m.length;f++)d=m[f],c.indexOf(d)>=0||(g[d]=a[d]);return g}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Cq=["size","color","stroke"];function Eq(t){var e=t.size,n=e===void 0?24:e,r=t.color,i=r===void 0?"currentColor":r,s=t.stroke,a=s===void 0?2:s,c=lm(t,Cq);return A.createElement("svg",Pc({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-calendar",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:a,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),A.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.createElement("rect",{x:4,y:5,width:16,height:16,rx:2}),A.createElement("line",{x1:16,y1:3,x2:16,y2:7}),A.createElement("line",{x1:8,y1:3,x2:8,y2:7}),A.createElement("line",{x1:4,y1:11,x2:20,y2:11}),A.createElement("line",{x1:11,y1:15,x2:12,y2:15}),A.createElement("line",{x1:12,y1:15,x2:12,y2:18}))}var Aq=["size","color","stroke"];function _q(t){var e=t.size,n=e===void 0?24:e,r=t.color,i=r===void 0?"currentColor":r,s=t.stroke,a=s===void 0?2:s,c=lm(t,Aq);return A.createElement("svg",Pc({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-left",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:a,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),A.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.createElement("polyline",{points:"15 6 9 12 15 18"}))}var Tq=["size","color","stroke"];function Rq(t){var e=t.size,n=e===void 0?24:e,r=t.color,i=r===void 0?"currentColor":r,s=t.stroke,a=s===void 0?2:s,c=lm(t,Tq);return A.createElement("svg",Pc({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:a,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),A.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.createElement("polyline",{points:"9 6 15 12 9 18"}))}var kq=["size","color","stroke"];function Oq(t){var e=t.size,n=e===void 0?24:e,r=t.color,i=r===void 0?"currentColor":r,s=t.stroke,a=s===void 0?2:s,c=lm(t,kq);return A.createElement("svg",Pc({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-clock",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:a,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),A.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.createElement("circle",{cx:12,cy:12,r:9}),A.createElement("polyline",{points:"12 7 12 12 15 15"}))}var jq=({themeClasses:t,onCancel:e,mode:n,onChangeMode:r,onConfirm:i,showTimePicker:s})=>h.jsxs("div",{style:{color:t.footerButtonColor,backgroundColor:t.footerBackgroundColor},className:Ni("w-full p-6 flex items-center"),children:[h.jsx("button",{type:"button",onClick:i,className:"ml-6",children:""}),h.jsx("button",{type:"button",onClick:e,children:""}),s&&h.jsx("button",{type:"button",className:"mr-auto",onClick:()=>r?.(n==="date"?"time":"date"),children:n==="date"?h.jsx(Oq,{className:"w-5 h-5"}):h.jsx(Eq,{className:"w-5 h-5"})})]}),Pq=jq,Nq=({activeDate:t,onGoToToday:e,showGoToToday:n,selectedDate:r,months:i,themeClasses:s,range:a})=>{const c=A.useMemo(()=>!!a,[a]),d=A.useMemo(()=>({day:Ys.convertDigits(Hg(t)),dayOfWeek:bp(t,"EEEE")}),[t]);return h.jsxs("div",{style:{color:s.headerTextColor,backgroundColor:s.headerBackgroundColor},className:Ni("w-full px-4 flex items-center relative",c?"py-12":"py-6"),children:[c&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-1/2 h-full absolute left-0 top-0 bg-black/20 z-50 text-center flex items-center justify-center",children:a?.to?h.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[h.jsx("h1",{className:"text-5xl font-bold ml-2",children:Ys.convertDigits(Hg(a.to))}),h.jsx("h2",{className:"text-xl",children:i[wc(a?.to)]})]}):h.jsx("h1",{className:"text-5xl font-bold opacity-30 pointer-events-none select-none",children:""})}),h.jsx("div",{className:"absolute w-1/2 h-full right-0 text-center flex items-center justify-center",children:a?.from?h.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[h.jsx("h1",{className:"text-5xl font-bold ml-2",children:Ys.convertDigits(Hg(a.from))}),h.jsx("h2",{className:"text-xl",children:i[wc(a?.from)]})]}):h.jsx("h1",{className:"text-5xl font-bold opacity-30 pointer-events-none select-none",children:""})})]}),!c&&h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-5xl font-bold ml-2",children:d?.day}),h.jsxs("h2",{className:"text-base",children:[i[wc(t)]," ",d?.dayOfWeek]})]}),!c&&n&&!_j(r)&&h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-md bg-white text-black mr-auto text-sm",children:"  "})]})},Iq=Nq,Mq=t=>{const e=o9(t),n=s9(t),r=K7(e),i=a9(n);let s=r;const a=[];for(;s<=i;)a.push(s),s=q7(s,1);return a},Dq=(t,e)=>{const[n,r]=A.useState(t);return A.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n},sT=["","","","","","",""],Lq=(t,e,n)=>n<=e&&n>=t,oT=t=>{var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}},zq=({maxDate:t,minDate:e,onActiveDayChange:n,highlightToday:r,disabledDates:i,themeClasses:s,activeDate:a,selectedDate:c,showFridaysAsRed:d,range:f})=>{const g=A.useMemo(()=>Mq(c),[c]),m=A.useMemo(()=>!!f?.from,[f?.from]),[b,y]=A.useState(),S=Dq(b,50),x=A.useMemo(()=>f?.to||S,[S,f]);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-7 gap-4",children:["","","","","","",""].map((C,E)=>h.jsx("h2",{style:{color:s.weekDaysTextColor,backgroundColor:s.weekDaysBackgroundColor},className:Ni("m-0 text-sm rounded-full p-2 w-9 h-9 text-center border border-transparent"),"aria-label":sT[E],title:sT[E],children:C},C))}),h.jsx("div",{className:"grid grid-cols-7 gap-4",children:g.map((C,E)=>{const k=e&&fq(C,e)&&!Ur(C,e)||t&&hq(C,t)&&!Ur(C,t)||i?.includes(C),T=f?.from?Lq(f.from,x||0,C)&&!Ur(C,f.from):!1,R=Ur(C,a)||Ur(C,f?.from||0)||Ur(C,f?.to||0),_=()=>d&&rT(C)?R?s.offDaysSelectedColor:s.offDaysColor:R?s.daysSelectedColor:s.daysColor,O=(D=!1)=>{const{r:B,g:H,b:G}=oT(s.daysSelectedBackgroundColor);return m&&T&&!R||D?`rgba(${B}, ${H}, ${G}, ${f?.to?"0.25":"0.12"})`:R?s.daysSelectedBackgroundColor:s.daysBackgroundColor},I=()=>{if(!f?.to&&(!x||Ur(a,x)||a>x)||R&&(Ur(C,f?.from||0)||Ur(C,f?.to||0)))return"rounded-full";if(T&&m)return rT(C)||Ur(C,x)?"rounded-l-full":uv(C)?"rounded-r-full":"rounded-none"},{r:M,g:L,b:$}=oT(s.hoverBackgroundColor),U={"--hover-color":`rgba(${M}, ${L}, ${$}, 0.1)`};return h.jsxs("div",{className:Ni("flex items-center justify-center w-9 h-9 relative p-0 m-0",I()),style:{backgroundColor:m?O():void 0},children:[T&&m&&!uv(C)&&h.jsx("div",{className:"w-3 absolute translate-x-6 h-full pointer-events-none",style:{backgroundColor:m?O(!0):void 0}}),Ur(C,f?.from||0)&&x>C&&h.jsx("div",{className:"absolute w-full -z-10 h-full pointer-events-none rounded-r-full",style:{backgroundColor:m?O(!0):void 0}}),Ur(C,f?.to||0)&&!uv(C)&&h.jsx("div",{className:"absolute w-full -z-10 h-full pointer-events-none rounded-l-full",style:{backgroundColor:m?O(!0):void 0}}),h.jsx("button",{type:"button",disabled:k,onClick:n.bind(void 0,C),onMouseEnter:()=>y(C),onMouseLeave:()=>y(void 0),style:{color:_(),backgroundColor:T&&m?void 0:O(),borderColor:_j(C)&&r?s.todayBorderColor:"transparent",...U},className:Ni("text-sm text-center border w-9 h-9 m-0 rounded-full hover:!bg-[color:var(--hover-color)]",(!gq(C,c)||k)&&"opacity-50"),children:Ys.convertDigits(Hg(C))},C.toString())]})})})]})},Fq=zq,Bq=({onChangeMonth:t,months:e,themeClasses:n,selectedDate:r})=>h.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.map((i,s)=>h.jsx("button",{type:"button",onClick:()=>t(s),style:{backgroundColor:s===wc(r)?n.daysSelectedBackgroundColor:n.daysBackgroundColor,color:s===wc(r)?n.daysSelectedColor:n.daysColor},className:Ni("px-6 py-4 rounded-full text-center"),children:i},i))}),Vq=Bq,Rj=t=>new Date(t),Hq=({onChangeYear:t,activeDate:e,themeClasses:n,selectedDate:r})=>{const i=A.useMemo(()=>ag(new Date),[]),s=[...[...new Array(100)].map((g,m)=>i-(100-m)),...[...new Array(100)].map((g,m)=>i+m)],[a,c]=A.useState(null),d=A.useCallback(c,[]);A.useEffect(()=>{a&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[a]);const f=A.useRef(null);return h.jsx("div",{className:"grid grid-cols-3 gap-4 max-h-72 overflow-y-scroll custom-scroll",children:s.map((g,m)=>h.jsx("button",{type:"button",ref:g===ag(r)?d:f,onClick:()=>t(g),style:{backgroundColor:g===ag(r)?n.daysSelectedBackgroundColor:n.daysBackgroundColor,color:g===ag(r)?n.daysSelectedColor:n.daysColor},className:Ni("px-6 py-4 rounded-full text-center"),children:Ys.convertDigits(g)},g))})},$q=Hq,Uq=({children:t,bodyTransition:e,...n})=>{const r=A.useRef(null);return h.jsx(so,{...n,nodeRef:r,children:i=>{let s;switch(e){case"fade":s={in:"opacity-100",out:"opacity-0"};break;case"zoomOut":s={in:"opacity-100 scale-100",out:"opacity-0 scale-50"};break;default:case"zoomIn":s={in:"opacity-100 scale-100",out:"opacity-0 scale-110"};break}return h.jsx("div",{ref:r,className:Ni(i==="exiting"||i==="entering"?"absolute top-0":"relative",i==="entered"?s.in:s.out,i==="exited"?"hidden":"block","transition-all ease-in-out w-full h-full flex flex-col space-y-4"),children:t})}})},Wq=(t,e,n)=>{if(t)return t;if(e)return e;if(n){let r=Rj(n);for(;r<=n;)r.setDate(r.getDate()+1);return r}return new Date},kj=A.forwardRef(({highlightToday:t=!0,onChange:e,activeDate:n,theme:r="light",showGoToToday:i=!0,defaultActiveDate:s,minDate:a,maxDate:c,showFooter:d=!1,disabledDates:f,disableTransitions:g,bodyTransition:m="zoomIn",style:b,showFridaysAsRed:y=!0,showTimePicker:S=!0,presistTimeOnDateChange:x=!1,months:C=["","","","","","","","","","","",""],onCancel:E,onConfirm:k,ranged:T},R)=>{const[_,O]=A.useState(Wq(s,n,a)),[I,M]=A.useState(_),[L,$]=A.useState("main"),[U,D]=A.useState("date"),[B,H]=A.useState(n?.getHours()||s?.getHours()||0),[G,P]=A.useState(n?.getMinutes()||s?.getMinutes()||0);A.useEffect(()=>{n&&O(_)},[n]),A.useEffect(()=>{O(Ce=>{const ve=new Date(Ce);return ve.setHours(B,G,0,0),ve})},[B,G]);const W=A.useRef(null),Q=Ce=>{const ve=je=>ue(Je=>({...Je,...je}));if(ge?.to)return ue({from:Ce});if(!ge?.from)return ve({from:Ce});if(Ce>ge.from)return ve({to:Ce});ve({from:Ce})},se=Ce=>{const ve=new Date(Ce);x?ve.setHours(B,G,0,0):ve.setHours(0,0,0),T&&Q(ve),O(ve)},F=()=>{se(new Date)},Z=()=>{M(Ce=>wj(Ce,1))},fe=()=>{M(Ce=>bq(Ce,1))},ce=Ce=>{M(ve=>pq(ve,Ce))},_e=Ce=>{M(ve=>mq(ve,Ce))},Ae=()=>$(L==="main"?"months":L==="months"?"years":"main"),Re=()=>{if(L==="years")return $("months");$("main")},[ge,ue]=A.useState(T===!0?{}:T||{});A.useEffect(()=>{M(_),e?.(_,ge?.from)},[_]),A.useEffect(()=>{Re()},[I]);const pe=()=>{if(!a)return!1;const Ce=new Date(a),ve=new Date;return Ce.setHours(0,0,0),ve.setHours(0,0,0),ve>a},Ee=A.useMemo(()=>{switch(r){case"light":return{hoverBackgroundColor:"#000",bodyBackgroundColor:"#fff",chevronLeftColor:"#6b7280",chevronRightColor:"#6b7280",topBarTextColor:"#6b7280",weekDaysBackgroundColor:"#f3f4f6",weekDaysTextColor:"#9ca3af",daysBackgroundColor:"transparent",daysSelectedBackgroundColor:"#3b82f6",todayBorderColor:"#3b82f6",daysSelectedColor:"#fff",daysColor:"#000",footerBackgroundColor:"#f1f5f9",footerButtonColor:"#3b82f6",headerBackgroundColor:"#0284c7",headerTextColor:"#fff",offDaysColor:"#ef4444",offDaysSelectedColor:"#fee2e2",clock:mj};case"dark":return{hoverBackgroundColor:"#ffffff",bodyBackgroundColor:"#1c1917",chevronLeftColor:"#e7e5e4",chevronRightColor:"#e7e5e4",topBarTextColor:"#e7e5e4",weekDaysBackgroundColor:"#78716c",weekDaysTextColor:"#d6d3d1",daysBackgroundColor:"transparent",daysSelectedBackgroundColor:"#3b82f6",todayBorderColor:"#3b82f6",daysSelectedColor:"#fff",daysColor:"#fff",footerBackgroundColor:"#292524",footerButtonColor:"#3b82f6",headerBackgroundColor:"#0284c7",headerTextColor:"#fff",offDaysColor:"#ef4444",offDaysSelectedColor:"#fee2e2",clock:{backgroundColor:"#1c1917",amPmActiveBackgroundColor:"#3b82f6",amPmColor:"#fff",clockBackgroundColor:"#000",clockLabelsColor:"#fff",pointerBackgroundColor:"#38bdf8"}};case"darkRed":return{hoverBackgroundColor:"#ffffff",bodyBackgroundColor:"#1c1917",chevronLeftColor:"#e7e5e4",chevronRightColor:"#e7e5e4",topBarTextColor:"#e7e5e4",weekDaysBackgroundColor:"#78716c",weekDaysTextColor:"#d6d3d1",daysBackgroundColor:"transparent",daysSelectedBackgroundColor:"#f43f5e",todayBorderColor:"#f43f5e",daysSelectedColor:"#fff",daysColor:"#fff",footerBackgroundColor:"#292524",footerButtonColor:"#f43f5e",headerBackgroundColor:"#e11d48",headerTextColor:"#fff",offDaysColor:"#ef4444",offDaysSelectedColor:"#fee2e2",clock:{backgroundColor:"#1c1917",amPmActiveBackgroundColor:"#f43f5e",amPmColor:"#fff",clockBackgroundColor:"#000",clockLabelsColor:"#fff",pointerBackgroundColor:"#fb7185"}};default:return r}},[r]);A.useEffect(()=>{if(C.length!==12)throw new Error("        12 .")},[C]);const te=A.useMemo(()=>L==="main"?h.jsx(Fq,{activeDate:_,disabledDates:f?.map(Ce=>{const ve=Rj(Ce);return ve.setHours(0,0,0),ve}),highlightToday:t,maxDate:c,minDate:a,onActiveDayChange:se,selectedDate:I,themeClasses:Ee,showFridaysAsRed:y,range:ge}):L==="months"?h.jsx(Vq,{themeClasses:Ee,onChangeMonth:ce,selectedDate:I,months:C}):h.jsx($q,{themeClasses:Ee,onChangeYear:_e,activeDate:_,selectedDate:I}),[L,_,f,t,c,a,se,I,Ee]);return h.jsxs("div",{ref:R,style:{fontFamily:"Vazirmatn",...b},className:"flex flex-col rounded-md shadow-lg max-w-[22rem] overflow-hidden",dir:"rtl",children:[h.jsx(Iq,{activeDate:_,selectedDate:I,onGoToToday:F,showGoToToday:a?pe():i,months:C,themeClasses:Ee,range:T?ge:void 0}),U==="date"?h.jsxs("div",{style:{backgroundColor:Ee.bodyBackgroundColor},className:Ni("p-4 flex flex-col items-center space-y-6"),children:[h.jsxs("div",{className:"flex items-center justify-between text-gray-500 w-full",children:[h.jsx("button",{type:"button",onClick:fe,style:{color:Ee.chevronRightColor},children:h.jsx(Rq,{className:"w-4 h-4"})}),h.jsxs("button",{type:"button",className:"text-base",onClick:Ae,style:{color:Ee.topBarTextColor},children:[L==="main"&&C[wc(I)]," ",Ys.convertDigits(bp(I,"yyyy"))]}),h.jsx("button",{type:"button",onClick:Z,style:{color:Ee.chevronLeftColor},children:h.jsx(_q,{className:"w-4 h-4"})})]}),g?te:h.jsx("div",{className:"relative",children:h.jsx(Lx,{mode:"in-out",ref:W,children:h.jsx(Uq,{bodyTransition:m,timeout:200,unmountOnExit:!0,mountOnEnter:!0,children:te},L)})})]}):h.jsx(z7,{onChange:(Ce,ve)=>{H(Ce),P(ve),D("date")},theme:Ee.clock}),d&&h.jsx(Pq,{themeClasses:Ee,onConfirm:()=>k?.(_,ge?.from),onCancel:E,showTimePicker:S,mode:U,onChangeMode:D})]})});kj.displayName="Calendar";var Gq=({autoUpdate:t,calendarProps:e,onChange:n,defaultDate:r,dateFormat:i="yyyy/MM/dd hh:mm:ss aaa",date:s,to:a,persianDigits:c,calendarPortalElement:d,experimental_ranged:f,...g})=>{const{x:m,y:b,reference:y,floating:S,strategy:x}=w7({placement:"bottom-end",strategy:"absolute",middleware:[HR(),VR({crossAxis:!0})],whileElementsMounted:BR}),C=(G,P)=>Array.isArray(G)?G[P==="from"?0:1]:G,[E,k]=A.useState(C(r,"to")||C(s,"to")),[T,R]=A.useState(C(r,"from")||C(s,"from")),[_,O]=A.useState(!1),[I,M]=A.useState(null),[L,$]=A.useState(null);_7(()=>O(!1),null,[L,I]);const U=(G,P)=>{s||(k(G),R(P)),f&&P?n?.(P,G):n?.(G)},[D,B]=A.useState(!1);A.useEffect(()=>B(!0),[]),A.useEffect(()=>{D&&(k(C(s,"to")),f&&R(C(s,"from")))},[s]);const H=h.jsx(kj,{ranged:Array.isArray(s)?{from:s[0],to:s[1]}:f?!0:void 0,activeDate:Array.isArray(E)?E[0]:E,onChange:(G,P)=>t&&U(G,P),ref:G=>{S(G),$(G)},style:{position:x,top:b??0,left:m??0},showFooter:!0,onConfirm:(G,P)=>{U(G,P),O(!1)},onCancel:()=>O(!1),...e});return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:M,children:h.jsx("input",{ref:y,className:"p-2 rounded-md border border-gray-300",value:E?`${T?Ys.convertDigits(bp(T,i),{to:c?"fa":"en"})+" - ":""} ${Ys.convertDigits(bp(E,i),{to:c?"fa":"en"})}`:"",readOnly:!0,onClick:G=>{var P;O(W=>W===!1?!0:W),(P=g.onClick)==null||P.call(g,G)},...g})}),d?h.jsx(A7,{root:d,children:_&&H}):_&&H]})};const qq=({value:t,onChange:e,errorMessage:n,label:r})=>{const i=K("gray.800","white"),s=K("red.500","red.400"),a=f=>{if(f)return new Date(f)},c=f=>f?f.toISOString():"",d=f=>{const g=c(f);e(g)};return h.jsxs(N,{children:[r&&h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:i,mb:2,children:r}),h.jsx(N,{children:h.jsx(Gq,{date:a(t),onChange:d,placeholder:"     ",dateFormat:"yyyy/MM/dd HH:mm",persianDigits:!0,autoUpdate:!0,calendarProps:{theme:"light",highlightToday:!0,showGoToToday:!0,showFooter:!0,showFridaysAsRed:!0}},`datepicker-${t||"empty"}`)}),n&&h.jsx(V,{color:s,fontSize:"sm",mt:1,children:n})]})},Yq=[{id:"homework",name:"",description:"    ",icon:qd,enabled:!0},{id:"exam_quiz",name:" / ",description:"   ",icon:Ho,enabled:!1},{id:"bubble_sheet",name:" ",description:"     ",icon:w8,enabled:!1},{id:"programming",name:"",description:"    ",icon:_8,enabled:!1}],Xq=()=>{const{courseId:t}=pr(),e=yn(),{course:n,isLoading:r,error:i}=Jo(t),s=A.useRef(null),[a,c]=A.useState("homework"),[d,f]=A.useState({title:"",templatePdf:null,anonymizedGrading:!1,uploadByStudent:"student",dueAt:"",regradeEnabled:!0,totalPoints:100}),[g,m]=A.useState(!1),[b,y]=A.useState({}),S=K("white","gray.900"),x=K("gray.800","white"),C=K("gray.600","gray.300"),E=K("gray.200","gray.700"),k=K("white","gray.800"),T=K("gray.50","gray.700"),R=K("blue.50","blue.900"),_=K("blue.200","blue.700"),O=K("gray.100","gray.800"),I=K("gray.200","gray.600"),M=K("gray.50","gray.700"),L=K("gray.300","gray.600"),$=(G,P)=>{f(W=>({...W,[G]:P})),b[G]&&y(W=>({...W,[G]:""}))},U=G=>{const P=G.target.files?.[0]||null;$("templatePdf",P)},D=()=>{const G={};return d.title.trim()||(G.title="   "),d.templatePdf||(G.templatePdf="   "),(!d.totalPoints||d.totalPoints<=0)&&(G.totalPoints="      "),d.uploadByStudent==="student"&&!d.dueAt&&(G.dueAt="   "),y(G),Object.keys(G).length===0},B=async()=>{if(D()){m(!0);try{const G={title:d.title,instructions:d.title,totalPoints:d.totalPoints,isPublished:!1,regradeEnabled:d.regradeEnabled,anonymizedGrading:d.anonymizedGrading,uploadByStudent:d.uploadByStudent,dueAt:d.uploadByStudent==="student"&&d.dueAt?new Date(d.dueAt).toISOString():null,course:parseInt(t),templatePdf:d.templatePdf||void 0},P=await vh.createAssignment(parseInt(t),G);e(`/courses/${t}/assignments/${P.id}/outline`)}catch(G){if(console.error("Error creating assignment:",G),G.response?.data){const P=G.response.data,W={};Object.keys(P).forEach(Q=>{Array.isArray(P[Q])?W[Q]=P[Q][0]:W[Q]=P[Q]}),y(W)}}finally{m(!1)}}},H=()=>{e(`/courses/${t}/assignments`)};return r?h.jsx(N,{bg:S,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{color:x,children:"  ..."})}):i||!n?h.jsx(N,{bg:S,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:"gray.500",children:i||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},templateRows:{base:"1fr",md:"1fr"},minH:"100vh",gap:0,alignItems:"stretch",h:"auto",children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},alignSelf:"stretch",children:h.jsx(yt,{courseTitle:n.title,courseSubtitle:`${xi(n.term)} ${n.year}`,courseCode:n.courseCode,instructor:n.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsxs(N,{bg:S,minH:"100vh",p:{base:6,md:8},pb:24,position:"relative",children:[h.jsxs(ee,{align:"stretch",gap:4,mb:8,children:[h.jsx(St,{size:"xl",color:x,fontWeight:"bold",children:" "}),h.jsxs(de,{gap:0,align:"center",children:[h.jsxs(de,{gap:3,align:"center",children:[h.jsx(N,{w:"28px",h:"28px",borderRadius:"full",bg:"blue.500",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"sm",fontWeight:"bold",children:"1"}),h.jsx(V,{color:x,fontWeight:"medium",fontSize:"sm",children:" "})]}),h.jsx(N,{w:"60px",h:"2px",bg:"blue.500",mx:2}),h.jsxs(de,{gap:3,align:"center",children:[h.jsx(N,{w:"28px",h:"28px",borderRadius:"full",bg:"blue.500",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"sm",fontWeight:"bold",children:"2"}),h.jsx(V,{color:x,fontWeight:"medium",fontSize:"sm",children:" "})]})]})]}),h.jsxs(ht,{templateColumns:{base:"1fr",lg:"1fr 2fr"},gap:8,h:"calc(100vh - 200px)",children:[h.jsx(Oe,{children:h.jsx(ee,{align:"stretch",gap:6,h:"full",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{color:x,fontSize:"lg",fontWeight:"medium",children:" "}),h.jsx(ee,{align:"stretch",gap:4,children:Yq.map(G=>h.jsx(N,{p:6,bg:a===G.id?R:k,border:"2px solid",borderColor:a===G.id?_:E,borderRadius:"lg",cursor:G.enabled?"pointer":"not-allowed",opacity:G.enabled?1:.5,_hover:G.enabled?{bg:a===G.id?R:T,transform:"translateY(-2px)",boxShadow:"md"}:{},transition:"all 0.2s",onClick:()=>G.enabled&&c(G.id),children:h.jsxs(de,{gap:4,align:"start",children:[h.jsx(N,{p:3,bg:a===G.id?"blue.500":"gray.100",color:a===G.id?"white":"gray.600",borderRadius:"lg",children:h.jsx(ye,{as:G.icon,boxSize:6})}),h.jsxs(ee,{align:"start",gap:2,flex:1,children:[h.jsx(St,{size:"md",color:x,children:G.name}),h.jsx(V,{color:C,fontSize:"sm",children:G.description})]})]})},G.id))})]})})}),h.jsx(Oe,{children:a==="homework"&&h.jsx(N,{width:"70%",bg:O,borderRadius:"lg",border:"1px",borderColor:I,p:6,overflowY:"auto",pb:20,boxShadow:"sm",children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontWeight:"medium",color:x,children:"  *"}),h.jsx(Yt,{value:d.title,onChange:G=>$("title",G.target.value),placeholder:"    ",color:x,size:"sm",fontSize:"sm",bg:M,border:"1px solid",borderColor:L,borderRadius:"md",_placeholder:{pr:2,fontSize:"sm"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"}}),b.title&&h.jsx(V,{color:"red.500",fontSize:"sm",children:b.title})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontWeight:"medium",color:x,children:"  *"}),h.jsx(Yt,{type:"number",value:d.totalPoints,onChange:G=>$("totalPoints",parseInt(G.target.value)||0),placeholder:"     ",color:x,size:"sm",fontSize:"sm",bg:M,border:"1px solid",borderColor:L,borderRadius:"md",_placeholder:{pr:2,fontSize:"sm"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},min:"1",step:"0.01"}),b.totalPoints&&h.jsx(V,{color:"red.500",fontSize:"sm",children:b.totalPoints})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontWeight:"medium",color:x,children:"  (PDF) *"}),h.jsx(Yt,{ref:s,type:"file",accept:".pdf",onChange:U,display:"none"}),h.jsx(Se,{onClick:()=>s.current?.click(),variant:"outline",w:"full",justifyContent:"flex-start",size:"sm",fontSize:"sm",bg:M,border:"1px solid",borderColor:L,borderRadius:"md",children:h.jsxs(de,{paddingRight:2,children:[h.jsx(ye,{as:Ss,boxSize:4}),h.jsx(V,{fontSize:"sm",children:d.templatePdf?d.templatePdf.name:"  PDF"})]}),_hover:{bg:"blue.50",borderColor:"blue.300"}}),b.templatePdf&&h.jsx(V,{color:"red.500",fontSize:"sm",children:b.templatePdf})]}),h.jsxs(ee,{align:"stretch",gap:1,children:[h.jsxs(de,{children:[h.jsx("input",{type:"checkbox",checked:d.anonymizedGrading,onChange:G=>$("anonymizedGrading",G.target.checked),style:{transform:"scale(1.2)"}}),h.jsx(V,{fontWeight:"medium",color:x,children:"  "})]}),h.jsx(V,{fontSize:"sm",color:"gray.500",children:"         "})]}),h.jsxs(ee,{align:"stretch",gap:1,children:[h.jsxs(de,{children:[h.jsx("input",{type:"checkbox",checked:d.regradeEnabled,onChange:G=>$("regradeEnabled",G.target.checked),style:{transform:"scale(1.2)"}}),h.jsx(V,{fontWeight:"medium",color:x,children:"  "})]}),h.jsx(V,{fontSize:"sm",color:"gray.500",children:"        "})]}),h.jsxs(ee,{align:"stretch",gap:3,children:[h.jsx(V,{fontWeight:"medium",color:x,children:"  "}),h.jsxs(dx,{direction:"row",gap:8,children:[h.jsxs(de,{children:[h.jsx("input",{type:"radio",name:"uploadByStudent",value:"student",checked:d.uploadByStudent==="student",onChange:G=>$("uploadByStudent",G.target.value),style:{transform:"scale(1.2)"}}),h.jsx(V,{color:x,children:""})]}),h.jsxs(de,{children:[h.jsx("input",{type:"radio",name:"uploadByStudent",value:"instructor",checked:d.uploadByStudent==="instructor",onChange:G=>$("uploadByStudent",G.target.value),style:{transform:"scale(1.2)"}}),h.jsx(V,{color:x,children:""})]})]})]}),d.uploadByStudent==="student"?h.jsx(ee,{align:"stretch",gap:2,children:h.jsx(qq,{label:"  *",value:d.dueAt,onChange:G=>$("dueAt",G),errorMessage:b.dueAt})}):h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontWeight:"medium",color:x,children:" "}),h.jsx(V,{fontSize:"sm",color:"gray.500",bg:"gray.50",p:3,borderRadius:"md",children:"          "})]})]})})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"flex-end",mx:"auto",px:{base:4,md:6},children:[h.jsxs(Se,{paddingLeft:2,variant:"outline",colorScheme:"blue",size:{base:"sm",md:"md"},borderColor:"#4A90E2",color:"#4A90E2",_hover:{bg:"#4A90E2",color:"white"},fontSize:{base:"xs",md:"sm"},onClick:H,disabled:g,children:[h.jsx(ye,{as:Ax,mr:2}),""]}),h.jsx(Se,{padding:2,bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:B,disabled:g||!a,loadingText:"  ...",children:g?"  ...":" "})]})})]})})]})},dr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),ay=[.001,0,0,.001,0,0],hv=1.35,Wr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},hs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Oj="pdfjs_internal_editor_",Ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},jj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ir={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Nd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},uc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xh={ERRORS:0,WARNINGS:1,INFOS:5},Kd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ug={moveTo:0,lineTo:1,curveTo:2,closePath:3},Pj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cm=xh.WARNINGS;function Kq(t){Number.isInteger(t)&&(cm=t)}function Qq(){return cm}function um(t){cm>=xh.INFOS&&console.log(`Info: ${t}`)}function et(t){cm>=xh.WARNINGS&&console.log(`Warning: ${t}`)}function Bt(t){throw new Error(t)}function _n(t,e){t||Bt(e)}function Zq(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zx(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=rY(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return Zq(r)?r:null}function Fx(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&zx(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hl=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class aT extends hl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class fv extends hl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class yp extends hl{constructor(e){super(e,"InvalidPDFException")}}class Qd extends hl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Jq extends hl{constructor(e){super(e,"FormatError")}}class no extends hl{constructor(e){super(e,"AbortException")}}function Nj(t){(typeof t!="object"||t?.length===void 0)&&Bt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Sh(t){typeof t!="string"&&Bt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function eY(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function tY(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function nY(){try{return new Function(""),!0}catch{return!1}}class Vn{static get isLittleEndian(){return pt(this,"isLittleEndian",tY())}static get isEvalSupported(){return pt(this,"isEvalSupported",nY())}static get isOffscreenCanvasSupported(){return pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return pt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return pt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const gv=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class He{static makeHexColor(e,n,r){return`#${gv[e]}${gv[n]}${gv[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],c=n[3],d=n[4],f=n[5];for(let g=0;g<6;g+=2){const m=e[r+g],b=e[r+g+1];e[r+g]=m*i+b*a+d,e[r+g+1]=m*s+b*c+f}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],c=n[3],d=n[4],f=n[5],g=e[0],m=e[1],b=e[2],y=e[3];let S=i*g+d,x=S,C=i*b+d,E=C,k=c*m+f,T=k,R=c*y+f,_=R;if(s!==0||a!==0){const O=s*g,I=s*b,M=a*m,L=a*y;S+=M,E+=M,C+=L,x+=L,k+=O,_+=O,R+=I,T+=I}r[0]=Math.min(r[0],S,C,x,E),r[1]=Math.min(r[1],k,R,T,_),r[2]=Math.max(r[2],S,C,x,E),r[3]=Math.max(r[3],k,R,T,_)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],c=r**2+i**2,d=r*s+i*a,f=s**2+a**2,g=(c+f)/2,m=Math.sqrt(g**2-(c*f-d**2));n[0]=Math.sqrt(g+m||1),n[1]=Math.sqrt(g-m||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static#e(e,n,r,i,s,a,c,d,f,g){if(f<=0||f>=1)return;const m=1-f,b=f*f,y=b*f,S=m*(m*(m*e+3*f*n)+3*b*r)+y*i,x=m*(m*(m*s+3*f*a)+3*b*c)+y*d;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],x),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],x)}static#t(e,n,r,i,s,a,c,d,f,g,m,b){if(Math.abs(f)<1e-12){Math.abs(g)>=1e-12&&this.#e(e,n,r,i,s,a,c,d,-m/g,b);return}const y=g**2-4*m*f;if(y<0)return;const S=Math.sqrt(y),x=2*f;this.#e(e,n,r,i,s,a,c,d,(-g+S)/x,b),this.#e(e,n,r,i,s,a,c,d,(-g-S)/x,b)}static bezierBoundingBox(e,n,r,i,s,a,c,d,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],n,d),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],n,d),this.#t(e,r,s,c,n,i,a,d,3*(-e+3*(r-s)+c),6*(e-2*r+s),3*(r-e),f),this.#t(e,r,s,c,n,i,a,d,3*(-n+3*(i-a)+d),6*(n-2*i+a),3*(i-n),f)}}function rY(t){return decodeURIComponent(escape(t))}let pv=null,lT=null;function Ij(t){return pv||(pv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lT=new Map([["","t"]])),t.replaceAll(pv,(e,n,r)=>n?n.normalize("NFKC"):lT.get(r))}function Bx(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Nj(t)}const Vx="pdfjs_internal_id_";function iY(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let c=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;c=!1;break;default:return!1}for(const d of s)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function sr(t,e,n){return Math.min(Math.max(t,e),n)}function Mj(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Nj(t))}function sY(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Sh(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});const Us="http://www.w3.org/2000/svg";class ol{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Yc(t,e="text"){if(Cd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class wh{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let g,m,b,y;switch(i%=360,i<0&&(i+=360),i){case 180:g=-1,m=0,b=0,y=1;break;case 90:g=0,m=1,b=1,y=0;break;case 270:g=0,m=-1,b=-1,y=0;break;case 0:g=1,m=0,b=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,y=-y);let S,x,C,E;g===0?(S=Math.abs(f-e[1])*r+s,x=Math.abs(d-e[0])*r+a,C=(e[3]-e[1])*r,E=(e[2]-e[0])*r):(S=Math.abs(d-e[0])*r+s,x=Math.abs(f-e[1])*r+a,C=(e[2]-e[0])*r,E=(e[3]-e[1])*r),this.transform=[g*r,m*r,b*r,y*r,S-g*r*d-b*r*f,x-m*r*d-y*r*f],this.width=C,this.height=E}get rawDims(){const e=this.viewBox;return pt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new wh({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return He.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];He.applyTransform(n,this.transform);const r=[e[2],e[3]];return He.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return He.applyInverseTransform(r,this.transform),r}}class dm extends hl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Ch(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function hm(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Dj(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Lj(t,e="document.pdf"){if(typeof t!="string")return e;if(Ch(t))return et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const c=Array.from(r.searchParams.values()).reverse();for(const f of c)if(s.test(f))return i(f);const d=Array.from(r.searchParams.keys()).reverse();for(const f of d)if(s.test(f))return i(f)}if(r.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(d)return i(d[0])}return e}class cT{started=Object.create(null);times=[];time(e){e in this.started&&et(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||et(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Cd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Si(t){t.preventDefault()}function mn(t){t.preventDefault(),t.stopPropagation()}function oY(t){console.log("Deprecated API usage: "+t)}class Hx{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(n[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(n[6],10);d=d>=0&&d<=59?d:0;const f=n[7]||"Z";let g=parseInt(n[8],10);g=g>=0&&g<=23?g:0;let m=parseInt(n[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(a+=g,c+=m):f==="+"&&(a-=g,c-=m),new Date(Date.UTC(r,i,s,a,c,d))}}function zj(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new wh({viewBox:s,userUnit:1,scale:e,rotation:n})}function $x(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(et(`Not a valid color format: "${t}"`),[0,0,0])}function aY(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,$x(r))}e.remove()}function nn(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function is(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function Ko(t,e,n=!1,r=!0){if(e instanceof wh){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,c=Vn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${i}px`,f=`var(--total-scale-factor) * ${s}px`,g=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!n||e.rotation%180===0?(a.width=g,a.height=m):(a.width=m,a.height=g)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Fi{constructor(){const{pixelRatio:e}=Fi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,c=1/0,d=1/0;r=Fi.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(c=i/e,d=i/n);const f=Math.min(a,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const xp=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Id{#e=null;#t=null;#n;#r=null;#s=null;#i=null;static#a=null;constructor(e){this.#n=e,Id.#a||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;e.addEventListener("contextmenu",Si,{signal:n}),e.addEventListener("pointerdown",Id.#o,{signal:n});const r=this.#r=document.createElement("div");r.className="buttons",e.append(r);const i=this.#n.toolbarPosition;if(i){const{style:s}=e,a=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#o(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,mn(e)}#l(e){this.#n._focusEventsAllowed=!0,mn(e)}#h(e){const n=this.#n._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Si,{signal:n})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#n,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",Id.#a[e]),this.#h(r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#r.append(r)}get#u(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#h(n),this.#r.append(n,this.#u),this.#s=e}addColorPicker(e){this.#t=e;const n=e.renderButton();this.#h(n),this.#r.append(n,this.#u)}async addEditSignatureButton(e){const n=this.#i=await e.renderEditButton(this.#n);this.#h(n),this.#r.append(n,this.#u)}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){this.#i&&(this.#i.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class lY{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Si,{signal:this.#n._signal});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i(),e}#s(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const c=s.x+(n?s.width:0);if(a>r){i=c,r=a;continue}n?c>i&&(i=c):c<i&&(i=c)}return[n?1-i:i,r]}show(e,n,r){const[i,s]=this.#s(n,r),{style:a}=this.#t||=this.#r();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=this.#n._signal;e.addEventListener("contextmenu",Si,{signal:r}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(e)}}function Fj(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class cY{#e=0;get id(){return`${Oj}${this.#e++}`}}class Ux{#e=Bx();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return pt(this,"_isSVGFittingCanvas",s)}async#r(e,n){this.#n||=new Map;let r=this.#n.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Yc(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=Ux._isSVGFittingCanvas,a=new FileReader,c=new Image,d=new Promise((f,g)=>{c.onload=()=>{r.bitmap=c,r.isSvg=!0,f()},a.onload=async()=>{const m=r.svgUrl=a.result;c.src=await s?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=a.onerror=g});a.readAsDataURL(i),await d}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){et(i),r=null}return this.#n.set(e,r),r&&this.#n.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return this.#r(`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,n){const r=await n;return this.#r(e,r)}async getFromId(e){this.#n||=new Map;const n=this.#n.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#n||=new Map;let r=this.#n.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,r),this.#n.set(r.id,r),r}getSvgUrl(e){const n=this.#n.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#n||=new Map;const n=this.#n.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class uY{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(i&&e(),this.#t)return;const d={cmd:e,undo:n,post:r,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(d);return}if(a&&this.#e[this.#r].type===s){c&&(d.undo=this.#e[this.#r].undo),this.#e[this.#r]=d;return}const f=this.#r+1;f===this.#n?this.#e.splice(0,1):(this.#r=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#r];e(),n?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#r];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let n=this.#r;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#r-n),this.#r=n;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Eh{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Vn.platform;for(const[r,i,s={}]of e)for(const a of r){const c=a.startsWith("mac+");n&&c?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!c&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:c=null}}=r;c&&!c(e,n)||(i.bind(e,...a,n)(),s||mn(n))}}class Wx{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return aY(e),pt(this,"_colors",e)}convert(e){const n=$x(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return Wx._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?He.makeHexColor(...n):e}}class ro{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#s=null;#i=null;#a=null;#o=new uY;#d=null;#l=null;#h=0;#u=new Set;#f=null;#g=null;#p=new Set;_editorUndoBar=null;#c=!1;#m=!1;#b=!1;#v=null;#x=null;#S=null;#w=null;#A=!1;#T=null;#k=new cY;#C=!1;#R=!1;#_=null;#j=null;#P=null;#N=null;#B=null;#E=Ze.NONE;#y=new Set;#L=null;#z=null;#$=null;#U=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#I=null;#M=null;#H=null;#X=null;#D=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ro.prototype,n=a=>a.#M.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return pt(this,"_keyboardManager",new Eh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&a.#M.contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&a.#M.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,r,i,s,a,c,d,f,g,m,b,y,S,x){const C=this._signal=this.#e.signal;this.#M=e,this.#H=n,this.#X=r,this.#s=i,this.#z=s,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:C}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),a._on("setpreference",this.onSetPreference.bind(this),{signal:C}),a._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:C}),this.#ie(),this.#le(),this.#Q(),this.#i=c.annotationStorage,this.#v=c.filterFactory,this.#$=d,this.#w=f||null,this.#c=g,this.#m=m,this.#b=b,this.#B=y||null,this.viewParameters={realScale:ol.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#D?.resolve(),this.#D=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#r.values())e.destroy();this.#r.clear(),this.#n.clear(),this.#p.clear(),this.#N?.clear(),this.#t=null,this.#y.clear(),this.#o.destroy(),this.#s?.destroy(),this.#z?.destroy(),this.#T?.hide(),this.#T=null,this.#P?.destroy(),this.#P=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return pt(this,"hcmFilter",this.#$?this.#v.addHCMFilter(this.#$.foreground,this.#$.background):"none")}get direction(){return pt(this,"direction",getComputedStyle(this.#M).direction)}get highlightColors(){return pt(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=e}setMainHighlightColorPicker(e){this.#P=e}editAltText(e,n=!1){this.#s?.editAltText(this,e,n)}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=n;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#M.focus()}findParent(e,n){for(const r of this.#r.values()){const{x:i,y:s,width:a,height:c}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+c)return r}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ol.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#K(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#r.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=n,c=n.toString(),f=this.#q(n).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;n.empty();const m=this.#K(f),b=this.#E===Ze.NONE,y=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Ze.HIGHLIGHT,y);return}y()}#ne(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#T||=new lY(this),this.#T.show(r,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#X;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#re(){const e=document.getSelection();if(!e||e.isCollapsed){this.#L&&(this.#T?.hide(),this.#L=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#L)return;const i=this.#q(e).closest(".textLayer");if(!i){this.#L&&(this.#T?.hide(),this.#L=null,this.#O({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#L=n,this.#O({hasSelectedText:!0}),!(this.#E!==Ze.HIGHLIGHT&&this.#E!==Ze.NONE)&&(this.#E===Ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#E===Ze.HIGHLIGHT?this.#K(i):null;s?.toggleDrawing();const a=new AbortController,c=this.combinedSignal(a),d=f=>{f.type==="pointerup"&&f.button!==0||(a.abort(),s?.toggleDrawing(!0),f.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}}#Y(e=""){this.#E===Ze.HIGHLIGHT?this.highlightSelection(e):this.#c&&this.#ne()}#ie(){document.addEventListener("selectionchange",this.#re.bind(this),{signal:this._signal})}#se(){if(this.#S)return;this.#S=new AbortController;const e=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#oe(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#y)if(n.div.contains(e)){this.#j=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#j)return;const[e,n]=this.#j;this.#j=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Q(){if(this.#_)return;this.#_=new AbortController;const e=this.combinedSignal(this.#_);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ae(){this.#_?.abort(),this.#_=null}#Z(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#J(){this.#d?.abort(),this.#d=null}#le(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ae(),this.#J()}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#g)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#g)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#y){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of this.#g)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){et(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const d of r){const f=await i.deserialize(d);if(!f)return;s.push(f)}const a=()=>{for(const d of s)this.#ee(d);this.#te(s)},c=()=>{for(const d of s)d.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(s){et(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Ze.NONE&&!this.isEditorHandlingKeyboard&&ro._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#O(e){Object.entries(e).some(([r,i])=>this.#W[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#E===Ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#F([[mt.HIGHLIGHT_FREE,!0]]))}#F(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#se(),this.#Z(),this.#O({isEditing:this.#E!==Ze.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#oe(),this.#J(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#g){this.#g=e;for(const n of this.#g)this.#F(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#r.get(this.#h)}getLayer(e){return this.#r.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#r.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#r.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1){if(this.#E!==e&&!(this.#D&&(await this.#D.promise,!this.#D))){if(this.#D=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=e,e===Ze.NONE){this.setEditingState(!1),this.#ue(),this._editorUndoBar?.hide(),this.#D.resolve();return}e===Ze.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ce(),this.unselectAll();for(const s of this.#r.values())s.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),this.#D.resolve();return}for(const s of this.#n.values())s.annotationElementId===n||s.id===n?(this.setSelected(s),i&&s.enterInEditMode()):s.unselect();this.#D.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#g){switch(e){case mt.CREATE:this.currentLayer.addNewEditor(n);return;case mt.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(n);break;case mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#U||=new Map).set(e,n),this.showAllEditors("highlight",n);break}for(const r of this.#y)r.updateParams(e,n);for(const r of this.#g)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#U?.get(mt.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#F([[mt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#R!==e){this.#R=e;for(const n of this.#r.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#ce(){if(!this.#C){this.#C=!0;const e=[];for(const n of this.#r.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#ue(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#r.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const n=[];for(const r of this.#n.values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#N?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ee(e){const n=this.#r.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#F(e.propertiesToUpdate))}get#de(){let e=null;for(e of this.#y);return e}updateUI(e){this.#de===e&&this.#F(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#F(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#y.has(e)){this.#y.delete(e),e.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#y.add(e),e.select(),this.#F(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#l?.commitOrRemove();for(const n of this.#y)n!==e&&n.unselect();this.#y.clear(),this.#y.add(e),e.select(),this.#F(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(e){return this.#y.has(e)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(e){e.unselect(),this.#y.delete(e),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#O({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(e){this.#o.add(e),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}cleanUndoStack(e){this.#o.cleanType(e)}#G(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#y],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const s of n)this.#ee(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#te(e){for(const n of this.#y)n.unselect();this.#y.clear();for(const n of e)n.isEmpty()||(this.#y.add(n),n.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#y)e.commit();this.#te(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Ze.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const e of this.#y)e.unselect();this.#y.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=e,this.#V[1]+=n;const[i,s]=this.#V,a=[...this.#y],c=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of a)this.#n.has(d.id)&&(d.translateInPage(i,s),d.translationDone())},undo:()=>{for(const d of a)this.#n.has(d.id)&&(d.translateInPage(-i,-s),d.translationDone())},mustExec:!1})},c);for(const d of a)d.translateInPage(e,n),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#y)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let n=!1;for(const[{x:i,y:s,pageIndex:a},c]of e)c.newX=i,c.newY=s,c.newPageIndex=a,n||=i!==c.savedX||s!==c.savedY||a!==c.savedPageIndex;if(!n)return!1;const r=(i,s,a,c)=>{if(this.#n.has(i.id)){const d=this.#r.get(c);d?i._setParentAndPosition(d,s,a):(i.pageIndex=c,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:c}]of e)r(i,s,a,c)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:c}]of e)r(i,s,a,c)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#f)for(const r of this.#f.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return pt(this,"imageManager",new Ux)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let f=0,g=n.rangeCount;f<g;f++)if(!e.contains(n.getRangeAt(f).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,g,m,b)=>({x:(g-i)/a,y:1-(f+m-r)/s,width:b/a,height:m/s});break;case"180":c=(f,g,m,b)=>({x:1-(f+m-r)/s,y:1-(g+b-i)/a,width:m/s,height:b/a});break;case"270":c=(f,g,m,b)=>({x:1-(g+b-i)/a,y:(f-r)/s,width:b/a,height:m/s});break;default:c=(f,g,m,b)=>({x:(f-r)/s,y:(g-i)/a,width:m/s,height:b/a});break}const d=[];for(let f=0,g=n.rangeCount;f<g;f++){const m=n.getRangeAt(f);if(!m.collapsed)for(const{x:b,y,width:S,height:x}of m.getClientRects())S===0||x===0||d.push(c(b,y,S,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#a||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const n=this.#a?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#E===Ze.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#N?.get(e);i&&(i.setCanvas(n,r),this.#N.delete(e))}addMissingCanvas(e,n){(this.#N||=new Map).set(e,n)}}class as{#e=null;#t=!1;#n=null;#r=null;#s=null;#i=null;#a=!1;#o=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,as.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){as._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#r=document.createElement("span");e.append(n),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",as.#f.missing),n.setAttribute("data-l10n-id",as.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#d._uiManager._signal;e.addEventListener("contextmenu",Si,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#a=!0,i(s))},{signal:r}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await as._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#d.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",as.#f[this.#g]),this.#r?.setAttribute("data-l10n-id",as.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#d.id}`;const i=100,s=this.#d._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#d.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Ah{#e;#t=!1;#n=null;#r;#s;#i;#a;#o=null;#d;#l=null;#h;#u=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:c}){this.#e=e,this.#n=r,this.#r=n,this.#s=i,this.#i=s,this.#a=a,this.#h=new AbortController,this.#d=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Fi.pixelRatio}#f(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#d,i.signal]),a=this.#e,c={capture:!0,signal:s,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(mn(f),d(f))},c),a.addEventListener("pointerup",d,c),a.addEventListener("pointercancel",d,c);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#d,this.#u.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const c=this.#p.bind(this);s.addEventListener("touchend",c,a),s.addEventListener("touchcancel",c,a),a.capture=!0,s.addEventListener("pointerdown",mn,a),s.addEventListener("pointermove",mn,a),s.addEventListener("pointercancel",mn,a),s.addEventListener("pointerup",mn,a),this.#s?.()}if(mn(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;mn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:c}=r,d=this.#l,{touch0X:f,touch0Y:g,touch1X:m,touch1Y:b}=d,y=m-f,S=b-g,x=a-i,C=c-s,E=Math.hypot(x,C)||1,k=Math.hypot(y,S)||1;if(!this.#t&&Math.abs(k-E)<=Ah.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=i,d.touch0Y=s,d.touch1X=a,d.touch1Y=c,!this.#t){this.#t=!0;return}const T=[(i+a)/2,(s+c)/2];this.#i?.(T,k,E)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#a?.()),this.#l&&(mn(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class $e{#e=null;#t=null;#n=null;#r=!1;#s=null;#i="";#a=!1;#o=null;#d=null;#l=null;#h=null;#u="";#f=!1;#g=null;#p=!1;#c=!1;#m=!1;#b=null;#v=0;#x=0;#S=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#T=$e._zIndex++;static _borderLineWidth=-1;static _colorManager=new Wx;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=$e.prototype._resizeWithKeyboard,n=ro.TRANSLATE_SMALL,r=ro.TRANSLATE_BIG;return pt(this,"_resizerKeyboardManager",new Eh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],$e.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new dY({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if($e._l10n??=e,$e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),$e._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);$e._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Bt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(e){this.#A=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#H(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#g||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#g||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:c}=this;const[d,f]=this.getBaseTranslation();a+=d,c+=f;const{style:g}=r;g.left=`${(100*a).toFixed(2)}%`,g.top=`${(100*c).toFixed(2)}%`,this._onTranslating(a,c),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#g&&(this.#g[0]!==this.x||this.#g[1]!==this.y)}get _hasBeenResized(){return!!this.#g&&(this.#g[2]!==this.width||this.#g[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=$e,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:c,height:d}=this;if(c*=r,d*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=sr(s,0,r-c),a=sr(a,0,i-d);break;case 90:s=sr(s,0,r-d),a=sr(a,c,i);break;case 180:s=sr(s,c,r),a=sr(a,d,i);break;case 270:s=sr(s,d,r),a=sr(a,0,i-c);break}this.x=s/=r,this.y=a/=i;const[f,g]=this.getBaseTranslation();s+=f,a+=g,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#C(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return $e.#C(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return $e.#C(e,n,360-this.parentRotation)}#R(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,this.#a||(s.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),s=!this.#a&&n.endsWith("%");if(i&&s)return;const[a,c]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!this.#a&&!s&&(e.height=`${(100*parseFloat(n)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#_(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#o.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#j.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Si,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#o)}#j(e,n){n.preventDefault();const{isMac:r}=Vn.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#d=[n.screenX,n.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",mn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Si,{signal:a}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",f,{signal:a}),window.addEventListener("blur",f,{signal:a})}#P(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n;const[s,a]=this.parentDimensions;this.setDims(s*r,a*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#l)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#l;this.#l=null;const s=this.x,a=this.y,c=this.width,d=this.height;s===e&&a===n&&c===r&&d===i||this.addCommands({cmd:this.#P.bind(this,s,a,c,d),undo:this.#P.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#B(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,c=this.width,d=this.height,f=$e.MIN_SIZE/r,g=$e.MIN_SIZE/i,m=this.#R(this.rotation),b=(P,W)=>[m[0]*P+m[2]*W,m[1]*P+m[3]*W],y=this.#R(360-this.rotation),S=(P,W)=>[y[0]*P+y[2]*W,y[1]*P+y[3]*W];let x,C,E=!1,k=!1;switch(e){case"topLeft":E=!0,x=(P,W)=>[0,0],C=(P,W)=>[P,W];break;case"topMiddle":x=(P,W)=>[P/2,0],C=(P,W)=>[P/2,W];break;case"topRight":E=!0,x=(P,W)=>[P,0],C=(P,W)=>[0,W];break;case"middleRight":k=!0,x=(P,W)=>[P,W/2],C=(P,W)=>[0,W/2];break;case"bottomRight":E=!0,x=(P,W)=>[P,W],C=(P,W)=>[0,0];break;case"bottomMiddle":x=(P,W)=>[P/2,W],C=(P,W)=>[P/2,0];break;case"bottomLeft":E=!0,x=(P,W)=>[0,W],C=(P,W)=>[P,0];break;case"middleLeft":k=!0,x=(P,W)=>[0,W/2],C=(P,W)=>[P,W/2];break}const T=x(c,d),R=C(c,d);let _=b(...R);const O=$e._round(s+_[0]),I=$e._round(a+_[1]);let M=1,L=1,$,U;if(n.fromKeyboard)({deltaX:$,deltaY:U}=n);else{const{screenX:P,screenY:W}=n,[Q,se]=this.#d;[$,U]=this.screenToPageTranslation(P-Q,W-se),this.#d[0]=P,this.#d[1]=W}if([$,U]=S($/r,U/i),E){const P=Math.hypot(c,d);M=L=Math.max(Math.min(Math.hypot(R[0]-T[0]-$,R[1]-T[1]-U)/P,1/c,1/d),f/c,g/d)}else k?M=sr(Math.abs(R[0]-T[0]-$),f,1)/c:L=sr(Math.abs(R[1]-T[1]-U),g,1)/d;const D=$e._round(c*M),B=$e._round(d*L);_=b(...C(D,B));const H=O-_[0],G=I-_[1];this.#g||=[this.x,this.y,this.width,this.height],this.width=D,this.height=B,this.x=H,this.y=G,this.setDims(r*D,i*B),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new Id(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(as.initialize($e._l10n),this.#n=new as(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Fj(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new Ah({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#y.bind(this),onPinchEnd:this.#L.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#y(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=this.#R(this.rotation),c=(O,I)=>[a[0]*O+a[2]*I,a[1]*O+a[3]*I],[d,f]=this.parentDimensions,g=this.x,m=this.y,b=this.width,y=this.height,S=$e.MIN_SIZE/d,x=$e.MIN_SIZE/f;s=Math.max(Math.min(s,1/b,1/y),S/b,x/y);const C=$e._round(b*s),E=$e._round(y*s);if(C===b&&E===y)return;this.#g||=[g,m,b,y];const k=c(b/2,y/2),T=$e._round(g+k[0]),R=$e._round(m+k[1]),_=c(C/2,E/2);this.x=T-_[0],this.y=R-_[1],this.width=C,this.height=E,this.setDims(d*C,f*E),this.fixAndSetPosition(),this._onResizing()}#L(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(e){const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#$(e);return}this.#z(e)}#z(e){const{isMac:n}=Vn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#$(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},c=f=>{i.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#z(f),r&&this._onStopDragging()};n&&(this.#v=e.clientX,this.#x=e.clientY,this.#s=e.pointerId,this.#i=e.pointerType,window.addEventListener("pointermove",f=>{r||(r=!0,this._onStartDragging());const{clientX:g,clientY:m,pointerId:b}=f;if(b!==this.#s){mn(f);return}const[y,S]=this.screenToPageTranslation(g-this.#v,m-this.#x);this.#v=g,this.#x=m,this._uiManager.dragSelectedEditors(y,S)},a),window.addEventListener("touchmove",mn,a),window.addEventListener("pointerdown",f=>{f.pointerType===this.#i&&(this.#w||f.isPrimary)&&c(f),mn(f)},a));const d=f=>{if(!this.#s||this.#s===f.pointerId){c(f);return}mn(f)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[c,d]=this.pageTranslation,f=e/i,g=n/i,m=this.x*s,b=this.y*a,y=this.width*s,S=this.height*a;switch(r){case 0:return[m+f+c,a-b-g-S+d,m+f+y+c,a-b-g+d];case 90:return[m+g+c,a-b+f+d,m+g+S+c,a-b+f+y+d];case 180:return[m-f-y+c,a-b+g+d,m-f+c,a-b+g+S+d];case 270:return[m-g-S+c,a-b-f-y+d,m-g+c,a-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,c=s-r,d=a-i;switch(this.rotation){case 0:return[r,n-a,c,d];case 90:return[r,n-i,d,c];case 180:return[s,n-i,c,d];case 270:return[s,n-a,d,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}#U(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){Bt("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[c,d,f,g]=i.getRectInCurrentCoords(e.rect,a);return i.x=c/s,i.y=d/a,i.width=f/s,i.height=g/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#H(),this.removeEditToolbar(),this.#S){for(const e of this.#S.values())clearTimeout(e);this.#S=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#_(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#o.children;if(!this.#t){this.#t=Array.from(n);const a=this.#W.bind(this),c=this.#V.bind(this),d=this._uiManager._signal;for(const f of this.#t){const g=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",a,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#I.bind(this,g),{signal:d}),f.setAttribute("data-l10n-id",$e._l10nResizer[g])}}const r=this.#t[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let c=0;c<i-s;c++)this.#o.append(this.#o.firstChild);else if(s>i)for(let c=0;c<s-i;c++)this.#o.firstChild.before(this.#o.lastChild);let a=0;for(const c of n){const f=this.#t[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",$e._l10nResizer[f])}}this.#M(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#W(e){$e._resizerKeyboardManager.exec(this,e)}#V(e){this.#m&&e.relatedTarget?.parentNode!==this.#o&&this.#H()}#I(e){this.#u=this.#m?e:""}#M(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#m&&this.#B(this.#u,{deltaX:e,deltaY:n,fromKeyboard:!0})}#H(){this.#m=!1,this.#M(-1),this.#N()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){this.#a=!0;const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#S||=new Map;const{action:r}=e;let i=this.#S.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#S.delete(r),this.#S.size===0&&(this.#S=null)},$e._telemetryTimeout),this.#S.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class dY extends $e{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uT=3285377520,fi=4294901760,ss=65535;class Bj{constructor(e){this.h1=e?e&4294967295:uT,this.h2=e?e&4294967295:uT}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let x=0,C=e.length;x<C;x++){const E=e.charCodeAt(x);E<=255?n[r++]=E:(n[r++]=E>>>8,n[r++]=E&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let c=0,d=0,f=this.h1,g=this.h2;const m=3432918353,b=461845907,y=m&ss,S=b&ss;for(let x=0;x<i;x++)x&1?(c=a[x],c=c*m&fi|c*y&ss,c=c<<15|c>>>17,c=c*b&fi|c*S&ss,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=a[x],d=d*m&fi|d*y&ss,d=d<<15|d>>>17,d=d*b&fi|d*S&ss,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(c=0,s){case 3:c^=n[i*4+2]<<16;case 2:c^=n[i*4+1]<<8;case 1:c^=n[i*4],c=c*m&fi|c*y&ss,c=c<<15|c>>>17,c=c*b&fi|c*S&ss,i&1?f^=c:g^=c}this.h1=f,this.h2=g}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&fi|e*36045&ss,n=n*4283543511&fi|((n<<16|e>>>16)*2950163797&fi)>>>16,e^=n>>>1,e=e*444984403&fi|e*60499&ss,n=n*3301882366&fi|((n<<16|e>>>16)*3120437893&fi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const ly=Object.freeze({map:null,hash:"",transfer:void 0});class Gx{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#n.values())if(n instanceof $e)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,n);i&&this.#r(),n instanceof $e&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Vj(this)}get serializable(){if(this.#n.size===0)return ly;const e=new Map,n=new Bj,r=[],i=Object.create(null);let s=!1;for(const[a,c]of this.#n){const d=c instanceof $e?c.serialize(!1,i):c;d&&(e.set(a,d),n.update(`${a}:${JSON.stringify(d)}`),s||=!!d.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:ly}get editorStats(){let e=null;const n=new Map;for(const r of this.#n.values()){if(!(r instanceof $e))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;n.has(s)||n.set(s,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const a=e[s]||=new Map;for(const[c,d]of Object.entries(i)){if(c==="type")continue;let f=a.get(c);f||(f=new Map,a.set(c,f));const g=f.get(d)??0;f.set(d,g+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const n of this.#n.values())!(n instanceof $e)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Vj extends Gx{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Bt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return pt(this,"modifiedIds",{ids:new Set,hash:""})}}class hY{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(_n(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,c=new FontFace(i,s,a);this.addNativeFontFace(c);try{await c.load(),this.#e.add(i),r?.(e)}catch{et(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Bt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw et(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return pt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pt(this,"isSyncFontLoadingSupported",dr||Vn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(_n(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(R,_){return R.charCodeAt(_)<<24|R.charCodeAt(_+1)<<16|R.charCodeAt(_+2)<<8|R.charCodeAt(_+3)&255}function i(R,_,O,I){const M=R.substring(0,_),L=R.substring(_+O);return M+I+L}let s,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function g(R,_){if(++f>30){et("Load test font never loaded."),_();return}if(d.font="30px "+R,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(g.bind(null,R,_))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=i(b,976,m.length,m);const S=16,x=1482184792;let C=r(b,S);for(s=0,a=m.length-3;s<a;s+=4)C=C-x+r(m,s)|0;s<m.length&&(C=C-x+r(m+"XXX",s)|0),b=i(b,S,4,eY(C));const E=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(k);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,m]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=R,T.append(_)}this._document.body.append(T),g(m,()=>{T.remove(),n.complete()})}}class fY{constructor(e,n=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Mj(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){et(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}}function gY(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(dr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pY(t){if(dr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Sh(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function dg(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const cy=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,mY=t=>typeof t=="object"&&typeof t?.name=="string",Hj=iY.bind(null,cy,mY);class bY{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){et("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const hg={DATA:1,ERROR:2},Cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dT(){}function Er(t){if(t instanceof no||t instanceof yp||t instanceof aT||t instanceof Qd||t instanceof fv)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Bt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new no(t.message);case"InvalidPDFException":return new yp(t.message);case"PasswordException":return new aT(t.message,t.code);case"ResponseException":return new Qd(t.message,t.status,t.missing);case"UnknownErrorException":return new fv(t.message,t.details)}return new fv(t.message,t.toString())}class Ed{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===hg.DATA)i.resolve(e.data);else if(e.callback===hg.ERROR)i.reject(Er(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:hg.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:hg.ERROR,callbackId:e.callbackId,reason:Er(a)})});return}if(e.streamId){this.#n(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const g=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:a,targetName:c,action:e,streamId:s,data:n,desiredSize:f.desiredSize},i),g.promise},pull:f=>{const g=Promise.withResolvers();return this.streamControllers[s].pullCall=g,d.postMessage({sourceName:a,targetName:c,stream:Cn.PULL,streamId:s,desiredSize:f.desiredSize}),g.promise},cancel:f=>{_n(f instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[s].cancelCall=g,this.streamControllers[s].isClosed=!0,d.postMessage({sourceName:a,targetName:c,stream:Cn.CANCEL,streamId:s,reason:Er(f)}),g.promise}},r)}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,c=this.actionHandler[e.action],d={enqueue(f,g=1,m){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Cn.ENQUEUE,streamId:n,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Cn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(f){_n(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Cn.ERROR,streamId:n,reason:Er(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[n]=d,Promise.try(c,e.data,d).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Cn.START_COMPLETE,streamId:n,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:Cn.START_COMPLETE,streamId:n,reason:Er(f)})})}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],c=this.streamSinks[n];switch(e.stream){case Cn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Er(e.reason));break;case Cn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Er(e.reason));break;case Cn.PULL:if(!c){s.postMessage({sourceName:r,targetName:i,stream:Cn.PULL_COMPLETE,streamId:n,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||dT).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Cn.PULL_COMPLETE,streamId:n,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:Cn.PULL_COMPLETE,streamId:n,reason:Er(f)})});break;case Cn.ENQUEUE:if(_n(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Cn.CLOSE:if(_n(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#s(a,n);break;case Cn.ERROR:_n(a,"error should have stream controller"),a.controller.error(Er(e.reason)),this.#s(a,n);break;case Cn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Er(e.reason)),this.#s(a,n);break;case Cn.CANCEL:if(!c)break;const d=Er(e.reason);Promise.try(c.onCancel||dT,d).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Cn.CANCEL_COMPLETE,streamId:n,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:Cn.CANCEL_COMPLETE,streamId:n,reason:Er(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#s(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class $j{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Bt("Abstract method `_createCanvas` called.")}}class vY extends $j{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class Uj{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Bt("Abstract method `_fetch` called.")}}class hT extends Uj{async _fetch(e){const n=await Yc(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Sh(n)}}class Wj{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}class yY extends Wj{#e;#t;#n;#r;#s;#i;#a=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#r=e,this.#s=n}get#o(){return this.#t||=new Map}get#d(){return this.#i||=new Map}get#l(){if(!this.#n){const e=this.#s.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#s.createElementNS(Us,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#n=this.#s.createElementNS(Us,"defs"),e.append(r),r.append(this.#n),this.#s.body.append(e)}return this.#n}#h(e){if(e.length===1){const d=e[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const g=f.join(",");return[g,g,g]}const[n,r,i]=e,s=new Array(256),a=new Array(256),c=new Array(256);for(let d=0;d<256;d++)s[d]=n[d]/255,a[d]=r[d]/255,c[d]=i[d]/255;return[s.join(","),a.join(","),c.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const n=this.#s.URL;n!==this.#s.baseURI&&(Ch(n)?et('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Fx(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const c=`g_${this.#r}_transfer_map_${this.#a++}`,d=this.#u(c);this.#o.set(e,d),this.#o.set(a,d);const f=this.#p(c);return this.#m(r,i,s,f),d}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let s=this.#d.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#d.set(i,s)),!e||!n))return s.url;const a=this.#v(e);e=He.makeHexColor(...a);const c=this.#v(n);if(n=He.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const d=new Array(256);for(let y=0;y<=255;y++){const S=y/255;d[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),g=`g_${this.#r}_hcm_filter`,m=s.filter=this.#p(g);this.#m(f,f,f,m),this.#g(m);const b=(y,S)=>{const x=a[y]/255,C=c[y]/255,E=new Array(S+1);for(let k=0;k<=S;k++)E[k]=x+k/S*(C-x);return E.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),m),s.url=this.#u(g),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#r}_alpha_map_${this.#a++}`,a=this.#u(s);this.#o.set(e,a),this.#o.set(i,a);const c=this.#p(s);return this.#b(r,c),a}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#r}_luminosity_map_${this.#a++}`,a=this.#u(s);this.#o.set(e,a),this.#o.set(i,a);const c=this.#p(s);return this.#f(c),e&&this.#b(r,c),a}addHighlightHCMFilter(e,n,r,i,s){const a=`${n}-${r}-${i}-${s}`;let c=this.#d.get(e);if(c?.key===a||(c?(c.filter?.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},this.#d.set(e,c)),!n||!r))return c.url;const[d,f]=[n,r].map(this.#v.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,y]=[i,s].map(this.#v.bind(this));m<g&&([g,m,b,y]=[m,g,y,b]),this.#l.style.color="";const S=(E,k,T)=>{const R=new Array(256),_=(m-g)/T,O=E/255,I=(k-E)/(255*T);let M=0;for(let L=0;L<=T;L++){const $=Math.round(g+L*_),U=O+L*I;for(let D=M;D<=$;D++)R[D]=U;M=$+1}for(let L=M;L<256;L++)R[L]=R[M-1];return R.join(",")},x=`g_${this.#r}_hcm_${e}_filter`,C=c.filter=this.#p(x);return this.#g(C),this.#m(S(b[0],y[0],5),S(b[1],y[1],5),S(b[2],y[2],5),C),c.url=this.#u(x),c.url}destroy(e=!1){e&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#a=0)}#f(e){const n=this.#s.createElementNS(Us,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#s.createElementNS(Us,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#s.createElementNS(Us,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#c(e,n,r){const i=this.#s.createElementNS(Us,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,n,r,i){const s=this.#s.createElementNS(Us,"feComponentTransfer");i.append(s),this.#c(s,"feFuncR",e),this.#c(s,"feFuncG",n),this.#c(s,"feFuncB",r)}#b(e,n){const r=this.#s.createElementNS(Us,"feComponentTransfer");n.append(r),this.#c(r,"feFuncA",e)}#v(e){return this.#l.style.color=e,$x(getComputedStyle(this.#l).getPropertyValue("color"))}}class Gj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Bt("Abstract method `_fetch` called.")}}class fT extends Gj{async _fetch(e){const n=await Yc(e,"arraybuffer");return new Uint8Array(n)}}class qj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Bt("Abstract method `_fetch` called.")}}class gT extends qj{async _fetch(e){const n=await Yc(e,"arraybuffer");return new Uint8Array(n)}}dr&&et("Please use the `legacy` build in Node.js environments.");async function qx(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class xY extends Wj{}class SY extends $j{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class wY extends Uj{async _fetch(e){return qx(e)}}class CY extends Gj{async _fetch(e){return qx(e)}}class EY extends qj{async _fetch(e){return qx(e)}}const Kn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function uy(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class Yx{isModifyingCurrentTransform(){return!1}getPattern(){Bt("Abstract method `getPattern` called.")}}class AY extends Yx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===Kn.STROKE||i===Kn.FILL){const a=n.current.getClippedPathBoundingBox(i,nn(e))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,d=Math.ceil(a[3]-a[1])||1,f=n.cachedCanvases.getCanvas("pattern",c,d),g=f.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-a[0],-a[1]),r=He.transform(r,[1,0,0,1,a[0],a[1]]),g.transform(...n.baseTransform),this.matrix&&g.transform(...this.matrix),uy(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),s=e.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(r);s.setTransform(m)}else uy(e,this._bbox),s=this._createGradient(e);return s}}function mv(t,e,n,r,i,s,a,c){const d=e.coords,f=e.colors,g=t.data,m=t.width*4;let b;d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=s,s=a,a=b),d[r+1]>d[i+1]&&(b=r,r=i,i=b,b=a,a=c,c=b),d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=s,s=a,a=b);const y=(d[n]+e.offsetX)*e.scaleX,S=(d[n+1]+e.offsetY)*e.scaleY,x=(d[r]+e.offsetX)*e.scaleX,C=(d[r+1]+e.offsetY)*e.scaleY,E=(d[i]+e.offsetX)*e.scaleX,k=(d[i+1]+e.offsetY)*e.scaleY;if(S>=k)return;const T=f[s],R=f[s+1],_=f[s+2],O=f[a],I=f[a+1],M=f[a+2],L=f[c],$=f[c+1],U=f[c+2],D=Math.round(S),B=Math.round(k);let H,G,P,W,Q,se,F,Z;for(let fe=D;fe<=B;fe++){if(fe<C){const ge=fe<S?0:(S-fe)/(S-C);H=y-(y-x)*ge,G=T-(T-O)*ge,P=R-(R-I)*ge,W=_-(_-M)*ge}else{let ge;fe>k?ge=1:C===k?ge=0:ge=(C-fe)/(C-k),H=x-(x-E)*ge,G=O-(O-L)*ge,P=I-(I-$)*ge,W=M-(M-U)*ge}let ce;fe<S?ce=0:fe>k?ce=1:ce=(S-fe)/(S-k),Q=y-(y-E)*ce,se=T-(T-L)*ce,F=R-(R-$)*ce,Z=_-(_-U)*ce;const _e=Math.round(Math.min(H,Q)),Ae=Math.round(Math.max(H,Q));let Re=m*fe+_e*4;for(let ge=_e;ge<=Ae;ge++)ce=(H-ge)/(H-Q),ce<0?ce=0:ce>1&&(ce=1),g[Re++]=G-(G-se)*ce|0,g[Re++]=P-(P-F)*ce|0,g[Re++]=W-(W-Z)*ce|0,g[Re++]=255}}function _Y(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(r.length/c)-1,f=c-1;for(s=0;s<d;s++){let g=s*c;for(let m=0;m<f;m++,g++)mv(t,n,r[g],r[g+1],r[g+c],i[g],i[g+1],i[g+c]),mv(t,n,r[g+c+1],r[g+1],r[g+c],i[g+c+1],i[g+1],i[g+c])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)mv(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class TY extends Yx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,g=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),y=f/m,S=g/b,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/y,scaleY:1/S},C=m+4,E=b+4,k=r.getCanvas("mesh",C,E),T=k.context,R=T.createImageData(m,b);if(n){const O=R.data;for(let I=0,M=O.length;I<M;I+=4)O[I]=n[0],O[I+1]=n[1],O[I+2]=n[2],O[I+3]=255}for(const O of this._figures)_Y(R,O,x);return T.putImageData(R,2,2),{canvas:k.canvas,offsetX:c-2*y,offsetY:d-2*S,scaleX:y,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){uy(e,this._bbox);const s=new Float32Array(2);if(i===Kn.SHADING)He.singularValueDecompose2dScale(nn(e),s);else if(this.matrix){He.singularValueDecompose2dScale(this.matrix,s);const[c,d]=s;He.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=c,s[1]*=d}else He.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===Kn.SHADING?null:this._background,n.cachedCanvases);return i!==Kn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class RY extends Yx{getPattern(){return"hotpink"}}function kY(t){switch(t[0]){case"RadialAxial":return new AY(t);case"Mesh":return new TY(t);case"Dummy":return new RY}throw new Error(`Unknown IR type: ${t[0]}`)}const pT={COLORED:1,UNCOLORED:2};class Xx{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),um("TilingType: "+s);const g=n[0],m=n[1],b=n[2],y=n[3],S=b-g,x=y-m,C=new Float32Array(2);He.singularValueDecompose2dScale(this.matrix,C);const[E,k]=C;He.singularValueDecompose2dScale(this.baseTransform,C);const T=E*C[0],R=k*C[1];let _=S,O=x,I=!1,M=!1;const L=Math.ceil(d*T),$=Math.ceil(f*R),U=Math.ceil(S*T),D=Math.ceil(x*R);L>=U?_=d:I=!0,$>=D?O=f:M=!0;const B=this.getSizeAndScale(_,this.ctx.canvas.width,T),H=this.getSizeAndScale(O,this.ctx.canvas.height,R),G=e.cachedCanvases.getCanvas("pattern",B.size,H.size),P=G.context,W=c.createCanvasGraphics(P);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,i,a),P.translate(-B.scale*g,-H.scale*m),W.transform(B.scale,0,0,H.scale,0,0),P.save(),this.clipBbox(W,g,m,b,y),W.baseTransform=nn(W.ctx),W.executeOperatorList(r),W.endDrawing(),P.restore(),I||M){const Q=G.canvas;I&&(_=d),M&&(O=f);const se=this.getSizeAndScale(_,this.ctx.canvas.width,T),F=this.getSizeAndScale(O,this.ctx.canvas.height,R),Z=se.size,fe=F.size,ce=e.cachedCanvases.getCanvas("pattern-workaround",Z,fe),_e=ce.context,Ae=I?Math.floor(S/d):0,Re=M?Math.floor(x/f):0;for(let ge=0;ge<=Ae;ge++)for(let ue=0;ue<=Re;ue++)_e.drawImage(Q,Z*ge,fe*ue,Z,fe,0,0,Z,fe);return{canvas:ce.canvas,scaleX:se.scale,scaleY:F.scale,offsetX:g,offsetY:m}}return{canvas:G.canvas,scaleX:B.scale,scaleY:H.scale,offsetX:g,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(Xx.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,c=s-r;e.ctx.rect(n,r,a,c),He.axialAlignedBoundingBox([n,r,i,s],nn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case pT.COLORED:const{fillStyle:a,strokeStyle:c}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=c;break;case pT.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Jq(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i){let s=r;i!==Kn.SHADING&&(s=He.transform(s,n.baseTransform),this.matrix&&(s=He.transform(s,this.matrix)));const a=this.createPatternCanvas(n);let c=new DOMMatrix(s);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const d=e.createPattern(a.canvas,"repeat");return d.setTransform(c),d}}function OY({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const c=Vn.isLittleEndian?4278190080:255,[d,f]=a?[s,c]:[c,s],g=r>>3,m=r&7,b=t.length;n=new Uint32Array(n.buffer);let y=0;for(let S=0;S<i;S++){for(const C=e+g;e<C;e++){const E=e<b?t[e]:255;n[y++]=E&128?f:d,n[y++]=E&64?f:d,n[y++]=E&32?f:d,n[y++]=E&16?f:d,n[y++]=E&8?f:d,n[y++]=E&4?f:d,n[y++]=E&2?f:d,n[y++]=E&1?f:d}if(m===0)continue;const x=e<b?t[e++]:255;for(let C=0;C<m;C++)n[y++]=x&1<<7-C?f:d}return{srcPos:e,destPos:y}}const mT=16,bT=100,jY=15,vT=10,Ar=16,bv=new DOMMatrix,Xr=new Float32Array(2),pc=new Float32Array([1/0,1/0,-1/0,-1/0]);function PY(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,c){e.transform(n,r,i,s,a,c),this.__originalTransform(n,r,i,s,a,c)},t.setTransform=function(n,r,i,s,a,c){e.setTransform(n,r,i,s,a,c),this.__originalSetTransform(n,r,i,s,a,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,c){e.bezierCurveTo(n,r,i,s,a,c),this.__originalBezierCurveTo(n,r,i,s,a,c)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class NY{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function fg(t,e,n,r,i,s,a,c,d,f){const[g,m,b,y,S,x]=nn(t);if(m===0&&b===0){const k=a*g+S,T=Math.round(k),R=c*y+x,_=Math.round(R),O=(a+d)*g+S,I=Math.abs(Math.round(O)-T)||1,M=(c+f)*y+x,L=Math.abs(Math.round(M)-_)||1;return t.setTransform(Math.sign(g),0,0,Math.sign(y),T,_),t.drawImage(e,n,r,i,s,0,0,I,L),t.setTransform(g,m,b,y,S,x),[I,L]}if(g===0&&y===0){const k=c*b+S,T=Math.round(k),R=a*m+x,_=Math.round(R),O=(c+f)*b+S,I=Math.abs(Math.round(O)-T)||1,M=(a+d)*m+x,L=Math.abs(Math.round(M)-_)||1;return t.setTransform(0,Math.sign(m),Math.sign(b),0,T,_),t.drawImage(e,n,r,i,s,0,0,L,I),t.setTransform(g,m,b,y,S,x),[L,I]}t.drawImage(e,n,r,i,s,a,c,d,f);const C=Math.hypot(g,m),E=Math.hypot(b,y);return[C*d,E*f]}class yT{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=ay;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=ir.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n){this.clipBox=new Float32Array([0,0,e,n]),this.minMax=pc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Kn.FILL,n=null){const r=this.minMax.slice();if(e===Kn.STROKE){n||Bt("Stroke bounding box must include transform."),He.singularValueDecompose2dScale(n,Xr);const i=Xr[0]*this.lineWidth/2,s=Xr[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(pc,0)}getClippedPathBoundingBox(e=Kn.FILL,n=null){return He.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function xT(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Ar,s=(n-i)/Ar,a=i===0?s:s+1,c=t.createImageData(r,Ar);let d=0,f;const g=e.data,m=c.data;let b,y,S,x;if(e.kind===Nd.GRAYSCALE_1BPP){const C=g.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),k=E.length,T=r+7>>3,R=4294967295,_=Vn.isLittleEndian?4278190080:255;for(b=0;b<a;b++){for(S=b<s?Ar:i,f=0,y=0;y<S;y++){const O=C-d;let I=0;const M=O>T?r:O*8-7,L=M&-8;let $=0,U=0;for(;I<L;I+=8)U=g[d++],E[f++]=U&128?R:_,E[f++]=U&64?R:_,E[f++]=U&32?R:_,E[f++]=U&16?R:_,E[f++]=U&8?R:_,E[f++]=U&4?R:_,E[f++]=U&2?R:_,E[f++]=U&1?R:_;for(;I<M;I++)$===0&&(U=g[d++],$=128),E[f++]=U&$?R:_,$>>=1}for(;f<k;)E[f++]=0;t.putImageData(c,0,b*Ar)}}else if(e.kind===Nd.RGBA_32BPP){for(y=0,x=r*Ar*4,b=0;b<s;b++)m.set(g.subarray(d,d+x)),d+=x,t.putImageData(c,0,y),y+=Ar;b<a&&(x=r*i*4,m.set(g.subarray(d,d+x)),t.putImageData(c,0,y))}else if(e.kind===Nd.RGB_24BPP)for(S=Ar,x=r*S,b=0;b<a;b++){for(b>=s&&(S=i,x=r*S),f=0,y=x;y--;)m[f++]=g[d++],m[f++]=g[d++],m[f++]=g[d++],m[f++]=255;t.putImageData(c,0,b*Ar)}else throw new Error(`bad image kind: ${e.kind}`)}function ST(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Ar,s=(n-i)/Ar,a=i===0?s:s+1,c=t.createImageData(r,Ar);let d=0;const f=e.data,g=c.data;for(let m=0;m<a;m++){const b=m<s?Ar:i;({srcPos:d}=OY({src:f,srcPos:d,dest:g,width:r,height:b,nonBlackColor:0})),t.putImageData(c,0,m*Ar)}}function ud(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function gg(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function wT(t,e){if(e)return!0;He.singularValueDecompose2dScale(t,Xr);const n=Math.fround(Fi.pixelRatio*ol.PDF_TO_CSS_UNITS);return Xr[0]<=n&&Xr[1]<=n}const IY=["butt","round","square"],MY=["miter","round","bevel"],DY={},CT={};class Cc{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:c=null},d,f){this.ctx=e,this.current=new yT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new NY(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=c,r){const d=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...nn(this.compositeCtx))}this.ctx.save(),gg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=nn(this.ctx)}executeOperatorList(e,n,r,i){const s=e.argsArray,a=e.fnArray;let c=n||0;const d=s.length;if(d===c)return c;const f=d-c>vT&&typeof r=="function",g=f?Date.now()+jY:0;let m=0;const b=this.commonObjs,y=this.objs;let S;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(S=a[c],S!==Kd.dependency)this[S].apply(this,s[c]);else for(const x of s[c]){const C=x.startsWith("g_")?b:y;if(!C.has(x))return C.get(x,r),c}if(c++,c===d)return c;if(f&&++m>vT){if(Date.now()>g)return r(),c;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),c=r,d=i,f="prescale1",g,m;for(;s>2&&c>1||a>2&&d>1;){let b=c,y=d;s>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/b),a>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,a/=d/y),g=this.cachedCanvases.getCanvas(f,b,y),m=g.context,m.clearRect(0,0,b,y),m.drawImage(e,0,0,c,d,0,0,b,y),e=g.canvas,c=b,d=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,c=nn(n);let d,f,g,m;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;f=JSON.stringify(a?c:[c.slice(0,4),s]),d=this._cachedBitmapsMap.get(L),d||(d=new Map,this._cachedBitmapsMap.set(L,d));const $=d.get(f);if($&&!a){const U=Math.round(Math.min(c[0],c[2])+c[4]),D=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:$,offsetX:U,offsetY:D}}g=$}g||(m=this.cachedCanvases.getCanvas("maskCanvas",r,i),ST(m.context,e));let b=He.transform(c,[1/r,0,0,-1/i,0,0]);b=He.transform(b,[1,0,0,1,0,-i]);const y=pc.slice();He.axialAlignedBoundingBox([0,0,r,i],b,y);const[S,x,C,E]=y,k=Math.round(C-S)||1,T=Math.round(E-x)||1,R=this.cachedCanvases.getCanvas("fillCanvas",k,T),_=R.context,O=S,I=x;_.translate(-O,-I),_.transform(...b),g||(g=this._scaleImage(m.canvas,is(_)),g=g.img,d&&a&&d.set(f,g)),_.imageSmoothingEnabled=wT(nn(_),e.interpolate),fg(_,g,0,0,g.width,g.height,0,0,r,i),_.globalCompositeOperation="source-in";const M=He.transform(is(_),[1,0,0,1,-O,-I]);return _.fillStyle=a?s.getPattern(n,this,M,Kn.FILL):s,_.fillRect(0,0,r,i),d&&!a&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,R.canvas)),{canvas:R.canvas,offsetX:Math.round(O),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=IY[e]}setLineJoin(e){this.ctx.lineJoin=MY[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),ud(this.suspendedCtx,s),PY(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ud(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],c=i[2]-s,d=i[3]-a;c===0||d===0||(this.genericComposeSMask(n.context,r,c,d,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,c,d,f,g,m){let b=e.canvas,y=d-g,S=f-m;if(a)if(y<0||S<0||y+r>b.width||S+i>b.height){const C=this.cachedCanvases.getCanvas("maskExtension",r,i),E=C.context;E.drawImage(b,-y,-S),E.globalCompositeOperation="destination-atop",E.fillStyle=a,E.fillRect(0,0,r,i),E.globalCompositeOperation="source-over",b=C.canvas,y=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(y,S,r,i),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(y,S,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?n.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(d,f,r,i),n.clip(x),n.globalCompositeOperation="destination-in",n.drawImage(b,y,S,r,i,d,f,r,i),n.restore()}save(){this.inSMaskMode&&ud(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ud(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a){this.ctx.transform(e,n,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){let[i]=n;if(!r){i||=n[0]=new Path2D,this[e](i);return}if(!(i instanceof Path2D)){const s=n[0]=new Path2D;for(let a=0,c=i.length;a<c;)switch(i[a++]){case ug.moveTo:s.moveTo(i[a++],i[a++]);break;case ug.lineTo:s.lineTo(i[a++],i[a++]);break;case ug.curveTo:s.bezierCurveTo(i[a++],i[a++],i[a++],i[a++],i[a++],i[a++]);break;case ug.closePath:s.closePath();break;default:et(`Unrecognized drawing path operator: ${i[a-1]}`);break}i=s}He.axialAlignedBoundingBox(r,nn(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,n=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&i?.getPattern){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,is(r),Kn.STROKE),s){const a=new Path2D;a.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=a}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);n&&this.consumePath(e,this.current.getClippedPathBoundingBox(Kn.STROKE,nn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,n=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const d=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,is(r),Kn.FILL),d){const f=new Path2D;f.addPath(e,r.getTransform().invertSelf().multiplySelf(d)),e=f}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),a&&r.restore(),n&&this.consumePath(e,c)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=DY}eoClip(){this.pendingClip=CT}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0)return;const r=new Path2D,i=n.getTransform().invertSelf();for(const{transform:s,x:a,y:c,fontSize:d,path:f}of e)r.addPath(f,new DOMMatrix(s).preMultiplySelf(i).translate(a,c).scale(d,-d));n.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||ay,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&et("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=r.systemFontInfo?.css||`"${s}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let f=n;n<mT?f=mT:n>bT&&(f=bT),this.current.fontSizeScale=n/f,this.ctx.font=`${d} ${c} ${f}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e){const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,s){const a=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=f&ir.FILL_STROKE_MASK,b=!!(f&ir.ADD_TO_PATH_FLAG),y=c.patternFill&&!d.missingFile,S=c.patternStroke&&!d.missingFile;let x;if((d.disableFontFace||b||y||S)&&(x=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||y||S){a.save(),a.translate(n,r),a.scale(g,-g);let C;if((m===ir.FILL||m===ir.FILL_STROKE)&&(i?(C=a.getTransform(),a.setTransform(...i),a.fill(this.#n(x,C,i))):a.fill(x)),m===ir.STROKE||m===ir.FILL_STROKE)if(s){C||=a.getTransform(),a.setTransform(...s);const{a:E,b:k,c:T,d:R}=C,_=He.inverseTransform(s),O=He.transform([E,k,T,R,0,0],_);He.singularValueDecompose2dScale(O,Xr),a.lineWidth*=Math.max(Xr[0],Xr[1])/g,a.stroke(this.#n(x,C,s))}else a.lineWidth/=g,a.stroke(x);a.restore()}else(m===ir.FILL||m===ir.FILL_STROKE)&&a.fillText(e,n,r),(m===ir.STROKE||m===ir.FILL_STROKE)&&a.strokeText(e,n,r);b&&(this.pendingTextPaths||=[]).push({transform:nn(a),x:n,y:r,fontSize:g,path:x})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return pt(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const s=this.ctx,a=n.fontSizeScale,c=n.charSpacing,d=n.wordSpacing,f=n.fontDirection,g=n.textHScale*f,m=e.length,b=r.vertical,y=b?1:-1,S=r.defaultVMetrics,x=i*n.fontMatrix[0],C=n.textRenderingMode===ir.FILL&&!r.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),f>0?s.scale(g,-1):s.scale(g,1);let E,k;if(n.patternFill){s.save();const I=n.fillColor.getPattern(s,this,is(s),Kn.FILL);E=nn(s),s.restore(),s.fillStyle=I}if(n.patternStroke){s.save();const I=n.strokeColor.getPattern(s,this,is(s),Kn.STROKE);k=nn(s),s.restore(),s.strokeStyle=I}let T=n.lineWidth;const R=n.textMatrixScale;if(R===0||T===0){const I=n.textRenderingMode&ir.FILL_STROKE_MASK;(I===ir.STROKE||I===ir.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=R;if(a!==1&&(s.scale(a,a),T/=a),s.lineWidth=T,r.isInvalidPDFjsFont){const I=[];let M=0;for(const L of e)I.push(L.unicode),M+=L.width;s.fillText(I.join(""),0,0),n.x+=M*x*g,s.restore(),this.compose();return}let _=0,O;for(O=0;O<m;++O){const I=e[O];if(typeof I=="number"){_+=y*I*i/1e3;continue}let M=!1;const L=(I.isSpace?d:0)+c,$=I.fontChar,U=I.accent;let D,B,H=I.width;if(b){const P=I.vmetric||S,W=-(I.vmetric?P[1]:H*.5)*x,Q=P[2]*x;H=P?-P[0]:H,D=W/a,B=(_+Q)/a}else D=_/a,B=0;if(r.remeasure&&H>0){const P=s.measureText($).width*1e3/i*a;if(H<P&&this.isFontSubpixelAAEnabled){const W=H/P;M=!0,s.save(),s.scale(W,1),D/=W}else H!==P&&(D+=(H-P)/2e3*i/a)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(C&&!U)s.fillText($,D,B);else if(this.paintChar($,D,B,E,k),U){const P=D+i*U.offset.x/a,W=B-i*U.offset.y/a;this.paintChar(U.fontChar,P,W,E,k)}}const G=b?H*x-L*f:H*x+L*f;_+=G,M&&s.restore()}b?n.y-=_:n.x+=_*g,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,c=i.vertical?1:-1,d=r.charSpacing,f=r.wordSpacing,g=r.textHScale*a,m=r.fontMatrix||ay,b=e.length,y=r.textRenderingMode===ir.INVISIBLE;let S,x,C,E;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(g,a),S=0;S<b;++S){if(x=e[S],typeof x=="number"){E=c*x*s/1e3,this.ctx.translate(E,0),r.x+=E*g;continue}const k=(x.isSpace?f:0)+d,T=i.charProcOperatorList[x.operatorListId];T?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...m),this.executeOperatorList(T),this.restore()):et(`Type3 character "${x.operatorListId}" is not available.`);const R=[x.width,0];He.applyTransform(R,m),C=R[0]*s+k,n.translate(C,0),r.x+=C*g}n.restore()}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,s,a){const c=new Path2D;c.rect(r,i,s-r,a-i),this.ctx.clip(c),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||nn(this.ctx),i={createCanvasGraphics:s=>new Cc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Xx(e,this.ctx,i,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=kY(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,is(n),Kn.SHADING);const i=is(n);if(i){const{width:s,height:a}=n.canvas,c=pc.slice();He.axialAlignedBoundingBox([0,0,s,a],i,c);const[d,f,g,m]=c;this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Bt("Should not call beginInlineImage")}beginImageData(){Bt("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=nn(this.ctx),n)){He.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,i,s,a]=n,c=new Path2D;c.rect(r,i,s-r,a-i),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||um("TODO: Support non-isolated groups."),e.knockout&&et("Knockout groups not supported.");const r=nn(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=pc.slice();He.axialAlignedBoundingBox(e.bbox,nn(n),i);const s=[0,0,n.canvas.width,n.canvas.height];i=He.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),c=Math.floor(i[1]),d=Math.max(Math.ceil(i[2])-a,1),f=Math.max(Math.ceil(i[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,f]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,d,f),b=m.context;b.translate(-a,-c),b.transform(...r);let y=new Path2D;const[S,x,C,E]=e.bbox;if(y.rect(S,x,C-S,E-x),e.matrix){const k=new Path2D;k.addPath(y,new DOMMatrix(e.matrix)),y=k}b.clip(y),e.smask?this.smaskStack.push({canvas:m.canvas,context:b,offsetX:a,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(a,c),n.save()),ud(n,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=nn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=pc.slice();He.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,s){if(this.#e(),gg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],c=n[3]-n[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=a,n[3]=c,He.singularValueDecompose2dScale(nn(this.ctx),Xr);const{viewportScale:d}=this,f=Math.ceil(a*this.outputScaleX*d),g=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,g);const{canvas:m,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(Xr[0],0,0,-Xr[1],0,c*Xr[1]),gg(this.ctx)}else{gg(this.ctx),this.endPath();const d=new Path2D;d.rect(n[0],n[1],a,c),this.ctx.clip(d)}}this.current=new yT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const d=nn(c);c.transform(n,r,i,s,0,0);const f=this._createMaskCanvas(e);c.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let g=0,m=a.length;g<m;g+=2){const b=He.transform(d,[n,r,i,s,a[g],a[g+1]]);c.drawImage(f.canvas,b[4],b[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:c,height:d,transform:f}=s,g=this.cachedCanvases.getCanvas("maskCanvas",c,d),m=g.context;m.save();const b=this.getObject(a,s);ST(m,b),m.globalCompositeOperation="source-in",m.fillStyle=i?r.getPattern(m,this,is(n),Kn.FILL):r,m.fillRect(0,0,c,d),m.restore(),n.save(),n.transform(...f),n.scale(1,-1),fg(n,g.canvas,0,0,c,d,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){et("Dependent image isn't ready yet");return}const a=s.width,c=s.height,d=[];for(let f=0,g=i.length;f<g;f+=2)d.push({transform:[n,0,0,r,i[f],i[f+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(s,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,r).context;xT(f,e),a=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(a,is(i));i.imageSmoothingEnabled=wT(nn(i),e.interpolate),fg(i,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,d=this.cachedCanvases.getCanvas("inlineImage",s,a).context;xT(d,e),i=this.applyTransferMapsToCanvas(d)}for(const s of n)r.save(),r.transform(...s.transform),r.scale(1,-1),fg(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===CT?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=nn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,c;if(r===0&&i===0){const d=Math.abs(n),f=Math.abs(s);if(d===f)if(e===0)a=c=1/d;else{const g=d*e;a=c=g<1?1/g:1}else if(e===0)a=1/d,c=1/f;else{const g=d*e,m=f*e;a=g<1?1/g:1,c=m<1?1/m:1}}else{const d=Math.abs(n*s-r*i),f=Math.hypot(n,r),g=Math.hypot(i,s);if(e===0)a=g/d,c=f/d;else{const m=e*d;a=g>m?g/m:1,c=f>m?f/m:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const c=r.getLineDash();n&&r.save(),r.scale(s,a),bv.a=1/s,bv.d=1/a;const d=new Path2D;if(d.addPath(e,bv),c.length>0){const f=Math.max(s,a);r.setLineDash(c.map(g=>g/f)),r.lineDashOffset/=f}r.lineWidth=i||1,r.stroke(d),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Kd)Cc.prototype[t]!==void 0&&(Cc.prototype[Kd[t]]=Cc.prototype[t]);class bs{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class LY{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const dc=Symbol("INTERNAL");class zY{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&Wr.DISPLAY),this.#t=!!(e&Wr.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==dc&&Bt("Internal method `_setVisible` called."),this.#n=r,this.#r=n}}class FY{#e=null;#t=new Map;#n=null;#r=null;constructor(e,n=Wr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const r of e.groups)this.#t.set(r.id,new zY(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(dc,!1);for(const r of e.on)this.#t.get(r)._setVisible(dc,!0);for(const r of e.off)this.#t.get(r)._setVisible(dc,!1);this.#n=this.getHash()}}#s(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#s(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return et(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return um("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(et(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return et(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return et(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return et(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return et(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return et(`Unknown optional content policy ${e.policy}.`),!0}return et(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){et(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(dc,!1,!0);i._setVisible(dc,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Bj;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class BY{constructor(e,{disableRange:n=!1,disableStream:r=!1}){_n(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=c,s?.length>0){const d=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});_n(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){_n(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new VY(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new HY(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class VY{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=hm(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class HY{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function $Y(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let g=c(n);return g=unescape(g),g=d(g),g=f(g),s(g)}if(n=a(t),n){const g=f(n);return s(g)}if(n=r("filename","i").exec(t),n){n=n[1];let g=c(n);return g=f(g),s(g)}function r(g,m){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function i(g,m){if(g){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const b=new TextDecoder(g,{fatal:!0}),y=Sh(m);m=b.decode(y),e=!1}catch{}}return m}function s(g){return e&&/[\x80-\xff]/.test(g)&&(g=i("utf-8",g),e&&(g=i("iso-8859-1",g))),g}function a(g){const m=[];let b;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=y.exec(g))!==null;){let[,x,C,E]=b;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[C,E]}const S=[];for(let x=0;x<m.length&&x in m;++x){let[C,E]=m[x];E=c(E),C&&(E=unescape(E),x===0&&(E=d(E))),S.push(E)}return S.join("")}function c(g){if(g.startsWith('"')){const m=g.slice(1).split('\\"');for(let b=0;b<m.length;++b){const y=m[b].indexOf('"');y!==-1&&(m[b]=m[b].slice(0,y),m.length=b+1),m[b]=m[b].replaceAll(/\\(.)/g,"$1")}g=m.join('"')}return g}function d(g){const m=g.indexOf("'");if(m===-1)return g;const b=g.slice(0,m),S=g.slice(m+1).replace(/^[^']*'/,"");return i(b,S)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,b,y,S){if(y==="q"||y==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,C){return String.fromCharCode(parseInt(C,16))}),i(b,S);try{S=atob(S)}catch{}return i(b,S)})}return""}function Yj(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function fm(t){return URL.parse(t)?.origin??null}function Xj({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Kj(t){const e=t.get("Content-Disposition");if(e){let n=$Y(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(hm(n))return n}return null}function _h(t,e){return new Qd(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function Qj(t){return t===200||t===206}function Zj(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Jj(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(et(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class UY{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Yj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return _n(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new WY(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new GY(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class WY{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,Zj(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=fm(s.url),!Qj(s.status))throw _h(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:c,suggestedLength:d}=Xj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=Kj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new no("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Jj(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class GY{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,Zj(s,this._withCredentials,this._abortController)).then(c=>{const d=fm(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!Qj(c.status))throw _h(c.status,a);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Jj(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const vv=200,yv=206;function qY(t){const e=t.response;return typeof e!="string"?e:Sh(e).buffer}class YY{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Yj(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=yv):i.expectedStatus=vv,n.responseType="arraybuffer",_n(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||vv;if(!(s===vv&&r.expectedStatus===yv)&&s!==r.expectedStatus){r.onError(i.status);return}const c=qY(i);if(s===yv){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?r.onDone({begin:parseInt(f[1],10),chunk:c}):(et('Missing or invalid "Content-Range" header.'),r.onError(0))}else c?r.onDone({begin:0,chunk:c}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class XY{constructor(e){this._source=e,this._manager=new YY(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return _n(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new KY(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new QY(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class KY{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=fm(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Xj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Kj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_h(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class QY{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=fm(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=_h(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZY=/^[a-z][a-z0-9\-+.]+:/i;function JY(t){if(ZY.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class eX{constructor(e){this.source=e,this.url=JY(e.url),_n(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return _n(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new tX(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new nX(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class tX{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=_h(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new no("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nX{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const dd=Symbol("INITIAL_DATA");class eP{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:dd}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===dd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==dd}delete(e){const n=this.#e[e];return!n||n.data===dd?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==dd&&(yield[e,n])}}}const rX=1e5,ET=30;let Zd=class gi{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#a=0;#o=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#g=[];#p=null;#c=[];#m=new WeakMap;#b=null;static#v=new Map;static#x=new Map;static#S=new WeakMap;static#w=null;static#A=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#u=r.scale*Fi.pixelRatio,this.#h=r.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:c}=r.rawDims;this.#b=[1,0,0,-1,-a,c+s],this.#o=i,this.#a=s,gi.#j(),Ko(n,r),this.#e.promise.finally(()=>{gi.#A.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Vn.platform;return pt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#f,n.styles),this.#T(n.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),gi.#A.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Fi.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,Ko(this.#l,{rotation:i})),r!==this.#u){n?.(),this.#u=r;const s={div:null,properties:null,ctx:gi.#R(this.#s)};for(const a of this.#c)s.properties=this.#m.get(a),s.div=a,this.#C(s)}}cancel(){const e=new no("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#g}#T(e){if(this.#n)return;this.#i.ctx??=gi.#R(this.#s);const n=this.#c,r=this.#g;for(const i of e){if(n.length>rX){et("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#k(i)}}#k(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(n);const i=He.transform(this.#b,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let c=this.#r&&a.fontSubstitution||a.fontFamily;c=gi.fontFamilyMap.get(c)||c;const d=Math.hypot(i[2],i[3]),f=d*gi.#P(c,a,this.#s);let g,m;s===0?(g=i[4],m=i[5]-f):(g=i[4]+f*Math.sin(s),m=i[5]-f*Math.cos(s));const b="calc(var(--total-scale-factor) *",y=n.style;this.#t===this.#l?(y.left=`${(100*g/this.#o).toFixed(2)}%`,y.top=`${(100*m/this.#a).toFixed(2)}%`):(y.left=`${b}${g.toFixed(2)}px)`,y.top=`${b}${m.toFixed(2)}px)`),y.fontSize=`${b}${(gi.#w*d).toFixed(2)}px)`,y.fontFamily=c,r.fontSize=d,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#r&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);x!==C&&Math.max(x,C)/Math.min(x,C)>1.5&&(S=!0)}if(S&&(r.canvasWidth=a.vertical?e.height:e.width),this.#m.set(n,r),this.#i.div=n,this.#i.properties=r,this.#C(this.#i),r.hasText&&this.#t.append(n),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#t.append(x)}}#C(e){const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(gi.#w>1&&(a=`scale(${1/gi.#w})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=s,{canvasWidth:d,fontSize:f}=r;gi.#_(i,f*this.#u,c);const{width:g}=i.measureText(n.textContent);g>0&&(a=`scaleX(${d*this.#u/g}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#A.size>0)){this.#v.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#R(e=null){let n=this.#x.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,n),this.#S.set(n,{size:0,family:""})}return n}static#_(e,n,r){const i=this.#S.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#j(){if(this.#w!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#w=e.getBoundingClientRect().height,e.remove()}static#P(e,n,r){const i=this.#v.get(e);if(i)return i;const s=this.#R(r);s.canvas.width=s.canvas.height=ET,this.#_(s,ET,e);const a=s.measureText(""),c=a.fontBoundingBoxAscent,d=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let f=.8;return c?f=c/(c+d):(Vn.platform.isFirefox&&et("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?f=n.ascent:n.descent&&(f=1+n.descent)),this.#v.set(e,f),f}};class Jd{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const c=s.name;if(c==="#text")a=s.value;else if(Jd.shouldBuildText(c))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const d of s.children)i(d)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const iX=100;function Kx(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new Qx,{docId:n}=e,r=t.url?gY(t.url):null,i=t.data?pY(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,c=t.password??null,d=t.range instanceof Zx?t.range:null,f=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let g=t.worker instanceof Nc?t.worker:null;const m=t.verbosity,b=typeof t.docBaseUrl=="string"&&!Ch(t.docBaseUrl)?t.docBaseUrl:null,y=dg(t.cMapUrl),S=t.cMapPacked!==!1,x=t.CMapReaderFactory||(dr?wY:hT),C=dg(t.iccUrl),E=dg(t.standardFontDataUrl),k=t.StandardFontDataFactory||(dr?CY:fT),T=dg(t.wasmUrl),R=t.WasmFactory||(dr?EY:gT),_=t.stopAtErrors!==!0,O=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,I=t.isEvalSupported!==!1,M=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!dr,L=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!dr&&(Vn.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,U=typeof t.disableFontFace=="boolean"?t.disableFontFace:dr,D=t.fontExtraProperties===!0,B=t.enableXfa===!0,H=t.ownerDocument||globalThis.document,G=t.disableRange===!0,P=t.disableStream===!0,W=t.disableAutoFetch===!0,Q=t.pdfBug===!0,se=t.CanvasFactory||(dr?SY:vY),F=t.FilterFactory||(dr?xY:yY),Z=t.enableHWA===!0,fe=t.useWasm!==!1,ce=d?d.length:t.length??NaN,_e=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!dr&&!U,Ae=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(x===hT&&k===fT&&R===gT&&y&&E&&T&&Cd(y,document.baseURI)&&Cd(E,document.baseURI)&&Cd(T,document.baseURI)),Re=null;Kq(m);const ge={canvasFactory:new se({ownerDocument:H,enableHWA:Z}),filterFactory:new F({docId:n,ownerDocument:H}),cMapReaderFactory:Ae?null:new x({baseUrl:y,isCompressed:S}),standardFontDataFactory:Ae?null:new k({baseUrl:E}),wasmFactory:Ae?null:new R({baseUrl:T})};g||(g=Nc.create({verbosity:m,port:bs.workerPort}),e._worker=g);const ue={docId:n,apiVersion:"5.3.93",data:i,password:c,disableAutoFetch:W,rangeChunkSize:f,length:ce,docBaseUrl:b,enableXfa:B,evaluatorOptions:{maxImageSize:O,disableFontFace:U,ignoreErrors:_,isEvalSupported:I,isOffscreenCanvasSupported:M,isImageDecoderSupported:L,canvasMaxAreaInBytes:$,fontExtraProperties:D,useSystemFonts:_e,useWasm:fe,useWorkerFetch:Ae,cMapUrl:y,iccUrl:C,standardFontDataUrl:E,wasmUrl:T}},pe={ownerDocument:H,pdfBug:Q,styleElement:Re,loadingParams:{disableAutoFetch:W,enableXfa:B}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Ee=g.messageHandler.sendWithPromise("GetDocRequest",ue,i?[i.buffer]:null);let te;if(d)te=new BY(d,{disableRange:G,disableStream:P});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Ce=Cd(r)?UY:dr?eX:XY;te=new Ce({url:r,length:ce,httpHeaders:s,withCredentials:a,rangeChunkSize:f,disableRange:G,disableStream:P})}return Ee.then(Ce=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ve=new Ed(n,Ce,g.port),je=new aX(ve,e,te,pe,ge);e._transport=je,ve.send("Ready",null)})}).catch(e._capability.reject),e}class Qx{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Qx.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Zx=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#s=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#s)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#r)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#n)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Bt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class sX{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class oX{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new cT:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new eP,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new wh({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=hs.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:g=null,isEditing:m=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,i,g,m),{renderingIntent:y,cacheKey:S}=b;this.#e=!1,c||=this._transport.getOptionalContentConfig(y);let x=this._intentStates.get(S);x||(x=Object.create(null),this._intentStates.set(S,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const C=!!(y&Wr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const E=R=>{x.renderTasks.delete(k),C&&(this.#e=!0),this.#t(),R?(k.capability.reject(R),this._abortOperatorList({intentState:x,reason:R instanceof Error?R:new Error(R)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new mc({callback:E,params:{canvasContext:e,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:f});(x.renderTasks||=new Set).add(k);const T=k.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([R,_])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(_.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:R,optionalContentConfig:_}),k.operatorListChanged()}).catch(E),T}getOperatorList({intent:e="display",annotationMode:n=hs.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Jd.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:d,done:f}){if(f){r(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),s()},i)}const a=n.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new cT),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),f=this._intentStates.get(n);f.streamReader=d;const g=()=>{d.read().then(({value:m,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),g())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};g()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof dm){let i=iX;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new no(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var Bo,Ti,qs,Ya,Sp,Xa,Ka,fr,$g,tP,nP,Ad,_c,Ug;const Zt=class Zt{constructor({name:e=null,port:n=null,verbosity:r=Qq()}={}){es(this,fr);es(this,Bo,Promise.withResolvers());es(this,Ti,null);es(this,qs,null);es(this,Ya,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(Qt(Zt,Ka).has(n))throw new Error("Cannot use more than one PDFWorker per port.");Qt(Zt,Ka).set(n,this),ts(this,fr,tP).call(this,n)}else ts(this,fr,nP).call(this)}get promise(){return Qt(this,Bo).promise}get port(){return Qt(this,qs)}get messageHandler(){return Qt(this,Ti)}destroy(){this.destroyed=!0,Qt(this,Ya)?.terminate(),wr(this,Ya,null),Qt(Zt,Ka).delete(Qt(this,qs)),wr(this,qs,null),Qt(this,Ti)?.destroy(),wr(this,Ti,null)}static create(e){const n=Qt(this,Ka).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Zt(e)}static get workerSrc(){if(bs.workerSrc)return bs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pt(this,"_setupFakeWorkerGlobal",(async()=>Qt(this,_c,Ug)?Qt(this,_c,Ug):(await import(this.workerSrc)).WorkerMessageHandler)())}};Bo=new WeakMap,Ti=new WeakMap,qs=new WeakMap,Ya=new WeakMap,Sp=new WeakMap,Xa=new WeakMap,Ka=new WeakMap,fr=new WeakSet,$g=function(){Qt(this,Bo).resolve(),Qt(this,Ti).send("configure",{verbosity:this.verbosity})},tP=function(e){wr(this,qs,e),wr(this,Ti,new Ed("main","worker",e)),Qt(this,Ti).on("ready",()=>{}),ts(this,fr,$g).call(this)},nP=function(){if(Qt(Zt,Xa)||Qt(Zt,_c,Ug)){ts(this,fr,Ad).call(this);return}let{workerSrc:e}=Zt;try{Zt._isSameOrigin(window.location,e)||(e=Zt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Ed("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?Qt(this,Bo).reject(new Error("Worker was destroyed")):ts(this,fr,Ad).call(this)},s=new AbortController;n.addEventListener("error",()=>{Qt(this,Ya)||i()},{signal:s.signal}),r.on("test",c=>{if(s.abort(),this.destroyed||!c){i();return}wr(this,Ti,r),wr(this,qs,n),wr(this,Ya,n),ts(this,fr,$g).call(this)}),r.on("ready",c=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{ts(this,fr,Ad).call(this)}});const a=()=>{const c=new Uint8Array;r.send("test",c,[c.buffer])};a();return}catch{um("The worker has been disabled.")}ts(this,fr,Ad).call(this)},Ad=function(){Qt(Zt,Xa)||(et("Setting up fake worker."),wr(Zt,Xa,!0)),Zt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Qt(this,Bo).reject(new Error("Worker was destroyed"));return}const n=new bY;wr(this,qs,n);const r=`fake${BC(Zt,Sp)._++}`,i=new Ed(r+"_worker",r,n);e.setup(i,n),wr(this,Ti,new Ed(r,r+"_worker",n)),ts(this,fr,$g).call(this)}).catch(e=>{Qt(this,Bo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},_c=new WeakSet,Ug=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},es(Zt,_c),es(Zt,Sp,0),es(Zt,Xa,!1),es(Zt,Ka,new WeakMap),dr&&(wr(Zt,Xa,!0),bs.workerSrc||="./pdf.worker.mjs"),Zt._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Zt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Zt.fromPort=e=>{if(oY("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Zt.create(e)};let Nc=Zt;class aX{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#s=null;constructor(e,n,r,i,s){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new eP,this.fontLoader=new hY({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return pt(this,"annotationStorage",new Gx)}getRenderingIntent(e,n=hs.ENABLE,r=null,i=!1,s=!1){let a=Wr.DISPLAY,c=ly;switch(e){case"any":a=Wr.ANY;break;case"display":break;case"print":a=Wr.PRINT;break;default:et(`getRenderingIntent - invalid intent: ${e}`)}const d=a&Wr.PRINT&&r instanceof Vj?r:this.annotationStorage;switch(n){case hs.DISABLE:a+=Wr.ANNOTATIONS_DISABLE;break;case hs.ENABLE:break;case hs.ENABLE_FORMS:a+=Wr.ANNOTATIONS_FORMS;break;case hs.ENABLE_STORAGE:a+=Wr.ANNOTATIONS_STORAGE,c=d.serializable;break;default:et(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Wr.IS_EDITING),s&&(a+=Wr.OPLIST);const{ids:f,hash:g}=d.modifiedIds,m=[a,c.hash,g];return{renderingIntent:a,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Zd.cleanup(),this._networkStream?.cancelAllRequests(new no("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{_n(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}_n(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{n.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{_n(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:c}){if(c){i.close();return}_n(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new sX(r,this))}),e.on("DocException",r=>{n._capability.reject(Er(r))}),e.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!n.onPassword)throw Er(r);const i=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};n.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;et(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const a=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,g)=>globalThis.FontInspector.fontAdded(f,g):null,c=new fY(s,a);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=s;_n(d,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,g]of f.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const c=this.#t.get(i);if(!c.objs.has(r)){if(c._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#n.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const a=new oX(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#n.set(n,i),i}getPageIndex(e){return cy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(n=>new FY(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new LY(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Zd.cleanup()}}cachedPageNumber(e){if(!cy(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(n)??null}}class lX{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class mc{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:g=!1,pdfBug:m=!1,pageColors:b=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new lX(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(mc.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");mc.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new Cc(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),mc.#t.delete(this._canvas),e||=new dm(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),mc.#t.delete(this._canvas),this.callback())))}}const rP="5.3.93",iP="cbeef3233";function AT(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function hd(t){return Math.max(0,Math.min(255,255*t))}class _T{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=hd(e),[e,e,e]}static G_HTML([e]){const n=AT(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(hd)}static RGB_HTML(e){return`#${e.map(AT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[hd(1-Math.min(1,e+i)),hd(1-Math.min(1,r+i)),hd(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,c=Math.min(i,s,a);return["CMYK",i,s,a,c]}}class cX{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Bt("Abstract method `_createSVG` called.")}}class eh extends cX{_createSVG(e){return document.createElementNS(Us,e)}}class Jx{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",c=>{i.setValue(n,{value:c.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{i.setValue(n,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",c=>{i.setValue(n,{value:c.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const c of r.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;i.setValue(n,{value:f})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,c=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[d,f]of Object.entries(a))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}c&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const c=s!=="richText",d=e.div;if(d.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=m}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),c&&Jd.shouldBuildText(i.name)&&f.push(m)}return{textDivs:f}}const g=[[i,-1,a]];for(;g.length>0;){const[m,b,y]=g.at(-1);if(b+1===m.children.length){g.pop();continue}const S=m.children[++g.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const E=document.createTextNode(S.value);f.push(E),y.append(E);continue}const C=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(y.append(C),S.attributes&&this.setAttributes({html:C,element:S,storage:n,intent:s,linkService:r}),S.children?.length>0)g.push([S,-1,C]);else if(S.value){const E=document.createTextNode(S.value);c&&Jd.shouldBuildText(x)&&f.push(E),C.append(E)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const uX=9,al=new WeakSet;class TT{static create(e){switch(e.data.annotationType){case fn.LINK:return new sP(e);case fn.TEXT:return new dX(e);case fn.WIDGET:switch(e.data.fieldType){case"Tx":return new hX(e);case"Btn":return e.data.radioButton?new oP(e):e.data.checkBox?new gX(e):new pX(e);case"Ch":return new mX(e);case"Sig":return new fX(e)}return new fl(e);case fn.POPUP:return new dy(e);case fn.FREETEXT:return new aP(e);case fn.LINE:return new vX(e);case fn.SQUARE:return new yX(e);case fn.CIRCLE:return new xX(e);case fn.POLYLINE:return new lP(e);case fn.CARET:return new wX(e);case fn.INK:return new eS(e);case fn.POLYGON:return new SX(e);case fn.HIGHLIGHT:return new cP(e);case fn.UNDERLINE:return new CX(e);case fn.SQUIGGLY:return new EX(e);case fn.STRIKEOUT:return new AX(e);case fn.STAMP:return new uP(e);case fn.FILEATTACHMENT:return new _X(e);default:return new vn(e)}}}class vn{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return vn._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:n}=e;n&&this.#r(n),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:c,pageY:d}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-c)/s}%`,n.top=`${100*(a-e[3]+d)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof fl||(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof dy){const{rotation:x}=n;return!n.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:c,height:d}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const x=n.borderStyle.horizontalCornerRadius,C=n.borderStyle.verticalCornerRadius;if(x>0||C>0){const k=`calc(${x}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;a.borderRadius=k}else if(this instanceof oP){const k=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;a.borderRadius=k}switch(n.borderStyle.style){case uc.SOLID:a.borderStyle="solid";break;case uc.DASHED:a.borderStyle="dashed";break;case uc.BEVELED:et("Unimplemented border style: beveled");break;case uc.INSET:et("Unimplemented border style: inset");break;case uc.UNDERLINE:a.borderBottomStyle="solid";break}const E=n.borderColor||null;E?(this.#t=!0,a.borderColor=He.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):a.borderWidth=0}const f=He.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:g,pageHeight:m,pageX:b,pageY:y}=i.rawDims;a.left=`${100*(f[0]-b)/g}%`,a.top=`${100*(f[1]-y)/m}%`;const{rotation:S}=n;return n.hasOwnCanvas||S===0?(a.width=`${100*c/g}%`,a.height=`${100*d/m}%`):this.setRotation(S,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],c=s.slice(1);i.target.style[r]=_T[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[r]:_T[`${a}_rgb`](c)})};return pt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const c={detail:{[i]:s},target:e};a(c),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,C,E,k]=e.subarray(2,6);if(i===x&&s===C&&n===E&&r===k)return}const{style:a}=this.container;let c;if(this.#t){const{borderColor:x,borderWidth:C}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=i-n,f=s-r,{svgFactory:g}=this,m=g.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const b=g.createElement("defs");m.append(b);const y=g.createElement("clipPath"),S=`clippath_${this.data.id}`;y.setAttribute("id",S),y.setAttribute("clipPathUnits","objectBoundingBox"),b.append(y);for(let x=2,C=e.length;x<C;x+=8){const E=e[x],k=e[x+1],T=e[x+2],R=e[x+3],_=g.createElement("rect"),O=(T-n)/d,I=(s-k)/f,M=(E-T)/d,L=(k-R)/f;_.setAttribute("x",O),_.setAttribute("y",I),_.setAttribute("width",M),_.setAttribute("height",L),y.append(_),c?.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${I}" width="${M}" height="${L}"/>`)}this.#t&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,n=this.#n=new dy({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Bt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:c}of i){if(s===-1||a===n)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${a}"]`);if(f&&!al.has(f)){et(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:d,domElement:f})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&al.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class sP extends vn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action),i=!0):e.attachment?(this.#t(r,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(r,e.setOCGState),i=!0):e.dest?(this._bindLink(r,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e()}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#e()}#t(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,r),!1),this.#e()}#n(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=n,c=[];if(i.length!==0||s.length!==0){const g=new Set(s);for(const m of i){const b=this._fieldObjects[m]||[];for(const{id:y}of b)g.add(y)}for(const m of Object.values(this._fieldObjects))for(const b of m)g.has(b.id)===a&&c.push(b)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const d=this.annotationStorage,f=[];for(const g of c){const{id:m}=g;switch(f.push(m),g.type){case"text":{const y=g.defaultValue||"";d.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=g.defaultValue===g.exportValues;d.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=g.defaultValue||"";d.setValue(m,{value:y});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!al.has(b)){et(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class dX extends vn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class fl extends vn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,n,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":He.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||uX,s=e.style;let a;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),g=Math.round(f/(hv*i))||1,m=f/g;a=Math.min(i,d(m/hv))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(i,d(f/hv))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=He.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class hX extends fl{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),al.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const f=this.data.dateFormat||this.data.timeFormat;f&&(r.title=f),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",m=>{e.setValue(n,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue??"";r.value=d.userValue=b,d.formattedValue=null});let g=m=>{const{formattedValue:b}=d;b!=null&&(m.target.value=b),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",b=>{if(d.focused)return;const{target:y}=b;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const y={value(S){d.userValue=S.detail.value??"",e.setValue(n,{value:d.userValue.toString()}),S.target.value=d.userValue},formattedValue(S){const{formattedValue:x}=S.detail;d.formattedValue=x,x!=null&&S.target!==document.activeElement&&(S.target.value=x),e.setValue(n,{formattedValue:x})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:x}=S.detail,{target:C}=S;if(x===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",x);let E=d.userValue;!E||E.length<=x||(E=E.slice(0,x),C.value=d.userValue=E,e.setValue(n,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(y,b)}),r.addEventListener("keydown",b=>{d.commitKey=1;let y=-1;if(b.key==="Escape"?y=0:b.key==="Enter"&&!this.data.multiLine?y=2:b.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:S}=b.target;d.lastCommittedValue!==S&&(d.lastCommittedValue=S,d.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:y,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const m=g;g=null,r.addEventListener("blur",b=>{if(!d.focused||!b.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:y}=b.target;d.userValue=y,d.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),m(b)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",b=>{d.lastCommittedValue=null;const{data:y,target:S}=b,{value:x,selectionStart:C,selectionEnd:E}=S;let k=C,T=E;switch(b.inputType){case"deleteWordBackward":{const R=x.substring(0,C).match(/\w*[^\w]*$/);R&&(k-=R[0].length);break}case"deleteWordForward":{const R=x.substring(C).match(/^[^\w]*\w*/);R&&(T+=R[0].length);break}case"deleteContentBackward":C===E&&(k-=1);break;case"deleteContentForward":C===E&&(T+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,change:y||"",willCommit:!1,selStart:k,selEnd:T}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fX extends fl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class gX extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return al.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:c,checked:d}=a.target;for(const f of this._getElementsByName(c,r)){const g=d&&f.exportValue===n.exportValue;f.domElement&&(f.domElement.checked=g),e.setValue(f.id,{value:g})}e.setValue(r,{value:d})}),s.addEventListener("resetform",a=>{const c=n.defaultFieldValue||"Off";a.target.checked=c===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(r,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class oP extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(al.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:c,checked:d}=a.target;for(const f of this._getElementsByName(c,r))e.setValue(f.id,{value:!1});e.setValue(r,{value:d})}),s.addEventListener("resetform",a=>{const c=n.defaultFieldValue;a.target.checked=c!=null&&c===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const g=a===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const b=g&&m.id===r;m.domElement&&(m.domElement.checked=b),e.setValue(m.id,{value:b})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class pX extends sP{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class mX extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");al.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue;for(const b of i.options)b.selected=b.value===m});for(const g of this.data.options){const m=document.createElement("option");m.textContent=g.displayValue,m.value=g.exportValue,r.value.includes(g.exportValue)&&(m.setAttribute("selected",!0),s=!1),i.append(m)}let a=null;if(s){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),i.prepend(g),a=()=>{g.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const c=g=>{const m=g?"value":"textContent",{options:b,multiple:y}=i;return y?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[m]):b.selectedIndex===-1?null:b[b.selectedIndex][m]};let d=c(!1);const f=g=>{const m=g.target.options;return Array.prototype.map.call(m,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",g=>{const m={value(b){a?.();const y=b.detail.value,S=new Set(Array.isArray(y)?y:[y]);for(const x of i.options)x.selected=S.has(x.value);e.setValue(n,{value:c(!0)}),d=c(!1)},multipleSelection(b){i.multiple=!0},remove(b){const y=i.options,S=b.detail.remove;y[S].selected=!1,i.remove(S),y.length>0&&Array.prototype.findIndex.call(y,C=>C.selected)===-1&&(y[0].selected=!0),e.setValue(n,{value:c(!0),items:f(b)}),d=c(!1)},clear(b){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),d=c(!1)},insert(b){const{index:y,displayValue:S,exportValue:x}=b.detail.insert,C=i.children[y],E=document.createElement("option");E.textContent=S,E.value=x,C?C.before(E):i.append(E),e.setValue(n,{value:c(!0),items:f(b)}),d=c(!1)},items(b){const{items:y}=b.detail;for(;i.length!==0;)i.remove(0);for(const S of y){const{displayValue:x,exportValue:C}=S,E=document.createElement("option");E.textContent=x,E.value=C,i.append(E)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:c(!0),items:f(b)}),d=c(!1)},indices(b){const y=new Set(b.detail.indices);for(const S of b.target.options)S.selected=y.has(S.index);e.setValue(n,{value:c(!0)}),d=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(m,g)}),i.addEventListener("input",g=>{const m=c(!0),b=c(!1);e.setValue(n,{value:m}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:d,change:b,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):i.addEventListener("input",function(g){e.setValue(n,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class dy extends vn{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:vn._hasPopupData(n)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=new bX({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${Vx}${i}`).join(",")),this.container}}class bX{#e=this.#T.bind(this);#t=this.#_.bind(this);#n=this.#R.bind(this);#r=this.#C.bind(this);#s=null;#i=null;#a=null;#o=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#g=null;#p=null;#c=null;#m=null;#b=null;#v=!1;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:c,parent:d,rect:f,parentRect:g,open:m}){this.#i=e,this.#m=i,this.#a=a,this.#c=c,this.#l=d,this.#s=n,this.#p=f,this.#h=g,this.#d=r,this.#o=Hx.toDateObject(s),this.trigger=r.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#r),b.addEventListener("mouseenter",this.#n),b.addEventListener("mouseleave",this.#t),b.classList.add("popupTriggerArea");for(const b of r)b.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,m&&this.#C()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#s){const s=e.style.outlineColor=He.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=this.#m,e.append(n),this.#o){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),s.dateTime=this.#o.toISOString(),n.append(s)}const i=this.#x;if(i)Jx.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#a);e.append(s)}this.#i.append(e)}get#x(){const e=this.#c,n=this.#a;return e?.str&&(!n?.str||n.str===e.str)&&this.#c.html||null}get#S(){return this.#x?.attributes?.style?.fontSize||0}get#w(){return this.#x?.attributes?.style?.color||null}#A(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#w,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const c=i[s];r.append(document.createTextNode(c)),s<a-1&&r.append(document.createElement("br"))}return r}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#C()}updateEdited({rect:e,popupContent:n}){this.#b||={contentsObj:this.#a,richText:this.#c},e&&(this.#g=null),n&&(this.#c=this.#A(n),this.#a=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#b&&({contentsObj:this.#a,richText:this.#c}=this.#b,this.#b=null,this.#f?.remove(),this.#f=null,this.#g=null)}#k(){if(this.#g!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#l;let a=!!this.#h,c=a?this.#h:this.#p;for(const S of this.#d)if(!c||He.intersect(S.data.rect,c)!==null){c=S.data.rect,a=!0;break}const d=He.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),g=a?c[2]-c[0]+5:0,m=d[0]+g,b=d[1];this.#g=[100*(m-i)/n,100*(b-s)/r];const{style:y}=this.#i;y.left=`${this.#g[0]}%`,y.top=`${this.#g[1]}%`}#C(){this.#u=!this.#u,this.#u?(this.#R(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#_(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#i.classList.add("focused"):(this.#k(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#_(){this.#i.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#i.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#R(),this.#v=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class aP extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class vX extends vn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yX extends vn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class xX extends vn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class lP extends vn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!n)return this.container;const c=this.svgFactory.create(s,a,!0);let d=[];for(let g=0,m=n.length;g<m;g+=2){const b=n[g]-e[0],y=e[3]-n[g+1];d.push(`${b},${y}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class SX extends lP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wX extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class eS extends vn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ze.HIGHLIGHT:Ze.INK}#n(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:c,height:d}=this.#n(n,e),f=this.svgFactory.create(c,d,!0),g=this.#e=this.svgFactory.createElement("svg:g");f.append(g),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",a);for(let m=0,b=r.length;m<b;m++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",r[m].join(",")),g.append(y)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),r)for(let a=0,c=this.#t.length;a<c;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:c,height:d}=this.#n(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class cP extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ze.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class CX extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class EX extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class AX extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class uP extends vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _X extends vn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Vn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let tS=class dP{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:c}){this.div=e,this.#e=n,this.#t=r,this.#r=c||null,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#s(e,n,r){const i=e.firstChild||e,s=i.id=`${Vx}${n}`,a=await this.#r?.getAriaAttributes(s);if(a)for(const[c,d]of a)i.setAttribute(c,d);r?r.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:n}=e,r=this.div;Ko(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new eh,annotationStorage:e.annotationStorage||new Gx,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const c=a.annotationType===fn.POPUP;if(c){const g=i.get(a.id);if(!g)continue;s.elements=g}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const d=TT.create(s);if(!d.isRenderable)continue;if(!c&&a.popupRef){const g=i.get(a.popupRef);g?g.push(d):i.set(a.popupRef,[d])}const f=d.render();a.hidden&&(f.style.visibility="hidden"),await this.#s(f,a.id,s.elements),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#i()}async addLinkAnnotations(e,n){const r={data:null,layer:this.div,linkService:n,svgFactory:new eh,parent:this};for(const i of e){i.borderStyle||=dP._defaultBorderStyle,r.data=i;const s=TT.create(r);if(!s.isRenderable)continue;const a=s.render();await this.#s(a,i.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Ko(n,{rotation:e.rotation}),this.#i(),n.hidden=!1}#i(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(n);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return pt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:uc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const pg=/\r\n?|\n/g;class jn extends $e{#e;#t="";#n=`${this.id}-editor`;#r=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=jn.prototype,n=s=>s.isEmpty(),r=ro.TRANSLATE_SMALL,i=ro.TRANSLATE_BIG;return pt(this,"_keyboardManager",new Eh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Ze.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||jn._defaultColor||$e._defaultLineColor,this.#s=e.fontSize||jn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,n){$e.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case mt.FREETEXT_SIZE:jn._defaultFontSize=n;break;case mt.FREETEXT_COLOR:jn._defaultColor=n;break}}updateParams(e,n){switch(e){case mt.FREETEXT_SIZE:this.#i(n);break;case mt.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[mt.FREETEXT_SIZE,jn._defaultFontSize],[mt.FREETEXT_COLOR,jn._defaultColor||$e._defaultLineColor]]}get propertiesToUpdate(){return[[mt.FREETEXT_SIZE,this.#s],[mt.FREETEXT_COLOR,this.#e]]}#i(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#s)*this.parentScale),this.#s=i,this.#d()},r=this.#s;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){const n=i=>{this.#e=this.editorDiv.style.color=i},r=this.#e;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-jn._internalPadding*e,-(jn._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(jn.#l(r)),n=r);return e.join(`
`)}#d(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,n=this.#t=this.#o().trimEnd();if(e===n)return;const r=i=>{if(this.#t=i,!i){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){jn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,r.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,g]=this.pageDimensions,[m,b]=this.pageTranslation;let y,S;switch(this.rotation){case 0:y=e+(a[0]-m)/f,S=n+this.height-(a[1]-b)/g;break;case 90:y=e+(a[0]-m)/f,S=n-(a[1]-b)/g,[c,d]=[d,-c];break;case 180:y=e-this.width+(a[0]-m)/f,S=n-(a[1]-b)/g,[c,d]=[-c,-d];break;case 270:y=e+(a[0]-m-this.height*g)/f,S=n+(a[1]-b-this.width*f)/g,[c,d]=[-d,c];break}this.setAt(y*i,S*s,c,d)}else this._moveAfterPaste(e,n);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pg,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=jn.#f(n.getData("text")||"").replaceAll(pg,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:d}=a,f=[],g=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(g.push(c.nodeValue.slice(d).replaceAll(pg,"")),y!==this.editorDiv){let S=f;for(const x of this.editorDiv.childNodes){if(x===y){S=g;continue}S.push(jn.#l(x))}}f.push(c.nodeValue.slice(0,d).replaceAll(pg,""))}else if(c===this.editorDiv){let y=f,S=0;for(const x of this.editorDiv.childNodes)S++===d&&(y=g),y.push(jn.#l(x))}this.#t=`${f.join(`
`)}${i}${g.join(`
`)}`,this.#h();const m=new Range;let b=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const S=y.nodeValue.length;if(b<=S){m.setStart(y,b),m.setEnd(y,b);break}b-=S}s.removeAllRanges(),s.addRange(m)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#u(){return this.#t.replaceAll(""," ")}static#f(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){let i=null;if(e instanceof aP){const{data:{defaultAppearanceData:{fontSize:a,fontColor:c},rect:d,rotation:f,id:g,popupRef:m},textContent:b,textPosition:y,parent:{page:{pageNumber:S}}}=e;if(!b||b.length===0)return null;i=e={annotationType:Ze.FREETEXT,color:Array.from(c),fontSize:a,value:b.join(`
`),position:y,pageIndex:S-1,rect:d.slice(0),rotation:f,annotationElementId:g,id:g,deleted:!1,popupRef:m}}const s=await super.deserialize(e,n,r);return s.#s=e.fontSize,s.#e=He.makeHexColor(...e.color),s.#t=jn.#f(e.value),s._initialData=i,s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=jn._internalPadding*this.parentScale,r=this.getRect(n,n),i=$e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:Ze.FREETEXT,color:i,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(s.isCopy=!0,s):this.annotationElementId&&!this.#g(s)?null:(s.id=this.annotationElementId,s)}#g(e){const{value:n,fontSize:r,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((a,c)=>a!==i[c])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,r.color=this.#e,n.replaceChildren();for(const s of this.#t.split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),n.append(a)}const i=jn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Pe{static PRECISION=1e-4;toSVGPath(){Bt("Abstract method `toSVGPath` must be implemented.")}get box(){Bt("Abstract getter `box` must be implemented.")}serialize(e,n){Bt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)a[c]=n+e[c]*i,a[c+1]=r+e[c+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)a[c]=n+e[c+1]*i,a[c+1]=r+e[c]*s;return a}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class qa{#e;#t=[];#n;#r;#s=[];#i=new Float32Array(18);#a;#o;#d;#l;#h;#u;#f=[];static#g=8;static#p=2;static#c=qa.#g+qa.#p;constructor({x:e,y:n},r,i,s,a,c=0){this.#e=r,this.#u=s*i,this.#r=a,this.#i.set([NaN,NaN,NaN,NaN,e,n],6),this.#n=c,this.#l=qa.#g*i,this.#d=qa.#c*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#i[8])}#m(){const e=this.#i.subarray(4,6),n=this.#i.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#a+(e[0]-n[0])/2-r)/s,(this.#o+(e[1]-n[1])/2-i)/a,(this.#a+(n[0]-e[0])/2-r)/s,(this.#o+(n[1]-e[1])/2-i)/a]}add({x:e,y:n}){this.#a=e,this.#o=n;const[r,i,s,a]=this.#e;let[c,d,f,g]=this.#i.subarray(8,12);const m=e-f,b=n-g,y=Math.hypot(m,b);if(y<this.#d)return!1;const S=y-this.#l,x=S/y,C=x*m,E=x*b;let k=c,T=d;c=f,d=g,f+=C,g+=E,this.#f?.push(e,n);const R=-E/S,_=C/S,O=R*this.#u,I=_*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([f+O,g+I],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([f-O,g-I],16),isNaN(this.#i[6])?(this.#s.length===0&&(this.#i.set([c+O,d+I],2),this.#s.push(NaN,NaN,NaN,NaN,(c+O-r)/s,(d+I-i)/a),this.#i.set([c-O,d-I],14),this.#t.push(NaN,NaN,NaN,NaN,(c-O-r)/s,(d-I-i)/a)),this.#i.set([k,T,c,d,f,g],6),!this.isEmpty()):(this.#i.set([k,T,c,d,f,g],6),Math.abs(Math.atan2(T-d,k-c)-Math.atan2(E,C))<Math.PI/2?([c,d,f,g]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+f)/2-r)/s,((d+g)/2-i)/a),[c,d,k,T]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((k+c)/2-r)/s,((T+d)/2-i)/a),!0):([k,T,c,d,f,g]=this.#i.subarray(0,6),this.#s.push(((k+5*c)/6-r)/s,((T+5*d)/6-i)/a,((5*c+f)/6-r)/s,((5*d+g)/6-i)/a,((c+f)/2-r)/s,((d+g)/2-i)/a),[f,g,c,d,k,T]=this.#i.subarray(12,18),this.#t.push(((k+5*c)/6-r)/s,((T+5*d)/6-i)/a,((5*c+f)/6-r)/s,((5*d+g)/6-i)/a,((c+f)/2-r)/s,((d+g)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,n=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#b();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#x(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#v(r),r.join(" ")}#b(){const[e,n,r,i]=this.#e,[s,a,c,d]=this.#m();return`M${(this.#i[2]-e)/r} ${(this.#i[3]-n)/i} L${(this.#i[4]-e)/r} ${(this.#i[5]-n)/i} L${s} ${a} L${c} ${d} L${(this.#i[16]-e)/r} ${(this.#i[17]-n)/i} L${(this.#i[14]-e)/r} ${(this.#i[15]-n)/i} Z`}#v(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#x(e){const[n,r,i,s]=this.#e,a=this.#i.subarray(4,6),c=this.#i.subarray(16,18),[d,f,g,m]=this.#m();e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${d} ${f} L${g} ${m} L${(c[0]-n)/i} ${(c[1]-r)/s}`)}newFreeDrawOutline(e,n,r,i,s,a){return new hP(e,n,r,i,s,a)}getOutlines(){const e=this.#s,n=this.#t,r=this.#i,[i,s,a,c]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,b=d.length-2;m<b;m+=2)d[m]=(this.#f[m]-i)/a,d[m+1]=(this.#f[m+1]-s)/c;if(d[d.length-2]=(this.#a-i)/a,d[d.length-1]=(this.#o-s)/c,isNaN(r[6])&&!this.isEmpty())return this.#S(d);const f=new Float32Array(this.#s.length+24+this.#t.length);let g=e.length;for(let m=0;m<g;m+=2){if(isNaN(e[m])){f[m]=f[m+1]=NaN;continue}f[m]=e[m],f[m+1]=e[m+1]}g=this.#A(f,g);for(let m=n.length-6;m>=6;m-=6)for(let b=0;b<6;b+=2){if(isNaN(n[m+b])){f[g]=f[g+1]=NaN,g+=2;continue}f[g]=n[m+b],f[g+1]=n[m+b+1],g+=2}return this.#w(f,g),this.newFreeDrawOutline(f,d,this.#e,this.#h,this.#n,this.#r)}#S(e){const n=this.#i,[r,i,s,a]=this.#e,[c,d,f,g]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(m,e,this.#e,this.#h,this.#n,this.#r)}#w(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#A(e,n){const r=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[s,a,c,d]=this.#e,[f,g,m,b]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-a)/d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-a)/d],n),n+=24}}class hP extends Pe{#e;#t=new Float32Array(4);#n;#r;#s;#i;#a;constructor(e,n,r,i,s,a){super(),this.#a=e,this.#s=n,this.#e=r,this.#i=i,this.#n=s,this.#r=a,this.lastPoint=[NaN,NaN],this.#o(a);const[c,d,f,g]=this.#t;for(let m=0,b=e.length;m<b;m+=2)e[m]=(e[m]-c)/f,e[m+1]=(e[m+1]-d)/g;for(let m=0,b=n.length;m<b;m+=2)n[m]=(n[m]-c)/f,n[m+1]=(n[m+1]-d)/g}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let n=6,r=this.#a.length;n<r;n+=6){if(isNaN(this.#a[n])){e.push(`L${this.#a[n+4]} ${this.#a[n+5]}`);continue}e.push(`C${this.#a[n]} ${this.#a[n+1]} ${this.#a[n+2]} ${this.#a[n+3]} ${this.#a[n+4]} ${this.#a[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],s){const a=r-e,c=i-n;let d,f;switch(s){case 0:d=Pe._rescale(this.#a,e,i,a,-c),f=Pe._rescale(this.#s,e,i,a,-c);break;case 90:d=Pe._rescaleAndSwap(this.#a,e,n,a,c),f=Pe._rescaleAndSwap(this.#s,e,n,a,c);break;case 180:d=Pe._rescale(this.#a,r,n,-a,c),f=Pe._rescale(this.#s,r,n,-a,c);break;case 270:d=Pe._rescaleAndSwap(this.#a,r,i,-a,-c),f=Pe._rescaleAndSwap(this.#s,r,i,-a,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(e){const n=this.#a;let r=n[4],i=n[5];const s=[r,i,r,i];let a=r,c=i;const d=e?Math.max:Math.min;for(let g=6,m=n.length;g<m;g+=6){const b=n[g+4],y=n[g+5];if(isNaN(n[g]))He.pointBoundingBox(b,y,s),c<y?(a=b,c=y):c===y&&(a=d(a,b));else{const S=[1/0,1/0,-1/0,-1/0];He.bezierBoundingBox(r,i,...n.slice(g,g+6),S),He.rectBoundingBox(...S,s),c<S[3]?(a=S[2],c=S[3]):c===S[3]&&(a=d(a,S[2]))}r=b,i=y}const f=this.#t;f[0]=s[0]-this.#n,f[1]=s[1]-this.#n,f[2]=s[2]-s[0]+2*this.#n,f[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[a,c]}get box(){return this.#t}newOutliner(e,n,r,i,s,a=0){return new qa(e,n,r,i,s,a)}getNewOutline(e,n){const[r,i,s,a]=this.#t,[c,d,f,g]=this.#e,m=s*f,b=a*g,y=r*f+c,S=i*g+d,x=this.newOutliner({x:this.#s[0]*m+y,y:this.#s[1]*b+S},this.#e,this.#i,e,this.#r,n??this.#n);for(let C=2;C<this.#s.length;C+=2)x.add({x:this.#s[C]*m+y,y:this.#s[C+1]*b+S});return x.getOutlines()}}class hy{#e;#t;#n=[];#r=[];constructor(e,n=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:S,width:x,height:C}of e){const E=Math.floor((y-n)/a)*a,k=Math.ceil((y+x+n)/a)*a,T=Math.floor((S-n)/a)*a,R=Math.ceil((S+C+n)/a)*a,_=[E,T,R,!0],O=[k,T,R,!1];this.#n.push(_,O),He.rectBoundingBox(E,T,k,R,s)}const c=s[2]-s[0]+2*r,d=s[3]-s[1]+2*r,f=s[0]-r,g=s[1]-r,m=this.#n.at(i?-1:-2),b=[m[0],m[2]];for(const y of this.#n){const[S,x,C]=y;y[0]=(S-f)/c,y[1]=(x-g)/d,y[2]=(C-g)/d}this.#e=new Float32Array([f,g,c,d]),this.#t=b}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#d(n)),this.#a(n)):(this.#o(n),e.push(...this.#d(n)));return this.#s(e)}#s(e){const n=[],r=new Set;for(const a of e){const[c,d,f]=a;n.push([c,d,a],[c,f,a])}n.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=n.length;a<c;a+=2){const d=n[a][2],f=n[a+1][2];d.push(f),f.push(d),r.add(d),r.add(f)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[c,d,f,g,m]=a;r.delete(a);let b=c,y=d;for(s=[c,f],i.push(s);;){let S;if(r.has(g))S=g;else if(r.has(m))S=m;else break;r.delete(S),[c,d,f,g,m]=S,b!==c&&(s.push(b,y,c,y===d?d:f),b=c),y=y===d?f:d}s.push(b,y)}return new TX(i,this.#e,this.#t)}#i(e){const n=this.#r;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#a([,e,n]){const r=this.#i(e);this.#r.splice(r,0,[e,n])}#o([,e,n]){const r=this.#i(e);for(let i=r;i<this.#r.length;i++){const[s,a]=this.#r[i];if(s!==e)break;if(s===e&&a===n){this.#r.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#r[i];if(s!==e)break;if(s===e&&a===n){this.#r.splice(i,1);return}}}#d(e){const[n,r,i]=e,s=[[n,r,i]],a=this.#i(i);for(let c=0;c<a;c++){const[d,f]=this.#r[c];for(let g=0,m=s.length;g<m;g++){const[,b,y]=s[g];if(!(f<=b||y<=d)){if(b>=d){if(y>f)s[g][1]=f;else{if(m===1)return[];s.splice(g,1),g--,m--}continue}s[g][2]=d,y>f&&s.push([n,f,y])}}}return s}}class TX extends Pe{#e;#t;constructor(e,n,r){super(),this.#t=e,this.#e=n,this.lastPoint=r}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const a=n[s],c=n[s+1];a===r?(e.push(`V${c}`),i=c):c===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],s){const a=[],c=r-e,d=i-n;for(const f of this.#t){const g=new Array(f.length);for(let m=0;m<f.length;m+=2)g[m]=e+f[m]*c,g[m+1]=i-f[m+1]*d;a.push(g)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class fy extends qa{newFreeDrawOutline(e,n,r,i,s,a){return new RX(e,n,r,i,s,a)}}class RX extends hP{newOutliner(e,n,r,i,s,a=0){return new fy(e,n,r,i,s,a)}}class Gr{#e=null;#t=null;#n;#r=null;#s=!1;#i=!1;#a=null;#o;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return pt(this,"_keyboardManager",new Eh([[["Escape","mac+Escape"],Gr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gr.prototype._moveToPrevious],[["Home","mac+Home"],Gr.prototype._moveToBeginning],[["End","mac+End"],Gr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#i=!1,this.#h=mt.HIGHLIGHT_COLOR,this.#a=e):(this.#i=!0,this.#h=mt.HIGHLIGHT_DEFAULT_COLOR),this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Gr.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#c.bind(this),{signal:n}),e.addEventListener("keydown",this.#p.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#n,e.append(r),e}renderMainDropdown(){const e=this.#r=this.#f();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#f(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Si,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",Gr.#u[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#n,s.addEventListener("click",this.#g.bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#p.bind(this),{signal:n}),e}#g(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#c(e);return}const n=e.target.getAttribute("data-color");n&&this.#g(n,e)}_moveToNext(e){if(!this.#b){this.#c(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#b&&this._hideDropdownFromKeyboard();return}this.#b||this.#c(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#b){this.#c(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#b){this.#c(e);return}this.#r.lastChild?.focus()}#p(e){Gr._keyboardManager.exec(this,e)}#c(e){if(this.#b){this.hideDropdown();return}if(this.#s=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const n=this.#r=this.#f();this.#e.append(n)}#m(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#b(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#b){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const n=this.#l.highlightColors.values();for(const r of this.#r.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class gn extends $e{#e=null;#t=0;#n;#r=null;#s=null;#i=null;#a=null;#o=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#g;#p=null;#c="";#m;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ze.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=gn.prototype;return pt(this,"_keyboardManager",new Eh([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||gn._defaultColor,this.#m=e.thickness||gn._defaultThickness,this.#g=e.opacity||gn._defaultOpacity,this.#n=e.boxes||null,this.#b=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#x(e),this.#k()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#k(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new hy(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new hy(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=n.getOutlines();const{lastPoint:r}=this.#i;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#i=e.getNewOutline(this.#m/2+i,.0025),n>=0)this.#h=n,this.#r=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:gn.#C(this.#l.box,(g-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:gn.#C(this.#i.box,g),path:{d:this.#i.toSVGPath()}})}const[s,a,c,d]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=c,this.height=d;break;case 90:{const[g,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=c*m/g,this.height=d*g/m;break}case 180:this.x=1-s,this.y=1-a,this.width=c,this.height=d;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=c*m/g,this.height=d*g/m;break}}const{lastPoint:f}=this.#i;this.#f=[(f[0]-s)/c,(f[1]-a)/d]}static initialize(e,n){$e.initialize(e,n),gn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case mt.HIGHLIGHT_DEFAULT_COLOR:gn._defaultColor=n;break;case mt.HIGHLIGHT_THICKNESS:gn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#f}updateParams(e,n){switch(e){case mt.HIGHLIGHT_COLOR:this.#S(n);break;case mt.HIGHLIGHT_THICKNESS:this.#w(n);break}}static get defaultPropertiesToUpdate(){return[[mt.HIGHLIGHT_DEFAULT_COLOR,gn._defaultColor],[mt.HIGHLIGHT_THICKNESS,gn._defaultThickness]]}get propertiesToUpdate(){return[[mt.HIGHLIGHT_COLOR,this.color||gn._defaultColor],[mt.HIGHLIGHT_THICKNESS,this.#m||gn._defaultThickness],[mt.HIGHLIGHT_FREE,this.#u]]}#S(e){const n=(s,a)=>{this.color=s,this.#g=a,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:s,"fill-opacity":a}}),this.#s?.updateColor(s)},r=this.color,i=this.#g;this.addCommands({cmd:n.bind(this,e,gn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#w(e){const n=this.#m,r=i=>{this.#m=i,this.#A(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Gr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#j())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#j())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#k(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#T():e&&(this.#k(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#A(e){if(!this.#u)return;this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#k(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#r))}static#C([e,n,r,i],s){switch(s){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#u?(e=(e-this.rotation+360)%360,r=gn.#C(this.#l.box,e)):r=gn.#C([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:gn.#C(this.#i.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const n=this.#d=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#r;const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),Fj(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(e){gn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#_(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#j(){return this.#u?this.rotation:0}#P(){if(this.#u)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#n,a=new Float32Array(s.length*8);let c=0;for(const{x:d,y:f,width:g,height:m}of s){const b=d*e+r,y=(1-f)*n+i;a[c]=a[c+4]=b,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=b+g*e,a[c+5]=a[c+7]=y-m*n,c+=8}return a}#N(e){return this.#l.serialize(e,this.#j())}static startHighlighting(e,n,{target:r,x:i,y:s}){const{x:a,y:c,width:d,height:f}=r.getBoundingClientRect(),g=new AbortController,m=e.combinedSignal(g),b=y=>{g.abort(),this.#E(e,y)};window.addEventListener("blur",b,{signal:m}),window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("pointerdown",mn,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Si,{signal:m}),r.addEventListener("pointermove",this.#B.bind(this,e),{signal:m}),this._freeHighlight=new fy({x:i,y:s},[a,c,d,f],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof cP){const{data:{quadPoints:S,rect:x,rotation:C,id:E,color:k,opacity:T,popupRef:R},parent:{page:{pageNumber:_}}}=e;i=e={annotationType:Ze.HIGHLIGHT,color:Array.from(k),opacity:T,quadPoints:S,boxes:null,pageIndex:_-1,rect:x.slice(0),rotation:C,annotationElementId:E,id:E,deleted:!1,popupRef:R}}else if(e instanceof eS){const{data:{inkLists:S,rect:x,rotation:C,id:E,color:k,borderStyle:{rawWidth:T},popupRef:R},parent:{page:{pageNumber:_}}}=e;i=e={annotationType:Ze.HIGHLIGHT,color:Array.from(k),thickness:T,inkLists:S,boxes:null,pageIndex:_-1,rect:x.slice(0),rotation:C,annotationElementId:E,id:E,deleted:!1,popupRef:R}}const{color:s,quadPoints:a,inkLists:c,opacity:d}=e,f=await super.deserialize(e,n,r);f.color=He.makeHexColor(...s),f.#g=d||1,c&&(f.#m=e.thickness),f._initialData=i;const[g,m]=f.pageDimensions,[b,y]=f.pageTranslation;if(a){const S=f.#n=[];for(let x=0;x<a.length;x+=8)S.push({x:(a[x]-b)/g,y:1-(a[x+1]-y)/m,width:(a[x+2]-a[x])/g,height:(a[x+1]-a[x+5])/m});f.#v(),f.#k(),f.rotate(f.rotation)}else if(c){f.#u=!0;const S=c[0],x={x:S[0]-b,y:m-(S[1]-y)},C=new fy(x,[0,0,g,m],1,f.#m/2,!0,.001);for(let T=0,R=S.length;T<R;T+=2)x.x=S[T]-b,x.y=m-(S[T+1]-y),C.add(x);const{id:E,clipPathId:k}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);f.#x({highlightOutlines:C.getOutlines(),highlightId:E,clipPathId:k}),f.#k(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=$e._colorManager.convert(this.color),i={annotationType:Ze.HIGHLIGHT,color:r,opacity:this.#g,thickness:this.#m,quadPoints:this.#P(),outlines:this.#N(n),pageIndex:this.pageIndex,rect:n,rotation:this.#j(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#y(i)?null:(i.id=this.annotationElementId,i)}#y(e){const{color:n}=this._initialData;return e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class fP{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Bt("Not implemented")}}class qe extends $e{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#s=null;static#i=NaN;static#a=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#c(e.box)}#h(e,n){const{id:r}=n.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(n))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Bt("Not implemented")}static get typesMap(){Bt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(qe.#n.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,s=i[n],a=c=>{i.updateProperty(n,c);const d=this.#e.updateProperty(n,c);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#g([e,n,r,i]){const{parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[n,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#p(){const{x:e,y:n,width:r,height:i,parentDimensions:[s,a],rotation:c}=this;switch(c){case 90:return[1-n,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#c(e){if([this.x,this.y,this.width,this.height]=this.#g(e),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()}#m(){const{x:e,y:n,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[c,d]}=this;switch((s*4+a)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(c/d),i*(d/c),r*(c/d)];case 5:return[1-n,e,r*(c/d),i*(d/c)];case 6:return[1-e-i*(d/c),1-n,i*(d/c),r*(c/d)];case 7:return[n-r*(c/d),1-e-i*(d/c),r*(c/d),i*(d/c)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(d/c),n,i*(d/c),r*(c/d)];case 13:return[1-n-r*(c/d),e-i*(d/c),r*(c/d),i*(d/c)];case 14:return[1-e,1-n-r*(c/d),i*(d/c),r*(c/d)];case 15:return[n,1-e,r*(c/d),i*(d/c)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,s){Bt("Not implemented")}static startDrawing(e,n,r,i){const{target:s,offsetX:a,offsetY:c,pointerId:d,pointerType:f}=i;if(qe.#a&&qe.#a!==f)return;const{viewport:{rotation:g}}=e,{width:m,height:b}=s.getBoundingClientRect(),y=qe.#r=new AbortController,S=e.combinedSignal(y);if(qe.#i||=d,qe.#a??=f,window.addEventListener("pointerup",x=>{qe.#i===x.pointerId?this._endDraw(x):qe.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointercancel",x=>{qe.#i===x.pointerId?this._currentParent.endDrawingSession():qe.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointerdown",x=>{qe.#a===x.pointerType&&((qe.#o||=new Set).add(x.pointerId),qe.#n.isCancellable()&&(qe.#n.removeLastElement(),qe.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Si,{signal:S}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),s.addEventListener("touchmove",x=>{x.timeStamp===qe.#d&&mn(x)},{signal:S}),e.toggleDrawing(),n._editorUndoBar?.hide(),qe.#n){e.drawLayer.updateProperties(this._currentDrawId,qe.#n.startNew(a,c,m,b,g));return}n.updateUIForDefaultProperties(this),qe.#n=this.createDrawerInstance(a,c,m,b,g),qe.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(qe.#s.toSVGProperties(),qe.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(qe.#d=-1,!qe.#n)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(qe.#i===i){if(qe.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,qe.#n.add(n,r)),qe.#d=e.timeStamp,mn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,qe.#n=null,qe.#s=null,qe.#a=null,qe.#d=NaN),qe.#r&&(qe.#r.abort(),qe.#r=null,qe.#i=NaN,qe.#o=null)}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,qe.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=qe.#n,i=this._currentDrawId,s=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:mt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(mt.DRAW_STEP),!qe.#n.isEmpty()){const{pageDimensions:[r,i],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qe.#n.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:qe.#s,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,s,a){Bt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:c}}=n.viewport,d=this.deserializeDraw(a,c,i,s,this._INNER_MARGIN,e),f=await super.deserialize(e,n,r);return f.createDrawingOptions(e),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[n,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([n,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class kX{#e=new Float64Array(6);#t;#n;#r;#s;#i;#a="";#o=0;#d=new Th;#l;#h;constructor(e,n,r,i,s,a){this.#l=r,this.#h=i,this.#r=s,this.#s=a,[e,n]=this.#u(e,n);const c=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#i=[e,n],this.#n=[{line:c,points:this.#i}],this.#e.set(c,0)}updateProperty(e,n){e==="stroke-width"&&(this.#s=n)}#u(e,n){return Pe._normalizePoint(e,n,this.#l,this.#h,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(e,n){[e,n]=this.#u(e,n);const[r,i,s,a]=this.#e.subarray(2,6),c=e-s,d=n-a;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#i.push(e,n),isNaN(r)?(this.#e.set([s,a,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,n],0),this.#t.push(...Pe.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){this.#l=r,this.#h=i,this.#r=s,[e,n]=this.#u(e,n);const a=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#i=[e,n];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:a,points:this.#i}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#i=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#a="";for(let e=0,n=this.#n.length;e<n;e++){const{line:r,points:i}=this.#n[e];this.#t=r,this.#i=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=Pe.svgRound(this.#t[4]),n=Pe.svgRound(this.#t[5]);if(this.#i.length===2)return this.#a=`${this.#a} M ${e} ${n} Z`,this.#a;if(this.#i.length<=6){const i=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#i.length===4){const i=Pe.svgRound(this.#t[10]),s=Pe.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${i} ${s}`,this.#o=12,this.#a}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,c,d,f,g,m]=this.#t.slice(i,i+6).map(Pe.svgRound);r.push(`C${a} ${c} ${d} ${f} ${g} ${m}`)}return this.#a+=r.join(" "),this.#o=this.#t.length,this.#a}getOutlines(e,n,r,i){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#d.build(this.#n,e,n,r,this.#r,this.#s,i),this.#e=null,this.#t=null,this.#n=null,this.#a=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Th extends Pe{#e;#t=0;#n;#r;#s;#i;#a;#o;#d;build(e,n,r,i,s,a,c){this.#s=n,this.#i=r,this.#a=i,this.#o=s,this.#d=a,this.#n=c??0,this.#r=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#r){if(e.push(`M${Pe.svgRound(n[4])} ${Pe.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${Pe.svgRound(n[10])} ${Pe.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[s,a,c,d,f,g]=n.subarray(r,r+6).map(Pe.svgRound);e.push(`C${s} ${a} ${c} ${d} ${f} ${g}`)}}return e.join("")}serialize([e,n,r,i],s){const a=[],c=[],[d,f,g,m]=this.#h();let b,y,S,x,C,E,k,T,R;switch(this.#o){case 0:R=Pe._rescale,b=e,y=n+i,S=r,x=-i,C=e+d*r,E=n+(1-f-m)*i,k=e+(d+g)*r,T=n+(1-f)*i;break;case 90:R=Pe._rescaleAndSwap,b=e,y=n,S=r,x=i,C=e+f*r,E=n+d*i,k=e+(f+m)*r,T=n+(d+g)*i;break;case 180:R=Pe._rescale,b=e+r,y=n,S=-r,x=i,C=e+(1-d-g)*r,E=n+f*i,k=e+(1-d)*r,T=n+(f+m)*i;break;case 270:R=Pe._rescaleAndSwap,b=e+r,y=n+i,S=-r,x=-i,C=e+(1-f-m)*r,E=n+(1-d-g)*i,k=e+(1-f)*r,T=n+(1-d)*i;break}for(const{line:_,points:O}of this.#r)a.push(R(_,b,y,S,x,s?new Array(_.length):null)),c.push(R(O,b,y,S,x,s?new Array(O.length):null));return{lines:a,points:c,rect:[C,E,k,T]}}static deserialize(e,n,r,i,s,{paths:{lines:a,points:c},rotation:d,thickness:f}){const g=[];let m,b,y,S,x;switch(d){case 0:x=Pe._rescale,m=-e/r,b=n/i+1,y=1/r,S=-1/i;break;case 90:x=Pe._rescaleAndSwap,m=-n/i,b=-e/r,y=1/i,S=1/r;break;case 180:x=Pe._rescale,m=e/r+1,b=-n/i,y=-1/r,S=1/i;break;case 270:x=Pe._rescaleAndSwap,m=n/i+1,b=e/r+1,y=-1/i,S=-1/r;break}if(!a){a=[];for(const E of c){const k=E.length;if(k===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(k===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const T=new Float32Array(3*(k-2));a.push(T);let[R,_,O,I]=E.subarray(0,4);T.set([NaN,NaN,NaN,NaN,R,_],0);for(let M=4;M<k;M+=2){const L=E[M],$=E[M+1];T.set(Pe.createBezierPoints(R,_,O,I,L,$),(M-2)*3),[R,_,O,I]=[O,I,L,$]}}}for(let E=0,k=a.length;E<k;E++)g.push({line:x(a[E].map(T=>T??NaN),m,b,y,S),points:x(c[E].map(T=>T??NaN),m,b,y,S)});const C=new this.prototype.constructor;return C.build(g,r,i,1,d,f,s),C}#l(e=this.#d){const n=this.#n+e/2*this.#a;return this.#o%180===0?[n/this.#s,n/this.#i]:[n/this.#i,n/this.#s]}#h(){const[e,n,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,n+a,r-2*s,i-2*a]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#r){if(i.length<=12){for(let c=4,d=i.length;c<d;c+=6)He.pointBoundingBox(i[c],i[c+1],e);continue}let s=i[4],a=i[5];for(let c=6,d=i.length;c<d;c+=6){const[f,g,m,b,y,S]=i.subarray(c,c+6);He.bezierBoundingBox(s,a,f,g,m,b,y,S,e),s=y,a=S}}const[n,r]=this.#l();e[0]=sr(e[0]-n,0,1),e[1]=sr(e[1]-r,0,1),e[2]=sr(e[2]+n,0,1),e[3]=sr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#d=e;const[i,s]=this.#l(),[a,c]=[i-n,s-r],d=this.#e;return d[0]-=a,d[1]-=c,d[2]+=2*a,d[3]+=2*c,d}updateParentDimensions([e,n],r){const[i,s]=this.#l();this.#s=e,this.#i=n,this.#a=r;const[a,c]=this.#l(),d=a-i,f=c-s,g=this.#e;return g[0]-=d,g[1]-=f,g[2]+=2*d,g[3]+=2*f,g}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Pe.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,s=0,a=0,c=0,d=0;switch(this.#t){case 90:i=n/e,s=-e/n,c=e;break;case 180:r=-1,a=-1,c=e,d=n;break;case 270:i=-n/e,s=e/n,d=n;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${Pe.svgRound(c)} ${Pe.svgRound(d)})`}getPathResizingSVGProperties([e,n,r,i]){const[s,a]=this.#l(),[c,d,f,g]=this.#e;if(Math.abs(f-s)<=Pe.PRECISION||Math.abs(g-a)<=Pe.PRECISION){const x=e+r/2-(c+f/2),C=n+i/2-(d+g/2);return{path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(n)}`,transform:`${this.rotationTransform} translate(${x} ${C})`}}}const m=(r-2*s)/(f-2*s),b=(i-2*a)/(g-2*a),y=f/r,S=g/i;return{path:{"transform-origin":`${Pe.svgRound(c)} ${Pe.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${S}) translate(${Pe.svgRound(s)} ${Pe.svgRound(a)}) scale(${m} ${b}) translate(${Pe.svgRound(-s)} ${Pe.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[s,a]=this.#l(),c=this.#e,[d,f,g,m]=c;if(c[0]=e,c[1]=n,c[2]=r,c[3]=i,Math.abs(g-s)<=Pe.PRECISION||Math.abs(m-a)<=Pe.PRECISION){const C=e+r/2-(d+g/2),E=n+i/2-(f+m/2);for(const{line:k,points:T}of this.#r)Pe._translate(k,C,E,k),Pe._translate(T,C,E,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(r-2*s)/(g-2*s),y=(i-2*a)/(m-2*a),S=-b*(d+s)+e+s,x=-y*(f+a)+n+a;if(b!==1||y!==1||S!==0||x!==0)for(const{line:C,points:E}of this.#r)Pe._rescale(C,S,x,b,y,C),Pe._rescale(E,S,x,b,y,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,s]=r,a=this.#e,c=e-a[0],d=n-a[1];if(this.#s===i&&this.#i===s)for(const{line:f,points:g}of this.#r)Pe._translate(f,c,d,f),Pe._translate(g,c,d,g);else{const f=this.#s/i,g=this.#i/s;this.#s=i,this.#i=s;for(const{line:m,points:b}of this.#r)Pe._rescale(m,c,d,f,g,m),Pe._rescale(b,c,d,f,g,b);a[2]*=f,a[3]*=g}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(e[0])} ${Pe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class gm extends fP{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:$e._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new gm(this._viewParameters);return e.updateAll(this),e}}class nS extends qe{static _type="ink";static _editorType=Ze.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){$e.initialize(e,n),this._defaultDrawingOptions=new gm(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return pt(this,"typesMap",new Map([[mt.INK_THICKNESS,"stroke-width"],[mt.INK_COLOR,"stroke"],[mt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,s){return new kX(e,n,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,s,a){return Th.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){let i=null;if(e instanceof eS){const{data:{inkLists:a,rect:c,rotation:d,id:f,color:g,opacity:m,borderStyle:{rawWidth:b},popupRef:y},parent:{page:{pageNumber:S}}}=e;i=e={annotationType:Ze.INK,color:Array.from(g),thickness:b,opacity:m,paths:{points:a},boxes:null,pageIndex:S-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:y}}const s=await super.deserialize(e,n,r);return s._initialData=i,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=nS.getDefaultDrawingOptions({stroke:He.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":c}}=this,d={annotationType:Ze.INK,color:$e._colorManager.convert(s),opacity:a,thickness:c,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(d.isCopy=!0,d):this.annotationElementId&&!this.#e(d)?null:(d.id=this.annotationElementId,d)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((a,c)=>a!==n[c])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}}class gy extends Th{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const mg=8,fd=3;class Va{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,n,r,i,s,a,c){const d=this.#t(r,i,s,a);for(let f=0;f<8;f++){const g=(-f+d-c+16)%8,m=this.#n[2*g],b=this.#n[2*g+1];if(e[(r+m)*n+(i+b)]!==0)return g}return-1}static#s(e,n,r,i,s,a,c){const d=this.#t(r,i,s,a);for(let f=0;f<8;f++){const g=(f+d+c+16)%8,m=this.#n[2*g],b=this.#n[2*g+1];if(e[(r+m)*n+(i+b)]!==0)return g}return-1}static#i(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let g=0;g<s;g++)a[g]=e[g]<=i?1:0;for(let g=1;g<r-1;g++)a[g*n]=a[g*n+n-1]=0;for(let g=0;g<n;g++)a[g]=a[n*r-1-g]=0;let c=1,d;const f=[];for(let g=1;g<r-1;g++){d=1;for(let m=1;m<n-1;m++){const b=g*n+m,y=a[b];if(y===0)continue;let S=g,x=m;if(y===1&&a[b-1]===0)c+=1,x-=1;else if(y>=1&&a[b+1]===0)c+=1,x+=1,y>1&&(d=y);else{y!==1&&(d=Math.abs(y));continue}const C=[m,g],E=x===m+1,k={isHole:E,points:C,id:c,parent:0};f.push(k);let T;for(const U of f)if(U.id===d){T=U;break}T?T.isHole?k.parent=E?T.parent:d:k.parent=E?d:T.parent:k.parent=E?d:0;const R=this.#r(a,n,g,m,S,x,0);if(R===-1){a[b]=-c,a[b]!==1&&(d=Math.abs(a[b]));continue}let _=this.#n[2*R],O=this.#n[2*R+1];const I=g+_,M=m+O;S=I,x=M;let L=g,$=m;for(;;){const U=this.#s(a,n,L,$,S,x,1);_=this.#n[2*U],O=this.#n[2*U+1];const D=L+_,B=$+O;C.push(B,D);const H=L*n+$;if(a[H+1]===0?a[H]=-c:a[H]===1&&(a[H]=c),D===g&&B===m&&L===I&&$===M){a[b]!==1&&(d=Math.abs(a[b]));break}else S=L,x=$,L=D,$=B}}}return f}static#a(e,n,r,i){if(r-n<=4){for(let I=n;I<r-2;I+=2)i.push(e[I],e[I+1]);return}const s=e[n],a=e[n+1],c=e[r-4]-s,d=e[r-3]-a,f=Math.hypot(c,d),g=c/f,m=d/f,b=g*a-m*s,y=d/c,S=1/f,x=Math.atan(y),C=Math.cos(x),E=Math.sin(x),k=S*(Math.abs(C)+Math.abs(E)),T=S*(1-k+k**2),R=Math.max(Math.atan(Math.abs(E+C)*T),Math.atan(Math.abs(E-C)*T));let _=0,O=n;for(let I=n+2;I<r-2;I+=2){const M=Math.abs(b-g*e[I+1]+m*e[I]);M>_&&(O=I,_=M)}_>(f*R)**2?(this.#a(e,n,O+2,i),this.#a(e,O,r,i)):i.push(s,a)}static#o(e){const n=[],r=e.length;return this.#a(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#d(e,n,r,i,s,a){const c=new Float32Array(a**2),d=-2*i**2,f=a>>1;for(let x=0;x<a;x++){const C=(x-f)**2;for(let E=0;E<a;E++)c[x*a+E]=Math.exp((C+(E-f)**2)/d)}const g=new Float32Array(256),m=-2*s**2;for(let x=0;x<256;x++)g[x]=Math.exp(x**2/m);const b=e.length,y=new Uint8Array(b),S=new Uint32Array(256);for(let x=0;x<r;x++)for(let C=0;C<n;C++){const E=x*n+C,k=e[E];let T=0,R=0;for(let O=0;O<a;O++){const I=x+O-f;if(!(I<0||I>=r))for(let M=0;M<a;M++){const L=C+M-f;if(L<0||L>=n)continue;const $=e[I*n+L],U=c[O*a+M]*g[Math.abs($-k)];T+=$*U,R+=U}}const _=y[E]=Math.round(T/R);S[_]++}return[y,S]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let c=0,d=r.length;c<d;c++){if(e[(c<<2)+3]===0){i=r[c]=255;continue}const g=r[c]=e[c<<2];g>i&&(i=g),g<s&&(s=g)}const a=255/(i-s);for(let c=0;c<n;c++)r[c]=(r[c]-s)*a;return r}static#u(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(d=>d!==0);let a=s,c=s;for(n=s;n<256;n++){const d=e[n];d>r&&(n-a>i&&(i=n-a,c=n-1),r=d,a=n)}for(n=c-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,c=i;if(r>s||i>s){let b=r,y=i,S=Math.log2(Math.max(r,i)/s);const x=Math.floor(S);S=S===x?x-1:x;for(let E=0;E<S;E++){a=Math.ceil(b/2),c=Math.ceil(y/2);const k=new OffscreenCanvas(a,c);k.getContext("2d").drawImage(e,0,0,b,y,0,0,a,c),b=a,y=c,e!==n&&e.close(),e=k.transferToImageBitmap()}const C=Math.min(s/a,s/c);a=Math.round(a*C),c=Math.round(c*C)}const f=new OffscreenCanvas(a,c).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,a,c);const g=f.getImageData(0,0,a,c).data;return[this.#h(g),a,c]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,c,d){let f=new OffscreenCanvas(1,1),g=f.getContext("2d",{alpha:!1});const m=200,b=g.font=`${r} ${i} ${m}px ${n}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:S,actualBoundingBoxAscent:x,actualBoundingBoxDescent:C,fontBoundingBoxAscent:E,fontBoundingBoxDescent:k,width:T}=g.measureText(e),R=1.5,_=Math.ceil(Math.max(Math.abs(y)+Math.abs(S)||0,T)*R),O=Math.ceil(Math.max(Math.abs(x)+Math.abs(C)||m,Math.abs(E)+Math.abs(k)||m)*R);f=new OffscreenCanvas(_,O),g=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=b,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,_,O),g.fillStyle="black",g.fillText(e,_*(R-1)/2,O*(3-R)/2);const I=this.#h(g.getImageData(0,0,_,O).data),M=this.#l(I),L=this.#u(M),$=this.#i(I,_,O,L);return this.processDrawnLines({lines:{curves:$,width:_,height:O},pageWidth:s,pageHeight:a,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,c,d]=this.#f(e),[f,g]=this.#d(a,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#u(g),b=this.#i(f,c,d,m);return this.processDrawnLines({lines:{curves:b,width:c,height:d},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:c}){i%180!==0&&([n,r]=[r,n]);const{curves:d,width:f,height:g}=e,m=e.thickness??0,b=[],y=Math.min(n/f,r/g),S=y/n,x=y/r,C=[];for(const{points:k}of d){const T=a?this.#o(k):k;if(!T)continue;C.push(T);const R=T.length,_=new Float32Array(R),O=new Float32Array(3*(R===2?2:R-2));if(b.push({line:O,points:_}),R===2){_[0]=T[0]*S,_[1]=T[1]*x,O.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[I,M,L,$]=T;I*=S,M*=x,L*=S,$*=x,_.set([I,M,L,$],0),O.set([NaN,NaN,NaN,NaN,I,M],0);for(let U=4;U<R;U+=2){const D=_[U]=T[U]*S,B=_[U+1]=T[U+1]*x;O.set(Pe.createBezierPoints(I,M,L,$,D,B),(U-2)*3),[I,M,L,$]=[L,$,D,B]}}if(b.length===0)return null;const E=c?new gy:new Th;return E.build(b,n,r,1,i,c?0:m,s),{outline:E,newCurves:C,areContours:c,thickness:m,width:f,height:g}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,c=-1/0,d=0;for(const T of e){d+=T.length;for(let R=2,_=T.length;R<_;R++){const O=T[R]-T[R-2];a=Math.min(a,O),c=Math.max(c,O)}}let f;a>=-128&&c<=127?f=Int8Array:a>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const g=e.length,m=mg+fd*g,b=new Uint32Array(m);let y=0;b[y++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*g)*f.BYTES_PER_ELEMENT,b[y++]=0,b[y++]=i,b[y++]=s,b[y++]=n?0:1,b[y++]=Math.max(0,Math.floor(r??0)),b[y++]=g,b[y++]=f.BYTES_PER_ELEMENT;for(const T of e)b[y++]=T.length-2,b[y++]=T[0],b[y++]=T[1];const S=new CompressionStream("deflate-raw"),x=S.writable.getWriter();await x.ready,x.write(b);const C=f.prototype.constructor;for(const T of e){const R=new C(T.length-2);for(let _=2,O=T.length;_<O;_++)R[_-2]=T[_]-T[_-2];x.write(R)}x.close();const E=await new Response(S.readable).arrayBuffer(),k=new Uint8Array(E);return Mj(k)}static async decompressSignature(e){try{const n=sY(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,c=0;for await(const T of r)a||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),a.set(T,c),c+=T.length;const d=new Uint32Array(a.buffer,0,a.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const g=d[2],m=d[3],b=d[4]===0,y=d[5],S=d[6],x=d[7],C=[],E=(mg+fd*S)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(x){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(a.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(a.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(a.buffer,E);break}c=0;for(let T=0;T<S;T++){const R=d[fd*T+mg],_=new Float32Array(R+2);C.push(_);for(let O=0;O<fd-1;O++)_[O]=d[fd*T+mg+O+1];for(let O=0;O<R;O++)_[O+2]=_[O]+k[c++]}return{areContours:b,thickness:y,outlines:C,width:g,height:m}}catch(n){return et(`decompressSignature: ${n}`),null}}}class rS extends fP{constructor(){super(),super.updateProperties({fill:$e._defaultLineColor,"stroke-width":0})}clone(){const e=new rS;return e.updateAll(this),e}}class iS extends gm{constructor(e){super(e),super.updateProperties({stroke:$e._defaultLineColor,"stroke-width":1})}clone(){const e=new iS(this._viewParameters);return e.updateAll(this),e}}class os extends qe{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Ze.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){$e.initialize(e,n),this._defaultDrawingOptions=new rS,this._defaultDrawnSignatureOptions=new iS(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return pt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:s,areContours:a,description:c,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:g,pageHeight:m},rotation:b}=this.parent.viewport,y=Va.processDrawnLines({lines:i,pageWidth:g,pageHeight:m,rotation:b,innerMargin:os._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(y,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:s}=this.#n,a=Math.max(i,s),c=Va.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:s,y:a}=this,{outline:c}=this.#n=e;this.#e=c instanceof gy,this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let d;this.#e?d=os.getDefaultDrawingOptions():(d=os._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[f,g]=this.parentDimensions,[,m]=this.pageDimensions;let b=n/m;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(f*this.width,g*this.height),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Va.process(e,n,r,i,os._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Va.extractContoursFromText(e,n,r,i,s,os._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Va.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:os._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=os.getDefaultDrawingOptions():(this._drawingOptions=os._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,a={annotationType:Ze.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:s,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.paths={lines:n,points:r},a.uuid=this.#r,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,s,a){return a.areContours?gy.deserialize(e,n,r,i,s,a):Th.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.#t=e.accessibilityData?.alt||"",i.#r=e.uuid,i}}class OX extends $e{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#a=null;#o=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ze.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){$e.initialize(e,n)}static isHandlingMimeForPasting(e){return xp.includes(e)}static paste(e,n){n.pasteEditor({mode:Ze.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#u(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#i=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#u(r,!0)).finally(()=>this.#f());return}if(this.#r){const r=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#u(i)).finally(()=>this.#f());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#u(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=xp.join(",");const n=this._uiManager._signal;this.#n=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},e)}#p(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const g=Math.min(a*i/n,a*s/r);n*=g,r*=g}const[c,d]=this.parentDimensions;this.setDims(n*c/i,r*d/s),this._uiManager.enableWaiting(!1);const f=this.#a=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=n/i,this.height=r/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Fi;let c=this.#e,d=i,f=s,g=null;if(n){if(i>n||s>n){const O=Math.min(n/i,n/s);d=Math.floor(i*O),f=Math.floor(s*O)}g=document.createElement("canvas");const b=g.width=Math.ceil(d*a.sx),y=g.height=Math.ceil(f*a.sy);this.#l||(c=this.#c(b,y));const S=g.getContext("2d");S.filter=this._uiManager.hcmFilter;let x="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",C="#42414d");const E=15,k=E*a.sx,T=E*a.sy,R=new OffscreenCanvas(k*2,T*2),_=R.getContext("2d");_.fillStyle=x,_.fillRect(0,0,k*2,T*2),_.fillStyle=C,_.fillRect(0,0,k,T),_.fillRect(k,T,k,T),S.fillStyle=S.createPattern(R,"repeat"),S.fillRect(0,0,b,y),S.drawImage(c,0,0,c.width,c.height,0,0,b,y)}let m=null;if(r){let b,y;if(a.symmetric&&c.width<e&&c.height<e)b=c.width,y=c.height;else if(c=this.#e,i>e||s>e){const C=Math.min(e/i,e/s);b=Math.floor(i*C),y=Math.floor(s*C),this.#l||(c=this.#c(b,y))}const x=new OffscreenCanvas(b,y).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,b,y),m={width:b,height:y,data:x.getImageData(0,0,b,y).data}}return{canvas:g,width:d,height:f,imageData:m}}#c(e,n){const{width:r,height:i}=this.#e;let s=r,a=i,c=this.#e;for(;s>2*e||a>2*n;){const d=s,f=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const g=new OffscreenCanvas(s,a);g.getContext("2d").drawImage(c,0,0,d,f,0,0,s,a),c=g.transferToImageBitmap()}return c}#m(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,s=new Fi,a=Math.ceil(r*e*s.sx),c=Math.ceil(i*n*s.sy),d=this.#a;if(!d||d.width===a&&d.height===c)return;d.width=a,d.height=c;const f=this.#l?this.#e:this.#c(a,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,a,c)}#b(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*ol.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*ol.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,s=!1;if(e instanceof uP){const{data:{rect:x,rotation:C,id:E,structParent:k,popupRef:T},container:R,parent:{page:{pageNumber:_}},canvas:O}=e;let I,M;O?(delete e.canvas,{id:I,bitmap:M}=r.imageManager.getFromCanvas(R.id,O),O.remove()):(s=!0,e._hasNoCanvas=!0);const L=(await n._structTree.getAriaAttributes(`${Vx}${E}`))?.get("aria-label")||"";i=e={annotationType:Ze.STAMP,bitmapId:I,bitmap:M,pageIndex:_-1,rect:x.slice(0),rotation:C,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:k,popupRef:T}}const a=await super.deserialize(e,n,r),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:g,isSvg:m,accessibilityData:b}=e;s?(r.addMissingCanvas(e.id,a),a.#o=!0):g&&r.imageManager.isValidId(g)?(a.#t=g,d&&(a.#e=d)):a.#r=f,a.#l=m;const[y,S]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/S,b&&(a.altTextData=b),a._initialData=i,a.#h=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ze.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=this.#b(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#v(r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#b(!1);else if(this.#l){const c=n.stamps.get(this.#t);a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=this.#b(!1))}return r}#v(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class ls{#e;#t=!1;#n=null;#r=null;#s=null;#i=new Map;#a=!1;#o=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#g=null;#p=-1;#c;static _initialized=!1;static#m=new Map([jn,nS,OX,gn,os].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:c,textLayer:d,viewport:f,l10n:g}){const m=[...ls.#m.values()];if(!ls._initialized){ls._initialized=!0;for(const b of m)b.initialize(g,e)}e.registerEditorTypes(m),this.#c=e,this.pageIndex=n,this.div=r,this.#e=s,this.#n=a,this.viewport=f,this.#u=d,this.drawLayer=c,this._structTree=i,this.#c.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Ze.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#w(),e){case Ze.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of ls.#m.values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#i.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#c.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#n){this.#d=!1;return}const n=this.#n.getEditableAnnotations();for(const r of n){if(r.hide(),this.#c.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#d=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const i=this.#c.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:d,timeStamp:f}=s,g=this.#p;if(f-g>500){this.#p=f;return}this.#p=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const b=document.elementsFromPoint(c,d);if(m.toggle("getElements",!1),!this.div.contains(b[0]))return;let y;const S=new RegExp(`^${Oj}[0-9]+$`);for(const C of b)if(S.test(C.id)){y=C.id;break}if(!y)return;const x=this.#i.get(y);x?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),x.dblclick())},{signal:i,capture:!0})}const e=new Map,n=new Map;for(const i of this.#i.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else n.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const s of i){const{id:a}=s.data;if(this.#c.isDeletedAnnotationElement(a))continue;let c=n.get(a);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=e.get(a),c&&(this.#c.addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of ls.#m.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#b(e){this.#c.unselectAll();const{target:n}=e;if(n===this.#u.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#u.div.contains(n)){const{isMac:r}=Vn.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),gn.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#c.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:n}=e;n&&this.#c.isDeletedAnnotationElement(n)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),$e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return this.#c.getId()}get#v(){return ls.#m.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#x(e){const n=this.#v;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#S(),s=this.getNextId(),a=this.#x({parent:this,id:s,x:r,y:i,uiManager:this.#c,isCentered:!0,...n});a&&this.add(a)}async deserialize(e){return await ls.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=this.#x({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:n,...r});return s&&this.add(s),s}#S(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,n),c=Math.min(window.innerWidth,e+r),d=Math.min(window.innerHeight,n+i),f=(s+c)/2-e,g=(a+d)/2-n,[m,b]=this.viewport.rotation%180===0?[f,g]:[g,f];return{offsetX:m,offsetY:b}}addNewEditor(e={}){this.createAndAddNewEditor(this.#S(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#c.getMode();if(r===Ze.STAMP||r===Ze.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===Ze.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(e);return}const r=this.#c.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#v.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#c.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#c.removeLayer(this)}#w(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Ko(this.div,e);for(const n of this.#c.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Ko(this.div,{rotation:r}),n!==r)for(const i of this.#i.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#c.viewParameters.realScale}}class Bn{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return pt(this,"_svgFactory",new eh)}static#s(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#i(){const e=Bn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,n){const r=Bn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Bn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Bn.#r++,s=this.#i(),a=Bn._svgFactory.createElement("defs");s.append(a);const c=Bn._svgFactory.createElement("path");a.append(c);const d=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#n.set(i,c);const f=r?this.#a(a,d):null,g=Bn._svgFactory.createElement("use");return s.append(g),g.setAttribute("href",`#${d}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${f})`}}drawOutline(e,n){const r=Bn.#r++,i=this.#i(),s=Bn._svgFactory.createElement("defs");i.append(s);const a=Bn._svgFactory.createElement("path");s.append(a);const c=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke");let d;if(n){const m=Bn._svgFactory.createElement("mask");s.append(m),d=`mask_p${this.pageIndex}_${r}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=Bn._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const y=Bn._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Bn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return i.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#n.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,c=typeof e=="number"?this.#t.get(e):e;if(c){if(r&&this.#o(c,r),i&&Bn.#s(c,i),s){const{classList:d}=c;for(const[f,g]of Object.entries(s))d.toggle(f,g)}if(a){const f=c.firstChild.firstChild;this.#o(f,a)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:hy};globalThis.pdfjsLib={AbortException:no,AnnotationEditorLayer:ls,AnnotationEditorParamsType:mt,AnnotationEditorType:Ze,AnnotationEditorUIManager:ro,AnnotationLayer:tS,AnnotationMode:hs,AnnotationType:fn,build:iP,ColorPicker:Gr,createValidAbsoluteUrl:zx,DOMSVGFactory:eh,DrawLayer:Bn,FeatureTest:Vn,fetchData:Yc,getDocument:Kx,getFilenameFromUrl:Dj,getPdfFilenameFromUrl:Lj,getUuid:Bx,getXfaPageViewport:zj,GlobalWorkerOptions:bs,ImageKind:Nd,InvalidPDFException:yp,isDataScheme:Ch,isPdfFile:hm,isValidExplicitDest:Hj,MathClamp:sr,noContextMenu:Si,normalizeUnicode:Ij,OPS:Kd,OutputScale:Fi,PasswordResponses:Pj,PDFDataRangeTransport:Zx,PDFDateString:Hx,PDFWorker:Nc,PermissionFlag:jj,PixelsPerInch:ol,RenderingCancelledException:dm,ResponseException:Qd,setLayerDimensions:Ko,shadow:pt,SignatureExtractor:Va,stopEvent:mn,SupportedImageMimeTypes:xp,TextLayer:Zd,TouchManager:Ah,updateUrlHash:Fx,Util:He,VerbosityLevel:xh,version:rP,XfaLayer:Jx};const jX=Object.freeze(Object.defineProperty({__proto__:null,AbortException:no,AnnotationEditorLayer:ls,AnnotationEditorParamsType:mt,AnnotationEditorType:Ze,AnnotationEditorUIManager:ro,AnnotationLayer:tS,AnnotationMode:hs,AnnotationType:fn,ColorPicker:Gr,DOMSVGFactory:eh,DrawLayer:Bn,FeatureTest:Vn,GlobalWorkerOptions:bs,ImageKind:Nd,InvalidPDFException:yp,MathClamp:sr,OPS:Kd,OutputScale:Fi,PDFDataRangeTransport:Zx,PDFDateString:Hx,PDFWorker:Nc,PasswordResponses:Pj,PermissionFlag:jj,PixelsPerInch:ol,RenderingCancelledException:dm,ResponseException:Qd,SignatureExtractor:Va,SupportedImageMimeTypes:xp,TextLayer:Zd,TouchManager:Ah,Util:He,VerbosityLevel:xh,XfaLayer:Jx,build:iP,createValidAbsoluteUrl:zx,fetchData:Yc,getDocument:Kx,getFilenameFromUrl:Dj,getPdfFilenameFromUrl:Lj,getUuid:Bx,getXfaPageViewport:zj,isDataScheme:Ch,isPdfFile:hm,isValidExplicitDest:Hj,noContextMenu:Si,normalizeUnicode:Ij,setLayerDimensions:Ko,shadow:pt,stopEvent:mn,updateUrlHash:Fx,version:rP},Symbol.toStringTag,{value:"Module"}));function gP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pm(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gP(t))&&(r&&(r+=" "),r+=e);return r}var RT=Object.prototype.hasOwnProperty;function kT(t,e,n){for(n of t.keys())if(Ec(n,e))return n}function Ec(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ec(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=kT(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=kT(e,i),!i)||!Ec(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(RT.call(t,n)&&++r&&!RT.call(e,n)||!(n in e)||!Ec(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Rh(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(s=>!e&&r(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const PX=["onCopy","onCut","onPaste"],NX=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],IX=["onFocus","onBlur"],MX=["onInput","onInvalid","onReset","onSubmit"],DX=["onLoad","onError"],LX=["onKeyDown","onKeyPress","onKeyUp"],zX=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],FX=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],BX=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],VX=["onSelect"],HX=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$X=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],UX=["onScroll"],WX=["onWheel"],GX=["onAnimationStart","onAnimationEnd","onAnimationIteration"],qX=["onTransitionEnd"],YX=["onToggle"],XX=["onChange"],KX=[...PX,...NX,...IX,...MX,...DX,...LX,...zX,...FX,...BX,...VX,...HX,...$X,...UX,...WX,...GX,...qX,...XX,...YX];function pP(t,e){const n={};for(const r of KX){const i=t[r];i&&(e?n[r]=s=>i(s,e(r)):n[r]=i)}return n}var QX="Invariant failed";function Ut(t,e){if(!t)throw new Error(QX)}var xv,OT;function ZX(){if(OT)return xv;OT=1;var t=function(){};return xv=t,xv}var JX=ZX();const ar=th(JX),mP=A.createContext(null),eK="noopener noreferrer nofollow";class tK{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ut(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{Ut(this.pdfDocument),Ut(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Ut(Array.isArray(n));const r=n[0];new Promise(i=>{Ut(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Ut(!1)}):typeof r=="number"?i(r):Ut(!1)}).then(i=>{const s=i+1;Ut(this.pdfViewer),Ut(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;Ut(this.pdfViewer),Ut(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||eK,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Ac({children:t,type:e}){return h.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const jT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function nK(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Ic(){return A.useReducer(nK,{value:void 0,error:void 0})}const mm=typeof window<"u",bP=mm&&window.location.protocol==="file:";function rK(t){return typeof t<"u"}function Ma(t){return rK(t)&&t!==null}function iK(t){return typeof t=="string"}function sK(t){return t instanceof ArrayBuffer}function oK(t){return Ut(mm),t instanceof Blob}function py(t){return iK(t)&&/^data:/.test(t)}function PT(t){Ut(py(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function aK(){return mm&&window.devicePixelRatio||1}const vP="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function NT(){ar(!bP,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${vP}`)}function lK(){ar(!bP,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${vP}`)}function ll(t){t?.cancel&&t.cancel()}function my(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function cK(t){return t.name==="RenderingCancelledException"}function uK(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return n(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:dK}=jX,hK=(t,e)=>{switch(e){case jT.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case jT.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function IT(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const sS=A.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:a,inputRef:c,imageResourcesPath:d,loading:f="Loading PDF",noData:g="No PDF file specified.",onItemClick:m,onLoadError:b,onLoadProgress:y,onLoadSuccess:S,onPassword:x=hK,onSourceError:C,onSourceSuccess:E,options:k,renderMode:T,rotate:R,scale:_,...O},I){const[M,L]=Ic(),{value:$,error:U}=M,[D,B]=Ic(),{value:H,error:G}=D,P=A.useRef(new tK),W=A.useRef([]),Q=A.useRef(void 0),se=A.useRef(void 0);a&&a!==Q.current&&IT(a)&&(ar(!Ec(a,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=a),k&&k!==se.current&&(ar(!Ec(k,se.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),se.current=k);const F=A.useRef({scrollPageIntoView:ve=>{const{dest:je,pageNumber:Je,pageIndex:tt=Je-1}=ve;if(m){m({dest:je,pageIndex:tt,pageNumber:Je});return}const nt=W.current[tt];if(nt){nt.scrollIntoView();return}ar(!1,`An internal link leading to page ${Je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});A.useImperativeHandle(I,()=>({linkService:P,pages:W,viewer:F}),[]);function Z(){E&&E()}function fe(){U&&(ar(!1,U.toString()),C&&C(U))}function ce(){L({type:"RESET"})}A.useEffect(ce,[a,L]);const _e=A.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return py(a)?{data:PT(a)}:(NT(),{url:a});if(a instanceof dK)return{range:a};if(sK(a))return{data:a};if(mm&&oK(a))return{data:await uK(a)};if(Ut(typeof a=="object"),Ut(IT(a)),"url"in a&&typeof a.url=="string"){if(py(a.url)){const{url:ve,...je}=a;return{data:PT(ve),...je}}NT()}return a},[a]);A.useEffect(()=>{const ve=Rh(_e());return ve.promise.then(je=>{L({type:"RESOLVE",value:je})}).catch(je=>{L({type:"REJECT",error:je})}),()=>{ll(ve)}},[_e,L]),A.useEffect(()=>{if(!(typeof $>"u")){if($===!1){fe();return}Z()}},[$]);function Ae(){H&&(S&&S(H),W.current=new Array(H.numPages),P.current.setDocument(H))}function Re(){G&&(ar(!1,G.toString()),b&&b(G))}A.useEffect(function(){B({type:"RESET"})},[B,$]),A.useEffect(function(){if(!$)return;const je=k?{...$,...k}:$,Je=Kx(je);y&&(Je.onProgress=y),x&&(Je.onPassword=x);const tt=Je,nt=tt.promise.then(un=>{B({type:"RESOLVE",value:un})}).catch(un=>{tt.destroyed||B({type:"REJECT",error:un})});return()=>{nt.finally(()=>tt.destroy())}},[k,B,$]),A.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){Re();return}Ae()}},[H]),A.useEffect(function(){P.current.setViewer(F.current),P.current.setExternalLinkRel(i),P.current.setExternalLinkTarget(s)},[i,s]);const ge=A.useCallback((ve,je)=>{W.current[ve]=je},[]),ue=A.useCallback(ve=>{delete W.current[ve]},[]),pe=A.useMemo(()=>({imageResourcesPath:d,linkService:P.current,onItemClick:m,pdf:H,registerPage:ge,renderMode:T,rotate:R,scale:_,unregisterPage:ue}),[d,m,H,ge,T,R,_,ue]),Ee=A.useMemo(()=>pP(O,()=>H),[O,H]);function te(){function ve(Je){return!!Je?.pdf}if(!ve(pe))throw new Error("pdf is undefined");const je=typeof e=="function"?e(pe):e;return h.jsx(mP.Provider,{value:pe,children:je})}function Ce(){return a?H==null?h.jsx(Ac,{type:"loading",children:typeof f=="function"?f():f}):H===!1?h.jsx(Ac,{type:"error",children:typeof r=="function"?r():r}):te():h.jsx(Ac,{type:"no-data",children:typeof g=="function"?g():g})}return h.jsx("div",{className:pm("react-pdf__Document",n),ref:c,...Ee,children:Ce()})});function yP(){return A.useContext(mP)}function xP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(s){for(var a=0,c=n;a<c.length;a++){var d=c[a];typeof d=="function"?d(s):d&&(d.current=s)}}}const SP=A.createContext(null);function bm(){return A.useContext(SP)}function fK(){const t=yP(),e=bm();Ut(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:f,pdf:g,renderForms:m,rotate:b,scale:y=1}=n;Ut(g),Ut(f),Ut(i);const[S,x]=Ic(),{value:C,error:E}=S,k=A.useRef(null);ar(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function T(){C&&a&&a(C)}function R(){E&&(ar(!1,E.toString()),s&&s(E))}A.useEffect(function(){x({type:"RESET"})},[x,f]),A.useEffect(function(){if(!f)return;const L=Rh(f.getAnnotations()),$=L;return L.promise.then(U=>{x({type:"RESOLVE",value:U})}).catch(U=>{x({type:"REJECT",error:U})}),()=>{ll($)}},[x,f]),A.useEffect(()=>{if(C!==void 0){if(C===!1){R();return}T()}},[C]);function _(){d&&d()}function O(M){ar(!1,`${M}`),c&&c(M)}const I=A.useMemo(()=>f.getViewport({scale:y,rotation:b}),[f,b,y]);return A.useEffect(function(){if(!g||!f||!i||!C)return;const{current:L}=k;if(!L)return;const $=I.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:f,structTreeLayer:null,viewport:$},D={annotations:C,annotationStorage:g.annotationStorage,div:L,imageResourcesPath:r,linkService:i,page:f,renderForms:m,viewport:$};L.innerHTML="";try{new tS(U).render(D),_()}catch(B){O(B)}return()=>{}},[C,r,i,f,g,m,I]),h.jsx("div",{className:pm("react-pdf__Page__annotations","annotationLayer"),ref:k})}const wP={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},gK=/^H(\d+)$/;function pK(t){return t in wP}function vm(t){return"children"in t}function CP(t){return vm(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function mK(t){const e={};if(vm(t)){const{role:n}=t,r=n.match(gK);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(pK(n)){const i=wP[n];i&&(e.role=i)}}return e}function EP(t){const e={};if(vm(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),CP(t)){const[n]=t.children;if(n){const r=EP(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function bK(t){return t?{...mK(t),...EP(t)}:null}function AP({className:t,node:e}){const n=A.useMemo(()=>bK(e),[e]),r=A.useMemo(()=>!vm(e)||CP(e)?null:e.children.map((i,s)=>h.jsx(AP,{node:i},s)),[e]);return h.jsx("span",{className:t,...n,children:r})}function vK(){const t=bm();Ut(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=Ic(),{value:s,error:a}=r,{customTextRenderer:c,page:d}=t;function f(){s&&n&&n(s)}function g(){a&&(ar(!1,a.toString()),e&&e(a))}return A.useEffect(function(){i({type:"RESET"})},[i,d]),A.useEffect(function(){if(c||!d)return;const b=Rh(d.getStructTree()),y=b;return b.promise.then(S=>{i({type:"RESOLVE",value:S})}).catch(S=>{i({type:"REJECT",error:S})}),()=>ll(y)},[c,d,i]),A.useEffect(()=>{if(s!==void 0){if(s===!1){g();return}f()}},[s]),s?h.jsx(AP,{className:"react-pdf__Page__structTree structTree",node:s}):null}const MT=hs;function yK(t){const e=bm();Ut(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:s=aK(),onRenderError:a,onRenderSuccess:c,page:d,renderForms:f,renderTextLayer:g,rotate:m,scale:b}=n,{canvasRef:y}=t;Ut(d);const S=A.useRef(null);function x(){d&&c&&c(my(d,b))}function C(R){cK(R)||(ar(!1,R.toString()),a&&a(R))}const E=A.useMemo(()=>d.getViewport({scale:b*s,rotation:m}),[s,d,m,b]),k=A.useMemo(()=>d.getViewport({scale:b,rotation:m}),[d,m,b]);A.useEffect(function(){if(!d)return;d.cleanup();const{current:_}=S;if(!_)return;_.width=E.width,_.height=E.height,_.style.width=`${Math.floor(k.width)}px`,_.style.height=`${Math.floor(k.height)}px`,_.style.visibility="hidden";const O={annotationMode:f?MT.ENABLE_FORMS:MT.ENABLE,canvasContext:_.getContext("2d",{alpha:!1}),viewport:E};i&&(O.background=i);const I=d.render(O),M=I;return I.promise.then(()=>{_.style.visibility="",x()}).catch(C),()=>ll(M)},[i,d,f,E,k]);const T=A.useCallback(()=>{const{current:R}=S;R&&(R.width=0,R.height=0)},[]);return A.useEffect(()=>T,[T]),h.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:xP(y,S),style:{display:"block",userSelect:"none"},children:g?h.jsx(vK,{}):null})}function xK(t){return"str"in t}function SK(){const t=bm();Ut(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:a,pageIndex:c,pageNumber:d,rotate:f,scale:g}=t;Ut(a);const[m,b]=Ic(),{value:y,error:S}=m,x=A.useRef(null);ar(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){y&&r&&r(y)}function E(){S&&(ar(!1,S.toString()),n&&n(S))}A.useEffect(function(){b({type:"RESET"})},[a,b]),A.useEffect(function(){if(!a)return;const M=Rh(a.getTextContent()),L=M;return M.promise.then($=>{b({type:"RESOLVE",value:$})}).catch($=>{b({type:"REJECT",error:$})}),()=>ll(L)},[a,b]),A.useEffect(()=>{if(y!==void 0){if(y===!1){E();return}C()}},[y]);const k=A.useCallback(()=>{s&&s()},[s]),T=A.useCallback(I=>{ar(!1,I.toString()),i&&i(I)},[i]);function R(){const I=x.current;I&&I.classList.add("selecting")}function _(){const I=x.current;I&&I.classList.remove("selecting")}const O=A.useMemo(()=>a.getViewport({scale:g,rotation:f}),[a,f,g]);return A.useLayoutEffect(function(){if(!a||!y)return;const{current:M}=x;if(!M)return;M.innerHTML="";const L=a.streamTextContent({includeMarkedContent:!0}),$={container:M,textContentSource:L,viewport:O},U=new Zd($),D=U;return U.render().then(()=>{const B=document.createElement("div");B.className="endOfContent",M.append(B);const H=M.querySelectorAll('[role="presentation"]');if(e){let G=0;y.items.forEach((P,W)=>{if(!xK(P))return;const Q=H[G];if(!Q)return;const se=e({pageIndex:c,pageNumber:d,itemIndex:W,...P});Q.innerHTML=se,G+=P.str&&P.hasEOL?2:1})}k()}).catch(T),()=>ll(D)},[e,T,k,a,c,d,y,O]),h.jsx("div",{className:pm("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:R,ref:x})}const DT=1;function oS(t){const n={...yP(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:c,className:d,customRenderer:f,customTextRenderer:g,devicePixelRatio:m,error:b="Failed to load the page.",height:y,inputRef:S,loading:x="Loading page",noData:C="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:k,onGetStructTreeError:T,onGetStructTreeSuccess:R,onGetTextError:_,onGetTextSuccess:O,onLoadError:I,onLoadSuccess:M,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:$,onRenderError:U,onRenderSuccess:D,onRenderTextLayerError:B,onRenderTextLayerSuccess:H,pageIndex:G,pageNumber:P,pdf:W,registerPage:Q,renderAnnotationLayer:se=!0,renderForms:F=!1,renderMode:Z="canvas",renderTextLayer:fe=!0,rotate:ce,scale:_e=DT,unregisterPage:Ae,width:Re,...ge}=n,[ue,pe]=Ic(),{value:Ee,error:te}=ue,Ce=A.useRef(null);Ut(W);const ve=Ma(P)?P-1:G??null,je=P??(Ma(G)?G+1:null),Je=ce??(Ee?Ee.rotate:null),tt=A.useMemo(()=>{if(!Ee)return null;let wt=1;const Nn=_e??DT;if(Re||y){const Wt=Ee.getViewport({scale:1,rotation:Je});Re?wt=Re/Wt.width:y&&(wt=y/Wt.height)}return Nn*wt},[y,Ee,Je,_e,Re]);A.useEffect(function(){return()=>{Ma(ve)&&i&&Ae&&Ae(ve)}},[i,W,ve,Ae]);function nt(){if(M){if(!Ee||!tt)return;M(my(Ee,tt))}if(i&&Q){if(!Ma(ve)||!Ce.current)return;Q(ve,Ce.current)}}function un(){te&&(ar(!1,te.toString()),I&&I(te))}A.useEffect(function(){pe({type:"RESET"})},[pe,W,ve]),A.useEffect(function(){if(!W||!je)return;const Nn=Rh(W.getPage(je)),Wt=Nn;return Nn.promise.then(na=>{pe({type:"RESOLVE",value:na})}).catch(na=>{pe({type:"REJECT",error:na})}),()=>ll(Wt)},[pe,W,je]),A.useEffect(()=>{if(Ee!==void 0){if(Ee===!1){un();return}nt()}},[Ee,tt]);const Ir=A.useMemo(()=>Ma(ve)&&je&&Ma(Je)&&Ma(tt)?{_className:r,canvasBackground:s,customTextRenderer:g,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:k,onGetStructTreeError:T,onGetStructTreeSuccess:R,onGetTextError:_,onGetTextSuccess:O,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:$,onRenderError:U,onRenderSuccess:D,onRenderTextLayerError:B,onRenderTextLayerSuccess:H,page:Ee,pageIndex:ve,pageNumber:je,renderForms:F,renderTextLayer:fe,rotate:Je,scale:tt}:null,[r,s,g,m,E,k,T,R,_,O,L,$,U,D,B,H,Ee,ve,je,F,fe,Je,tt]),Rn=A.useMemo(()=>pP(ge,()=>Ee&&(tt?my(Ee,tt):void 0)),[ge,Ee,tt]),Jn=`${ve}@${tt}/${Je}`;function mr(){switch(Z){case"custom":return Ut(f),h.jsx(f,{},`${Jn}_custom`);case"none":return null;case"canvas":default:return h.jsx(yK,{canvasRef:a},`${Jn}_canvas`)}}function br(){return fe?h.jsx(SK,{},`${Jn}_text`):null}function gl(){return se?h.jsx(fK,{},`${Jn}_annotations`):null}function ta(){function wt(Wt){return!!Wt?.page}if(!wt(Ir))throw new Error("page is undefined");const Nn=typeof c=="function"?c(Ir):c;return h.jsxs(SP.Provider,{value:Ir,children:[mr(),br(),gl(),Nn]})}function er(){return je?W===null||Ee===void 0||Ee===null?h.jsx(Ac,{type:"loading",children:typeof x=="function"?x():x}):W===!1||Ee===!1?h.jsx(Ac,{type:"error",children:typeof b=="function"?b():b}):ta():h.jsx(Ac,{type:"no-data",children:typeof C=="function"?C():C})}return h.jsx("div",{className:pm(r,d),"data-page-number":je,ref:xP(S,Ce),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${tt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Rn,children:er()})}lK();bs.workerSrc="pdf.worker.mjs";bs.workerSrc="/pdf.worker.min.js";const wK=({pdfUrl:t,questions:e,onQuestionsChange:n,onSaveOutline:r,onCancel:i,isSaving:s=!1})=>{const[a,c]=A.useState(0),[d,f]=A.useState(1),[g,m]=A.useState(1),[b,y]=A.useState(0),[S,x]=A.useState(!0),[C,E]=A.useState(null),[k,T]=A.useState(null);Mt.useEffect(()=>{console.log("GradescopePDFViewer - PDF URL:",t)},[t]),A.useEffect(()=>{if(!t){E("No PDF URL provided"),x(!1);return}k&&(URL.revokeObjectURL(k),T(null));let P=!1;return(async()=>{try{x(!0),E(null),console.log("Fetching PDF from:",t);const Q=await fetch(t,{credentials:"include",headers:{Accept:"application/pdf"}});if(!Q.ok)throw new Error(`HTTP ${Q.status}: ${Q.statusText}`);const se=Q.headers.get("content-type");if(!se||!se.includes("application/pdf"))throw new Error(`Invalid content type: ${se}. Expected application/pdf`);const F=await Q.arrayBuffer();if(P)return;const Z=new Blob([F],{type:"application/pdf"}),fe=URL.createObjectURL(Z);T(fe),x(!1),console.log("PDF fetched successfully, size:",F.byteLength,"bytes"),console.log("PDF blob URL created:",fe)}catch(Q){if(P)return;console.error("PDF fetch error:",Q),E(`Failed to load PDF: ${Q.message}`),x(!1)}})(),()=>{P=!0}},[t]),A.useEffect(()=>()=>{k&&URL.revokeObjectURL(k)},[k]);const[R,_]=A.useState(""),[O,I]=A.useState(10),[M,L]=A.useState(!1),$=A.useRef(null),U=A.useCallback(({numPages:P})=>{console.log("PDF loaded successfully:",P,"pages"),c(P),x(!1),E(null)},[]),D=A.useCallback(P=>{console.error("PDF load error:",P),console.error("PDF URL:",t),E(`Failed to load PDF: ${P.message}`),x(!1)},[t]),B=A.useCallback(()=>{if(!R.trim())return;const P={id:`question-${Date.now()}-${Math.random()}`,title:R.trim(),points:Number(O)||0,pageNumber:Number(d)};console.log("Adding question for page:",d),console.log("New question:",P),n([...e,P]),_(""),I(10),L(!1),console.log("Question added for page:",d),console.log("Updated questions array:",[...e,P])},[R,O,e,n,d]),H=A.useCallback(P=>{n(e.filter(W=>W.id!==P))},[e,n]),G=e.reduce((P,W)=>P+W.points,0);return S?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{children:"Loading PDF..."})]})}):C?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",children:C}),h.jsxs(V,{color:"gray.500",fontSize:"sm",children:["PDF URL: ",t]}),h.jsx(Se,{onClick:()=>window.location.reload(),children:"Retry"})]})}):h.jsxs(N,{w:"100%",h:"100%",display:"flex",gap:4,children:[h.jsxs(N,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",position:"relative",children:[h.jsx(N,{p:2,bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:h.jsxs(de,{gap:2,justify:"space-between",children:[h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>f(Math.max(1,d-1)),children:""}),h.jsxs(V,{fontSize:"sm",minW:"80px",textAlign:"center",children:[d," / ",a]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>f(Math.min(a,d+1)),children:""})]}),h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>m(Math.max(.5,g-.25)),children:h.jsx(ye,{as:kx})}),h.jsxs(V,{fontSize:"sm",minW:"60px",textAlign:"center",children:[Math.round(g*100),"%"]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>m(Math.min(3,g+.25)),children:h.jsx(ye,{as:Rx})}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>y((b+90)%360),children:h.jsx(ye,{as:_x})})]})]})}),h.jsx(N,{position:"relative",h:"calc(100% - 60px)",overflow:"auto",children:h.jsx(N,{ref:$,position:"relative",display:"inline-block",style:{position:"relative"},children:k?h.jsx(sS,{file:k,onLoadSuccess:U,onLoadError:D,loading:h.jsx("div",{children:"Rendering PDF..."}),children:h.jsx(oS,{pageNumber:d,scale:g,rotate:b,renderTextLayer:!1,renderAnnotationLayer:!1})},`pdf-${t}-${k}`):h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"400px",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{children:"Loading PDF..."})]})})})})]}),h.jsx(N,{w:"300px",bg:"gray.100",borderRadius:"lg",p:4,boxShadow:"sm",children:h.jsxs(ee,{align:"stretch",gap:4,h:"100%",children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:"gray.800",children:" "}),h.jsx(N,{bg:"blue.100",p:3,borderRadius:"md",border:"1px solid",borderColor:"blue.200",boxShadow:"sm",children:h.jsxs(V,{fontSize:"sm",color:"blue.600",fontWeight:"medium",children:[" : ",G]})}),M?h.jsxs(ee,{align:"stretch",gap:3,p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",boxShadow:"sm",children:[h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"  "}),h.jsx("input",{type:"text",placeholder:" ",value:R,onChange:P=>_(P.target.value),style:{padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}}),h.jsx("input",{type:"number",placeholder:"",value:O,onChange:P=>I(Number(P.target.value)),min:"1",style:{padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}}),h.jsxs(de,{gap:2,children:[h.jsxs(Se,{paddingLeft:2,size:"xs",bg:"blue.500",color:"white",_hover:{bg:"blue.600"},onClick:B,children:[h.jsx(ye,{as:rl,mr:1}),""]}),h.jsxs(Se,{paddingLeft:2,size:"xs",bg:"gray.700",_hover:{bg:"gray.800"},onClick:()=>L(!1),children:[h.jsx(ye,{as:zi,mr:1}),""]})]})]}):h.jsxs(Se,{bg:"white",variant:"outline",onClick:()=>L(!0),children:[h.jsx(ye,{as:rl,mr:2})," "]}),h.jsx(ee,{align:"stretch",gap:1,flex:"1",overflowY:"auto",children:e.map((P,W)=>h.jsx(N,{p:2,bg:P.pageNumber?"blue.100":"white",borderRadius:"sm",border:"1px solid",borderColor:P.pageNumber?"blue.300":"gray.300",_hover:{bg:P.pageNumber?"blue.200":"gray.50"},boxShadow:"sm",children:h.jsxs(de,{justify:"space-between",align:"center",gap:2,children:[h.jsxs(de,{gap:2,flex:"1",children:[h.jsxs(V,{fontSize:"xs",fontWeight:"medium",color:"gray.600",minW:"40px",children:[W+1,"."]}),h.jsx(V,{fontSize:"xs",color:"gray.700",flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:P.title}),h.jsxs(V,{fontSize:"xs",color:"blue.600",fontWeight:"medium",minW:"50px",children:[P.points," "]}),P.pageNumber&&h.jsxs(V,{fontSize:"xs",color:"gray.500",minW:"60px",children:[" ",P.pageNumber]})]}),h.jsx(Se,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>H(P.id),minW:"auto",p:0,h:"auto",children:h.jsx(ye,{as:zi})})]})},P.id))}),h.jsxs(ee,{gap:2,children:[h.jsxs(Se,{bg:"blue.500",color:"white",_hover:{bg:"blue.600"},w:"100%",onClick:r,loading:s,loadingText:"  ...",children:[h.jsx(ye,{as:Tx,mr:2}),"  "]}),h.jsx(Se,{bg:"gray.700",_hover:{bg:"gray.800"},w:"100%",onClick:i,children:""})]})]})})]})},Mc={async createQuestions(t,e){try{return(await Be.post(`/api/assignments/${t}/questions/create/`,{questions:e})).data}catch(n){throw console.error("Error creating questions:",n),new Error("Failed to create questions")}},async updateQuestions(t,e){try{console.log("Sending update request to:",`/api/assignments/${t}/questions/update/`),console.log("Request payload:",{questions:e});const n=await Be.put(`/api/assignments/${t}/questions/update/`,{questions:e});return console.log("Update response:",n),n}catch(n){throw console.error("Error updating questions:",n),console.error("Error response:",n.response?.data),new Error(`Failed to update questions: ${n.response?.data?.error||n.message}`)}},async getQuestions(t){try{console.log("Fetching questions from:",`/api/assignments/${t}/questions/`);const e=await Be.get(`/api/assignments/${t}/questions/`);return console.log("Get questions response:",e),e}catch(e){throw console.error("Error fetching questions:",e),console.error("Error response:",e.response?.data),new Error(`Failed to fetch questions: ${e.response?.data?.error||e.message}`)}},async deleteQuestion(t,e){try{await Be.delete(`/api/assignments/${t}/questions/${e}/`)}catch(n){throw console.error("Error deleting question:",n),new Error("Failed to delete question")}}},CK=()=>{const{courseId:t,assignmentId:e}=pr(),n=yn(),{assignment:r,isLoading:i,error:s}=Gc(e);Mt.useEffect(()=>{r&&(console.log("Assignment data:",r),console.log("PDF URL:",r.template_pdf))},[r]);const[a,c]=A.useState([]),[d,f]=A.useState(!1),[g,m]=A.useState(!1),[b,y]=A.useState(0),S=K("white","gray.900"),x=K("gray.800","white");Mt.useEffect(()=>{(async()=>{if(e){m(!0);try{console.log("Loading questions for assignment:",e);const k=await Mc.getQuestions(parseInt(e));if(console.log("Loaded questions from backend:",k),k&&Array.isArray(k)){const T=k.map(R=>({id:R.id?.toString()||`question-${Date.now()}-${Math.random()}`,title:R.title||"",points:Number(R.max_points)||0,pageNumber:R.default_page_numbers&&R.default_page_numbers.length>0?R.default_page_numbers[0]:void 0}));console.log("Converted frontend questions:",T),c(T)}else console.log("No questions found, starting with empty array"),c([])}catch(k){console.error("Error loading questions:",k),console.error("Error details:",k),c([])}finally{m(!1)}}})()},[e,b]);const C=async()=>{if(!e||a.length===0){alert("     ");return}if(a.filter(k=>!k.pageNumber||k.pageNumber<=0).length>0){alert("       ");return}f(!0);try{console.log("Saving questions:",a);const k=a.map((R,_)=>({title:R.title||"",max_points:Number(R.points)||0,order_index:_,default_page_numbers:R.pageNumber?[Number(R.pageNumber)]:[]}));console.log("Questions data to save:",k);const T=await Mc.updateQuestions(parseInt(e),k);console.log("Saved questions response:",T),alert("     "),y(R=>R+1),n(`/courses/${t}/assignments/${e}/submissions`)}catch(k){console.error("Error saving outline:",k),alert("    : "+k.message)}finally{f(!1)}};return i||g?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:S,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{color:x,children:"  ..."})})]}):s?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:S,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{color:"red.500",children:s})})]}):h.jsxs(ht,{templateAreas:{base:'"main"',lg:'"sidebar main"'},templateColumns:{base:"1fr",lg:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:S,children:h.jsx(ee,{align:"stretch",h:"100vh",p:4,children:h.jsx(N,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",children:h.jsx(wK,{pdfUrl:r?.template_pdf?r.template_pdf.startsWith("http")?r.template_pdf:`http://localhost:8000${r.template_pdf}`:"",questions:a,onQuestionsChange:c,onSaveOutline:C,onCancel:()=>n(`/courses/${t}/assignments/${e}`),isSaving:d})})})})]})},EK=({isOpen:t,onClose:e,onUpload:n,students:r,isUploading:i})=>{const[s,a]=A.useState(null),[c,d]=A.useState(null),[f,g]=A.useState(""),m=K("white","gray.800"),b=K("gray.800","white"),y=K("gray.200","gray.600"),S=K("blue.50","blue.900"),x=K("blue.700","blue.200"),C=K("blue.200","blue.700"),E=K("blue.50","blue.900"),k=_=>{const O=_.target.files?.[0];O&&(d(O),g(O.name))},T=async()=>{c&&(await n(s,c),a(null),d(null),g(""),e())},R=()=>{a(null),d(null),g(""),e()};return t?h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(N,{bg:m,borderRadius:"lg",boxShadow:"xl",maxW:"500px",w:"90%",p:0,children:[h.jsx(N,{p:6,borderBottom:"1px solid",borderColor:y,children:h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:b,children:" "}),h.jsx(Se,{variant:"ghost",size:"sm",p:1,onClick:R,children:h.jsx(ye,{as:zi})})]})}),h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(N,{bg:S,p:3,borderRadius:"md",border:"1px solid",borderColor:C,children:h.jsxs(de,{align:"start",gap:2,children:[h.jsx(ye,{as:k8,color:x,mt:.5}),h.jsx(V,{fontSize:"sm",color:x,children:"    "})]})}),h.jsx(V,{fontSize:"sm",color:"red.500",children:"*  "}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsxs(V,{color:b,fontSize:"sm",fontWeight:"medium",children:[" ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsxs("select",{style:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"12px",width:"100%",fontSize:"14px",color:"#2d3748"},value:s||"",onChange:_=>a(_.target.value?parseInt(_.target.value):null),children:[h.jsx("option",{value:"",children:" "}),r.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsxs(V,{color:b,fontSize:"sm",fontWeight:"medium",children:[" PDF  ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsxs(N,{border:"2px dashed",borderColor:y,borderRadius:"md",p:4,textAlign:"center",cursor:"pointer",_hover:{borderColor:"blue.400",bg:E},onClick:()=>document.getElementById("file-input")?.click(),children:[h.jsxs(ee,{gap:2,children:[h.jsx(ye,{as:Ss,boxSize:6,color:"gray.500"}),h.jsx(V,{color:"gray.600",fontSize:"sm",children:f||"    "}),h.jsx(Se,{paddingX:4,size:"sm",bg:"#2E5BBA",color:"white",_hover:{bg:"#1E4A9A"},border:"1px solid",borderColor:"#2E5BBA",children:" "})]}),h.jsx("input",{id:"file-input",type:"file",accept:".pdf",onChange:k,style:{display:"none"}})]})]})]})}),h.jsx(N,{p:6,borderTop:"1px solid",borderColor:y,children:h.jsxs(de,{justify:"flex-end",gap:3,children:[h.jsx(Se,{paddingX:4,variant:"outline",onClick:R,disabled:i,borderColor:y,color:b,children:""}),h.jsx(Se,{paddingX:4,bg:"#2E5BBA",color:"white",_hover:{bg:"#1E4A9A"},onClick:T,disabled:!c||i,children:i?h.jsxs(de,{gap:2,children:[h.jsx(Tt,{size:"sm"}),h.jsx(V,{children:"  ..."})]}):""})]})})]})}):null},AK=({onSubmit:t,onCancel:e,isUploading:n})=>{const[r,i]=A.useState(null),[s,a]=A.useState(!1),c=b=>{b.type==="application/pdf"?i(b):alert("   PDF  ")},d=b=>{b.preventDefault(),a(!1);const y=b.dataTransfer.files;y.length>0&&c(y[0])},f=b=>{b.preventDefault(),a(!0)},g=()=>{a(!1)},m=()=>{r&&t(r)};return h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(N,{border:"2px dashed",borderColor:s?"blue.400":"gray.300",borderRadius:"md",p:6,textAlign:"center",bg:s?"blue.50":"gray.50",onDrop:d,onDragOver:f,onDragLeave:g,cursor:"pointer",_hover:{borderColor:"blue.400",bg:"blue.50"},children:h.jsxs(ee,{gap:2,children:[h.jsx(ye,{as:Ss,boxSize:8,color:"gray.500"}),h.jsx(V,{fontSize:"sm",color:"gray.600",children:" PDF      "}),h.jsx(Yt,{type:"file",accept:".pdf",onChange:b=>{const y=b.target.files?.[0];y&&c(y)},display:"none",id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",style:{cursor:"pointer"},children:h.jsx(Se,{size:"sm",variant:"outline",pointerEvents:"none",children:" "})})]})}),r&&h.jsxs(N,{p:3,bg:"green.50",borderRadius:"md",border:"1px solid",borderColor:"green.200",children:[h.jsxs(V,{fontSize:"sm",color:"green.700",children:["  : ",r.name]}),h.jsxs(V,{fontSize:"xs",color:"green.600",children:[": ",(r.size/1024/1024).toFixed(2)," MB"]})]}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:4,variant:"outline",onClick:e,disabled:n,children:""}),h.jsx(Se,{paddingX:4,colorScheme:"blue",onClick:m,loading:n,loadingText:"  ...",disabled:!r,children:" "})]})]})},_K=()=>{const{courseId:t,assignmentId:e}=pr(),n=yn(),{assignment:r,isLoading:i,error:s}=Gc(e),{roster:a,isLoading:c,error:d}=hj(t),[f,g]=A.useState([]),[m,b]=A.useState(!0),[y,S]=A.useState(!1),[x,C]=A.useState(!1),[E,k]=A.useState(!1),[T,R]=A.useState(null),[_,O]=A.useState(!1),[I,M]=A.useState(!1),[L,$]=A.useState(null),[U,D]=A.useState(!1),B=K("white","gray.900"),H=K("gray.800","white"),G=K("gray.600","gray.300"),P=K("gray.200","gray.700"),W=K("gray.50","gray.800"),Q=K("gray.50","gray.800"),se=K("gray.200","gray.600");A.useEffect(()=>{e&&Z()},[e]);const F=a.filter(ge=>ge.role==="student").map(ge=>({id:ge.user.id,name:ge.user.name||`${ge.user.first_name||""} ${ge.user.last_name||""}`.trim(),email:ge.user.email})),Z=async()=>{b(!0);try{console.log("Loading submissions for assignment:",e);const ge=await Be.get(`/api/assignments/${e}/submissions/`);console.log("Full API response:",ge),console.log("Response data:",ge.data);const ue=ge.data||ge,pe=ue?.results||[];if(console.log("Submissions results:",pe),console.log("Submissions count:",ue?.count),pe.length===0){console.log("No submissions found, adding mock data for testing");const Ee={id:1,assignment:parseInt(e||"0"),student:null,uploaded_by:null,uploaded_by_name:"",student_name:" ",created_at:new Date().toISOString(),mapping_status:"incomplete",file:"/media/test.pdf",num_pages:5,grading_progress:0,total_questions:0,graded_questions:0};g([Ee])}else g(pe)}catch(ge){console.error("Error loading submissions:",ge),console.error("Error details:",ge),alert(`   : ${ge}`),g([])}finally{b(!1)}},fe=ge=>{R({id:ge.id,student_name:ge.student_name||""}),k(!0)},ce=async()=>{if(T){O(!0);try{console.log("Deleting submission:",T.id),await Be.delete(`/api/assignments/submissions/${T.id}/delete/`),console.log("Submission deleted successfully"),alert("    "),await Z(),k(!1),R(null)}catch(ge){console.error("Error deleting submission:",ge),alert("   : "+ge.response?.data?.error||ge.message)}finally{O(!1)}}},_e=ge=>{$({id:ge.id,student_name:ge.student_name||""}),M(!0)},Ae=async ge=>{if(L){D(!0);try{console.log("Updating submission:",L.id);const ue=new FormData;ue.append("file",ge);const pe=await Be.put(`/api/assignments/submissions/${L.id}/update-file/`,ue,{headers:{"Content-Type":"multipart/form-data"}});console.log("Update response:",pe),console.log("Submission updated successfully"),alert("     "),await Z(),M(!1),$(null)}catch(ue){console.error("Error updating submission:",ue),alert("    : "+ue.response?.data?.error||ue.message)}finally{D(!1)}}},Re=async(ge,ue)=>{S(!0);try{const pe=new FormData;pe.append("files",ue),ge?(pe.append("student_ids",ge.toString()),console.log("Uploading for student ID:",ge)):console.log("No student ID provided - uploading as unassigned"),console.log("Uploading to:",`/api/assignments/${e}/submissions/upload/`),console.log("FormData contents:");for(let[ve,je]of pe.entries())console.log(ve,je);const Ee=await Be.post(`/api/assignments/${e}/submissions/upload/`,pe,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload response:",Ee);const te=Ee.data||Ee;console.log("Response data:",te);const Ce=te.submissions?.[0];console.log("Uploaded submission:",Ce),Ce?(console.log("Navigating to submission outline page..."),n(`/courses/${t}/assignments/${e}/submissions/${Ce.id}/outline`,{state:{submission:Ce}})):(console.log("No submission data found, reloading submissions..."),alert("    "),await Z())}catch(pe){console.error("Error uploading file:",pe),alert("   ")}finally{S(!1)}};return i||c||m?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:B,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl"}),h.jsx(V,{color:H,children:"  ..."})]})})]}):s||d?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:B,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(N,{p:4,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:[h.jsx(V,{color:"red.700",fontWeight:"bold",children:"!"}),h.jsx(V,{color:"red.600",children:s||d})]})})]}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:B,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsx(N,{children:h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:H,fontWeight:"bold",children:" "}),h.jsx(N,{height:"20px",width:"1px",bg:"gray.400"}),h.jsx(V,{color:"gray.600",fontSize:"lg",children:r?.title})]})}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:P,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:W,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:P,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:H,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:H,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:H,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:H,fontWeight:"semibold",children:""})]})}),h.jsx(N,{as:"tbody",children:m?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:4,children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:H,children:"   ..."})]})})}):!f||f.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:4,children:h.jsxs(ee,{children:[h.jsx(V,{color:G,fontSize:"md",children:"   ."}),h.jsxs(V,{fontSize:"xs",color:"gray.300",mt:2,children:["Debug: submissions = ",JSON.stringify(f)]})]})})}):(f||[]).map(ge=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:P,_hover:{bg:Q},children:[h.jsx(N,{as:"td",p:3,children:h.jsx(V,{as:"button",color:"blue.500",fontWeight:"medium",textAlign:"right",cursor:"pointer",textDecoration:"underline",_hover:{color:"blue.700",textDecoration:"underline"},onClick:()=>{n(`/courses/${t}/assignments/${e}/submissions/${ge.id}/outline`,{state:{submission:ge}})},children:ge.student_name||""})}),h.jsx(N,{as:"td",p:3,color:G,children:new Date(ge.created_at).toLocaleDateString("fa-IR")}),h.jsx(N,{as:"td",p:2,children:h.jsxs(ee,{align:"start",gap:1,children:[h.jsx(N,{width:"250px",height:"12px",bg:se,borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${ge.grading_progress}%`,height:"100%",bg:ge.grading_progress===100?"green.500":ge.grading_progress>0?"blue.500":"gray.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:G,children:[ge.graded_questions,"/",ge.total_questions," (",ge.grading_progress,"%)"]})]})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsxs(de,{gap:2,justify:"center",children:[h.jsx(Se,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>_e(ge),title:" ",children:h.jsx(ye,{as:MO})}),h.jsx(Se,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>fe(ge),title:" ",children:h.jsx(ye,{as:il})})]})})]},ge.id))})]})})})]})})}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"flex-end",mx:"auto",px:{base:4,md:6},gap:3,children:[h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:()=>C(!0),disabled:y,children:[h.jsx(ye,{as:Ss,mr:2})," "]}),h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingRight:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:()=>n(`/courses/${t}/assignments/${e}/grade`),children:["",h.jsx(ye,{as:Ex,ml:2})]})]})}),h.jsx(EK,{isOpen:x,onClose:()=>C(!1),onUpload:Re,students:F,isUploading:y}),E&&T&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:B,borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:H,textAlign:"center",children:" "}),h.jsxs(V,{fontSize:"sm",color:"red.500",textAlign:"center",children:['      "',T.student_name,'"   ']}),h.jsx(V,{fontSize:"xs",color:G,textAlign:"center",children:"    ."}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>{k(!1),R(null)},disabled:_,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",onClick:ce,loading:_,loadingText:"  ...",children:""})]})]})})}),I&&L&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:B,borderRadius:"lg",p:6,maxW:"500px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:H,textAlign:"center",children:"  "}),h.jsxs(V,{fontSize:"sm",color:H,textAlign:"center",children:['    "',L.student_name,'"   ']}),h.jsx(AK,{onSubmit:Ae,onCancel:()=>{M(!1),$(null)},isUploading:U})]})})})]})},TK="modulepreload",RK=function(t){return"/"+t},LT={},kK=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=d(n.map(f=>{if(f=RK(f),f in LT)return;LT[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":TK,g||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),g)return new Promise((y,S)=>{b.addEventListener("load",y),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};bs.workerSrc="/pdf.worker.min.js";const _P=({pdfUrl:t,questions:e,submissionOutline:n,onOutlineChange:r,onSave:i,onCancel:s,isSaving:a=!1,numPages:c,submissionId:d})=>{const[f,g]=A.useState(1),[m,b]=A.useState(c),[y,S]=A.useState(1),[x,C]=A.useState(0),[E,k]=A.useState(!0),[T,R]=A.useState(null),[_,O]=A.useState(null);Mt.useEffect(()=>{console.log("SubmissionPDFViewer - PDF URL:",t)},[t]),A.useEffect(()=>{if(!t){R("No PDF URL provided"),k(!1);return}_&&(URL.revokeObjectURL(_),O(null));let D=!1;return(async()=>{try{k(!0),R(null),console.log("Fetching submission PDF from:",t);const H=await fetch(t,{credentials:"include",headers:{Accept:"application/pdf"}});if(!H.ok)throw new Error(`HTTP ${H.status}: ${H.statusText}`);const G=H.headers.get("content-type");if(!G||!G.includes("application/pdf"))throw new Error(`Invalid content type: ${G}. Expected application/pdf`);const P=await H.arrayBuffer();if(D)return;const W=new Blob([P],{type:"application/pdf"}),Q=URL.createObjectURL(W);O(Q),k(!1),console.log("Submission PDF fetched successfully, size:",P.byteLength,"bytes")}catch(H){if(D)return;console.error("Submission PDF fetch error:",H),R(`Failed to load PDF: ${H.message}`),k(!1)}})(),()=>{D=!0}},[t]),A.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]);const I=A.useCallback(async({numPages:D})=>{if(console.log("Submission PDF loaded successfully:",D,"pages"),b(D),k(!1),R(null),d&&D!==c)try{const{api:B}=await kK(async()=>{const{api:H}=await Promise.resolve().then(()=>l7);return{api:H}},[]);await B.patch(`/api/assignments/submissions/${d}/pages/`,{num_pages:D}),console.log(`Updated submission ${d} to have ${D} pages`)}catch(B){console.error("Error updating submission page count:",B)}},[d,c]),M=A.useCallback(D=>{console.error("Submission PDF load error:",D),R(`Failed to load PDF: ${D.message}`),k(!1)},[]),L=(D,B)=>{r(n.map(H=>{if(H.question_id===D){const G=H.page_numbers.includes(B);return{...H,page_numbers:G?H.page_numbers.filter(P=>P!==B):[...H.page_numbers,B].sort()}}return H}))},$=D=>n.find(B=>B.question_id===D),U=(D,B)=>$(D)?.page_numbers.includes(B)||!1;return E?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{children:"Loading PDF..."})]})}):T?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",children:T}),h.jsxs(V,{color:"gray.500",fontSize:"sm",children:["PDF URL: ",t]}),h.jsx(Se,{onClick:()=>window.location.reload(),children:"Retry"})]})}):h.jsxs(N,{w:"100%",h:"100%",display:"flex",gap:4,children:[h.jsxs(N,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",position:"relative",children:[h.jsx(N,{p:2,bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:h.jsxs(de,{gap:2,justify:"space-between",children:[h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>g(Math.max(1,f-1)),children:""}),h.jsxs(V,{fontSize:"sm",minW:"80px",textAlign:"center",children:[f," / ",m]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>g(Math.min(m,f+1)),children:""})]}),h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>S(Math.max(.5,y-.25)),children:h.jsx(ye,{as:kx})}),h.jsxs(V,{fontSize:"sm",minW:"60px",textAlign:"center",children:[Math.round(y*100),"%"]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>S(Math.min(3,y+.25)),children:h.jsx(ye,{as:Rx})}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>C((x+90)%360),children:h.jsx(ye,{as:_x})})]})]})}),h.jsx(N,{position:"relative",h:"calc(100% - 60px)",overflow:"auto",children:h.jsx(N,{position:"relative",display:"inline-block",style:{position:"relative"},children:_?h.jsx(sS,{file:_,onLoadSuccess:I,onLoadError:M,loading:h.jsx("div",{children:"Rendering PDF..."}),children:h.jsx(oS,{pageNumber:f,scale:y,rotate:x,renderTextLayer:!1,renderAnnotationLayer:!1})},`submission-pdf-${t}-${_}`):h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"400px",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{children:"Loading PDF..."})]})})})})]}),h.jsx(N,{w:"400px",bg:"gray.100",borderRadius:"lg",p:4,boxShadow:"md",children:h.jsxs(ee,{align:"stretch",gap:4,h:"100%",children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:"gray.800",children:"  "}),h.jsx(N,{bg:"blue.50",p:3,borderRadius:"md",children:h.jsxs(ee,{gap:2,children:[h.jsxs(V,{fontSize:"sm",color:"blue.600",fontWeight:"medium",children:[" : ",f,"  ",m]}),h.jsx(Se,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>{const D=n.map(B=>B.page_numbers.includes(f)?B:{...B,page_numbers:[...B.page_numbers,f].sort()});r(D)},children:"     "})]})}),h.jsx(ee,{align:"stretch",gap:3,flex:"1",overflowY:"auto",children:e.length===0?h.jsxs(N,{p:6,textAlign:"center",bg:"yellow.50",borderRadius:"lg",border:"1px solid",borderColor:"yellow.200",children:[h.jsx(V,{color:"yellow.700",fontSize:"lg",fontWeight:"medium",children:"       "}),h.jsx(V,{color:"yellow.600",fontSize:"sm",mt:2,children:"        Outline  "})]}):e.map((D,B)=>{const G=$(D.id)?.page_numbers||[];return h.jsx(N,{p:4,bg:"white",borderRadius:"lg",border:"1px solid",borderColor:"gray.200",boxShadow:"sm",children:h.jsxs(ee,{align:"stretch",gap:3,children:[h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsxs(ee,{align:"stretch",gap:1,children:[h.jsxs(V,{fontSize:"lg",fontWeight:"semibold",color:"gray.800",children:[" ",B+1,": ",D.title]}),h.jsxs(V,{fontSize:"sm",color:"blue.600",fontWeight:"medium",children:[D.max_points," "]})]}),h.jsx(de,{gap:1,children:G.length>0?h.jsxs(h.Fragment,{children:[h.jsx(ye,{as:Go,color:"green.500"}),h.jsxs(V,{fontSize:"sm",color:"green.600",fontWeight:"medium",children:[G.length,"   "]})]}):h.jsx(V,{fontSize:"sm",color:"gray.500",fontWeight:"medium",children:"   "})})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(V,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"       :"}),h.jsx(N,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(40px, 1fr))",gap:2,p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflowY:"auto",children:Array.from({length:m},(P,W)=>{const Q=W+1,se=U(D.id,Q);return h.jsx(Se,{size:"sm",variant:se?"solid":"outline",colorScheme:se?"blue":"gray",onClick:()=>L(D.id,Q),minW:"40px",h:"40px",fontSize:"xs",fontWeight:se?"bold":"normal",_hover:{transform:"scale(1.05)",transition:"transform 0.2s"},children:Q},Q)})})]})]})},D.id)})}),h.jsxs(ee,{gap:2,children:[h.jsx(Se,{bg:"blue.500",color:"white",_hover:{bg:"blue.600"},w:"100%",onClick:i,loading:a,loadingText:"  ...",children:"  "}),h.jsx(Se,{bg:"gray.700",_hover:{bg:"gray.800"},w:"100%",onClick:s,children:""})]})]})})]})},OK=()=>{const{courseId:t,assignmentId:e,submissionId:n}=pr(),r=yn(),s=$i().state?.submission,[a,c]=A.useState([]),[d,f]=A.useState([]),[g,m]=A.useState(!0),[b,y]=A.useState(!1),[S,x]=A.useState(null),[C,E]=A.useState(""),k=K("white","gray.900"),T=K("gray.800","white");A.useEffect(()=>{e&&(async()=>{try{m(!0),x(null);const I=await Mc.getQuestions(parseInt(e));if(console.log("Questions response:",I),I&&Array.isArray(I)){c(I);const M=I.filter(L=>L.id!==void 0).map(L=>({question_id:L.id,page_numbers:L.default_page_numbers||[]}));f(M)}else console.warn("No questions found for assignment:",e),c([]),f([]);if(s?.file){const M=s.file.startsWith("http")?s.file:`http://localhost:8000${s.file}`;E(M),console.log("Submission file URL:",M)}if(n)try{const M=await Be.get(`/api/assignments/submissions/${n}/`);console.log("Submission details response:",M);const L=M.page_map||{};console.log("Existing page map:",L);const $=I.filter(U=>U.id!==void 0).map(U=>({question_id:U.id,page_numbers:L[U.id]||U.default_page_numbers||[]}));console.log("Converted existing outline:",$),f($)}catch(M){console.warn("Could not load existing page map:",M)}}catch(I){console.error("Error loading data:",I),x("   ")}finally{m(!1)}})()},[e,n,s]);const R=async()=>{if(n){y(!0);try{console.log("Saving submission outline:",d);const O=d.reduce((M,L)=>(M[L.question_id]=L.page_numbers,M),{});console.log("Page map to save:",O);const I=await Be.put(`/api/assignments/submissions/${n}/page-map/`,{page_map:O});console.log("Save response:",I),alert("      "),r(`/courses/${t}/assignments/${e}/submissions`)}catch(O){console.error("Error saving submission outline:",O),console.error("Error details:",O.response?.data),alert("     : "+(O.response?.data?.error||O.message))}finally{y(!1)}}},_=()=>{r(`/courses/${t}/assignments/${e}/submissions`)};return g?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:k,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{color:T,children:"  ..."})]})})]}):S?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:k,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{color:"red.500",children:S})})]}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:k,children:h.jsxs(ee,{align:"stretch",h:"100vh",p:4,children:[h.jsxs(ee,{align:"stretch",gap:2,mb:4,children:[h.jsx(V,{fontSize:"2xl",fontWeight:"bold",color:T,children:"  "}),h.jsxs(V,{fontSize:"lg",color:"gray.600",children:[" : ",s?.student_name||""]}),h.jsxs(V,{fontSize:"sm",color:"gray.500",children:[" : ",s?.num_pages||0]})]}),h.jsx(N,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",children:h.jsx(_P,{pdfUrl:C,questions:a.filter(O=>O.id!==void 0),submissionOutline:d,onOutlineChange:f,onSave:R,onCancel:_,isSaving:b,numPages:s?.num_pages||0,submissionId:s?.id})})]})})]})},jK=()=>{const{courseId:t,assignmentId:e}=pr(),n=yn(),{assignment:r,isLoading:i,error:s}=Gc(e),[a,c]=A.useState([]),[d,f]=A.useState(!0),[g,m]=A.useState(null),[b,y]=A.useState(0),[S,x]=A.useState(null),C=K("white","gray.900"),E=K("gray.800","white"),k=K("gray.600","gray.300"),T=K("gray.200","gray.700"),R=K("gray.50","gray.800"),_=K("gray.50","gray.800"),O=K("gray.200","gray.600");A.useEffect(()=>{(async()=>{if(e){f(!0),m(null);try{const L=await Mc.getQuestions(parseInt(e));console.log("Questions loaded:",L);const $=L.filter(P=>P.id!==void 0).map(async P=>{try{const W=await Be.get(`/api/assignments/${e}/questions/${P.id}/grading-stats/`);return{question_id:P.id,question_title:P.title||` ${P.id}`,points:P.max_points||0,total_submissions:W.total_submissions||0,graded_submissions:W.graded_submissions||0,progress_percentage:W.progress_percentage||0,graded_by:W.graded_by||""}}catch(W){return console.warn(`Could not load stats for question ${P.id}:`,W),{question_id:P.id,question_title:P.title||` ${P.id}`,points:P.max_points||0,total_submissions:0,graded_submissions:0,progress_percentage:0,graded_by:""}}}),U=await Promise.all($);c(U);const D=U.reduce((P,W)=>P+W.total_submissions,0),B=U.reduce((P,W)=>P+W.graded_submissions,0),H=D>0?Math.round(B/D*100):0;y(H);const G=U.filter(P=>P.progress_percentage<100);if(G.length>0){const P=G.reduce((W,Q)=>Q.progress_percentage<W.progress_percentage?Q:W);x(P)}else x(null)}catch(L){console.error("Error loading grading data:",L),m("    ")}finally{f(!1)}}})()},[e]);const I=()=>{S&&n(`/courses/${t}/assignments/${e}/grade/${S.question_id}`)};return i||d?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:C,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl"}),h.jsx(V,{color:E,children:"  ..."})]})})]}):s||g?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:C,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(N,{p:4,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:[h.jsx(V,{color:"red.700",fontWeight:"bold",children:"!"}),h.jsx(V,{color:"red.600",children:s||g})]})})]}):h.jsxs(A.Fragment,{children:[h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:C,children:h.jsxs(ee,{align:"stretch",h:"100vh",p:4,children:[h.jsx(N,{mb:4,children:h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:E,fontWeight:"bold",children:" "}),h.jsx(N,{height:"20px",width:"1px",bg:"gray.400"}),h.jsx(V,{color:"gray.600",fontSize:"lg",children:r?.title})]})}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:T,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:R,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:T,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:""}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:""})]})}),h.jsx(N,{as:"tbody",children:d?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:4,children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:E,children:"    ..."})]})})}):!a||a.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:4,children:h.jsx(ee,{children:h.jsx(V,{color:k,fontSize:"md",children:"   ."})})})}):(a||[]).map(M=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:T,_hover:{bg:_},children:[h.jsx(N,{as:"td",p:3,children:h.jsx(V,{as:"button",color:"blue.500",fontWeight:"medium",textAlign:"right",cursor:"pointer",textDecoration:"underline",_hover:{color:"blue.700",textDecoration:"underline"},onClick:()=>{n(`/courses/${t}/assignments/${e}/questions/${M.question_id}/submissions`)},children:M.question_title})}),h.jsx(N,{as:"td",p:3,color:E,fontWeight:"medium",children:M.points}),h.jsx(N,{as:"td",p:2,children:h.jsxs(ee,{align:"start",gap:1,children:[h.jsx(N,{width:"250px",height:"12px",bg:O,borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${M.progress_percentage}%`,height:"100%",bg:M.progress_percentage===100?"green.500":"blue.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:k,children:[M.graded_submissions," / ",M.total_submissions," (",M.progress_percentage,"%)"]})]})}),h.jsx(N,{as:"td",p:3,color:k,children:M.graded_by})]},M.question_id))})]})})})]})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"space-between",mx:"auto",px:{base:4,md:6},gap:3,children:[h.jsxs(V,{fontSize:{base:"sm",md:"md"},color:"gray.700",fontWeight:"medium",children:["  : ",b,"%"]}),h.jsxs(Se,{paddingRight:2,bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:I,disabled:!S,children:[" ",h.jsx(ye,{as:Ex,mr:2})]})]})})]})},PK=()=>{const{courseId:t,assignmentId:e,questionId:n}=pr(),r=yn(),{assignment:i,isLoading:s,error:a}=Gc(e),[c,d]=A.useState(null),[f,g]=A.useState([]),[m,b]=A.useState(!0),[y,S]=A.useState(null),[x,C]=A.useState(0),[E,k]=A.useState(null),T=K("white","gray.900"),R=K("gray.800","white"),_=K("gray.600","gray.300"),O=K("gray.200","gray.700"),I=K("gray.50","gray.800"),M=K("gray.50","gray.800");A.useEffect(()=>{(async()=>{if(!(!e||!n)){b(!0),S(null);try{const D=(await Mc.getQuestions(parseInt(e))).find(se=>se.id?.toString()===n);if(!D){S("    ");return}d(D);const B=await Be.get(`/api/assignments/${e}/questions/${n}/submissions/`);console.log("Question submissions response:",B);const H=B.submissions||[];g(H);const G=H.length,P=H.filter(se=>se.is_graded).length,W=G>0?Math.round(P/G*100):0;C(W);const Q=H.filter(se=>!se.is_graded);if(Q.length>0){const se=Q.reduce((F,Z)=>Z.row_number<F.row_number?Z:F);k(se)}else k(null)}catch(U){console.error("Error loading question submissions:",U),S("    ")}finally{b(!1)}}})()},[e,n]);const L=()=>{E&&r(`/courses/${t}/assignments/${e}/submissions/${E.submission_id}/grade`)};return s||m?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:T,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl"}),h.jsx(V,{color:R,children:"  ..."})]})})]}):a||y?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:T,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(N,{p:4,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:[h.jsx(V,{color:"red.700",fontWeight:"bold",children:"!"}),h.jsx(V,{color:"red.600",children:a||y})]})})]}):h.jsxs(A.Fragment,{children:[h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:T,children:h.jsxs(ee,{align:"stretch",h:"100vh",p:4,children:[h.jsxs(N,{mb:4,children:[h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:R,fontWeight:"bold",children:c?.title}),h.jsx(N,{height:"20px",width:"1px",bg:"gray.400"}),h.jsx(V,{color:"gray.600",fontSize:"lg",children:i?.title})]}),h.jsxs(V,{color:"subtleText",fontSize:"sm",children:[": ",c?.max_points]})]}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:O,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:I,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:O,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:R,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:R,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:R,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:R,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:R,fontWeight:"semibold",children:" "})]})}),h.jsx(N,{as:"tbody",children:m?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:5,children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:R,children:"   ..."})]})})}):!f||f.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:5,children:h.jsx(ee,{children:h.jsx(V,{color:_,fontSize:"md",children:"   ."})})})}):(f||[]).map($=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:O,_hover:{bg:M},children:[h.jsx(N,{as:"td",p:3,color:R,fontWeight:"medium",children:$.row_number}),h.jsx(N,{as:"td",p:3,color:R,fontWeight:"medium",children:h.jsx(V,{as:"button",color:"blue.500",cursor:"pointer",textDecoration:"underline",_hover:{color:"blue.700",textDecoration:"underline"},onClick:()=>{r(`/courses/${t}/assignments/${e}/questions/${n}/submissions/${$.submission_id}/grade`)},children:$.student_name})}),h.jsx(N,{as:"td",p:3,color:_,children:$.graded_by||""}),h.jsx(N,{as:"td",p:3,color:R,fontWeight:"medium",children:$.score!==null?$.score:"-"}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:$.is_graded?h.jsxs(Za,{paddingLeft:2,size:"sm",bg:"green.500",variant:"solid",children:[h.jsx(ye,{as:Go,mr:1}),""]}):h.jsxs(Za,{paddingLeft:2,size:"sm",bg:"red.500",variant:"solid",children:[h.jsx(ye,{as:zi,mr:1}),""]})})]},$.id))})]})})})]})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"space-between",mx:"auto",px:{base:4,md:6},gap:3,children:[h.jsxs(V,{fontSize:{base:"sm",md:"md"},color:"gray.700",fontWeight:"medium",children:["  : ",x,"%"]}),h.jsxs(Se,{paddingRight:2,bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:L,disabled:!E,children:["",h.jsx(ye,{as:Ex,mr:2})]})]})})]})},ic={async getRubricItems(t,e){return await Be.get(`/api/assignments/${t}/questions/${e}/rubric-items/`)},async createRubricItem(t,e,n){console.log("rubricService.createRubricItem called with:",{assignmentId:t,questionId:e,rubricItem:n});const r=`/api/assignments/${t}/questions/${e}/rubric-items/create/`;console.log("POST URL:",r);const i=await Be.post(r,n);return console.log("Response received:",i),i},async updateRubricItem(t,e,n){return await Be.put(`/api/assignments/${t}/rubric-items/${e}/`,n)},async deleteRubricItem(t,e){await Be.delete(`/api/assignments/${t}/rubric-items/${e}/delete/`)},async updateRubricItems(t,e,n){return await Be.put(`/api/assignments/${t}/questions/${e}/rubric-items/`,n)},async getSubmissionGrade(t,e,n){return await Be.get(`/api/assignments/${t}/submissions/${e}/grades/${n}/`)},async updateSubmissionGrade(t,e,n,r){return await Be.put(`/api/assignments/${t}/submissions/${e}/grades/${n}/update/`,{selected_item_ids:r})}};bs.workerSrc="/pdf.worker.min.js";const NK=()=>{const{courseId:t,assignmentId:e,questionId:n,submissionId:r}=pr(),i=yn(),[s,a]=A.useState(null),[c,d]=A.useState([]),[f,g]=A.useState(null),[m,b]=A.useState(null),[y,S]=A.useState(!1),[x,C]=A.useState({label:"",delta_points:0,is_positive:!0}),[E,k]=A.useState(!0),[T,R]=A.useState(null),[_,O]=A.useState(1),[I,M]=A.useState(0),[L,$]=A.useState(1),[U,D]=A.useState(0),[B,H]=A.useState(null),[G,P]=A.useState(null),W=K("white","gray.800"),Q=K("gray.200","gray.600"),se=K("gray.800","white"),F=K("gray.600","gray.300"),Z=K("gray.200","gray.600");A.useEffect(()=>{fe()},[t,e,n,r]),A.useEffect(()=>{if(console.log("PDF useEffect triggered, gradingData:",s),!s?.file_url){console.log("No PDF URL provided"),P("No PDF URL provided");return}s.page_number?(console.log("Setting current page to:",s.page_number),O(s.page_number)):console.log("No page number in grading data, using default page 1"),B&&(URL.revokeObjectURL(B),H(null));let te=!1;return(async()=>{try{P(null);const ve=s.file_url.startsWith("http")?s.file_url:`http://localhost:8000${s.file_url}`;console.log("Fetching PDF from:",ve);const je=await fetch(ve,{credentials:"include",headers:{Accept:"application/pdf"}});if(!je.ok)throw new Error(`HTTP ${je.status}: ${je.statusText}`);const Je=je.headers.get("content-type");if(!Je||!Je.includes("application/pdf"))throw new Error(`Invalid content type: ${Je}. Expected application/pdf`);const tt=await je.arrayBuffer();if(te)return;const nt=new Blob([tt],{type:"application/pdf"}),un=URL.createObjectURL(nt);H(un)}catch(ve){te||(console.error("Error fetching PDF:",ve),P(ve.message||"Failed to load PDF"))}})(),()=>{te=!0,B&&URL.revokeObjectURL(B)}},[s?.file_url]);const fe=async()=>{try{k(!0),R(null);const Ce=await Be.get(`/api/assignments/${e}/questions/${n}/submissions/${r}/grade/`);console.log("Loaded grading data:",Ce),console.log("PDF file URL:",Ce.file_url),a(Ce);try{console.log("Loading rubric items for assignment:",e,"question:",n);const ve=await ic.getRubricItems(parseInt(e),parseInt(n));console.log("Loaded rubric items from backend:",ve),console.log("Rubric items type:",typeof ve,"Array?",Array.isArray(ve)),d(ve||[])}catch(ve){console.error("Error loading rubric items:",ve),console.error("Error details:",ve),d([])}try{console.log("Loading submission grade for assignment:",e,"submission:",r,"question:",n);const ve=await ic.getSubmissionGrade(parseInt(e),parseInt(r),parseInt(n));console.log("Loaded submission grade from backend:",ve),g(ve)}catch(ve){console.error("Error loading submission grade:",ve);const je={id:1,submission:parseInt(r),question:parseInt(n),selected_item_ids:[],total_points:Ce.question_points,updated_at:new Date().toISOString()};console.log("Using default submission grade:",je),g(je)}}catch(te){console.error("Error loading grading data:",te),R("    ")}finally{k(!1)}},ce=({numPages:te})=>{console.log("PDF loaded successfully, numPages:",te),console.log("Current page before validation:",_),console.log("Grading data page number:",s?.page_number),M(te),s?.page_number&&s.page_number<=te?(console.log("Setting page to backend page number:",s.page_number),O(s.page_number)):_>te?(console.log("Current page exceeds numPages, setting to 1"),O(1)):console.log("Keeping current page:",_)},_e=te=>{console.error("PDF load error:",te),P("Failed to load PDF document")},Ae=()=>{s&&s.previous_submission_id&&i(`/courses/${t}/assignments/${e}/questions/${n}/submissions/${s.previous_submission_id}/grade`)},Re=()=>{s&&s.next_submission_id&&i(`/courses/${t}/assignments/${e}/questions/${n}/submissions/${s.next_submission_id}/grade`)},ge=async te=>{if(!f||!s)return;const Ce=f.selected_item_ids,je=Ce.includes(te)?Ce.filter(Rn=>Rn!==te):[...Ce,te],tt=c.filter(Rn=>je.includes(Rn.id)).reduce((Rn,Jn)=>Rn+(Jn.delta_points||0),0),nt=s.question_points||0,un=Math.max(0,Math.min(nt+tt,nt)),Ir={...f,selected_item_ids:je,total_points:un};g(Ir);try{const Rn=await ic.updateSubmissionGrade(parseInt(e),parseInt(r),parseInt(n),je);g(Rn),console.log("Rubric item toggled successfully:",te,"New selection:",je,"New total:",Rn.total_points)}catch(Rn){console.error("Error updating submission grade:",Rn),g(f),R("   ")}},ue=async()=>{if(!e||!n||!x.label)return;const te={label:x.label,delta_points:x.delta_points||0,order_index:(c?.length||0)+1,is_positive:x.is_positive||!0};console.log("Creating rubric item with data:",te),console.log("Assignment ID:",e,"Question ID:",n);try{const Ce=await ic.createRubricItem(parseInt(e),parseInt(n),te);d([...c||[],Ce]),S(!1),C({label:"",delta_points:0,is_positive:!0})}catch(Ce){console.error("Error creating rubric item:",Ce),R("    ")}},pe=async(te,Ce)=>{if(e)try{const ve=await ic.updateRubricItem(parseInt(e),te,Ce);d(c.map(je=>je.id===te?ve:je)),b(null)}catch(ve){console.error("Error updating rubric item:",ve),R("   ")}},Ee=async te=>{if(e)try{await ic.deleteRubricItem(parseInt(e),te),d(c.filter(Ce=>Ce.id!==te))}catch(Ce){console.error("Error deleting rubric item:",Ce),R("   ")}};return E?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:W,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(Tt,{size:"xl"})})]}):T?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:W,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{p:4,bg:"red.50",border:"1px",borderColor:"red.200",borderRadius:"md",maxW:"md",children:h.jsx(V,{color:"red.600",fontWeight:"medium",children:T})})})]}):s?h.jsxs(ht,{templateAreas:{base:'"main"',lg:'"sidebar main"'},templateColumns:{base:"1fr",lg:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:W,children:h.jsxs(ee,{align:"stretch",h:"100vh",p:4,pb:{base:20,md:24},children:[h.jsx(N,{p:4,borderBottom:"1px",borderColor:Q,bg:W,children:h.jsxs(ee,{align:"start",gap:2,children:[h.jsx(V,{fontSize:"2xl",fontWeight:"bold",color:se,children:""}),h.jsxs(V,{color:se,children:[": ",s.student_name," | : ",s.question_title]})]})}),h.jsxs(N,{flex:"1",display:"flex",gap:8,children:[h.jsxs(N,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",position:"relative",children:[h.jsx(N,{p:2,bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:h.jsxs(de,{gap:2,justify:"space-between",children:[h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>O(Math.max(1,_-1)),children:""}),h.jsxs(V,{fontSize:"sm",minW:"80px",textAlign:"center",children:[_," / ",I]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>O(Math.min(I,_+1)),children:""})]}),h.jsxs(de,{gap:1,children:[h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>$(Math.max(.5,L-.25)),children:h.jsx(kx,{})}),h.jsxs(V,{fontSize:"sm",minW:"60px",textAlign:"center",children:[Math.round(L*100),"%"]}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>$(Math.min(3,L+.25)),children:h.jsx(Rx,{})}),h.jsx(Se,{size:"sm",variant:"outline",onClick:()=>D((U+90)%360),children:h.jsx(_x,{})})]})]})}),h.jsx(N,{position:"relative",h:"calc(100% - 60px)",overflow:"auto",children:h.jsx(N,{position:"relative",display:"inline-block",style:{position:"relative"},children:G?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"400px",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",children:G}),h.jsxs(V,{fontSize:"sm",color:"gray.500",children:["PDF URL: ",s?.file_url]}),h.jsx(Se,{size:"sm",onClick:()=>window.location.reload(),children:"Retry"})]})}):B?h.jsx(sS,{file:B,onLoadSuccess:ce,onLoadError:_e,loading:h.jsx("div",{children:"Rendering PDF..."}),children:I>0&&_<=I&&h.jsx(oS,{pageNumber:_,scale:L,rotate:U,renderTextLayer:!1,renderAnnotationLayer:!1})},`pdf-${s?.file_url}-${B}`):h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",h:"400px",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{children:"Loading PDF..."}),h.jsxs(V,{fontSize:"sm",color:"gray.500",children:["URL: ",s?.file_url]})]})})})})]}),h.jsx(N,{w:"400px",bg:"white",borderRadius:"lg",p:4,boxShadow:"lg",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:"gray.800",children:" "}),h.jsxs(ee,{align:"start",gap:2,children:[h.jsxs(V,{fontSize:"md",fontWeight:"medium",color:"gray.700",children:[" ",s.question_id,": ",s.question_title]}),h.jsxs(ee,{align:"stretch",w:"full",gap:2,children:[h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:se,children:"  "}),h.jsxs(V,{fontSize:"sm",color:F,children:[s.graded_submissions,"  ",s.total_submissions]})]}),h.jsx(N,{w:"full",h:"16px",bg:Z,borderRadius:"full",overflow:"hidden",position:"relative",children:h.jsx(N,{w:`${s.progress_percentage}%`,h:"full",bg:s.progress_percentage===100?"green.500":s.progress_percentage>0?"blue.500":"gray.400",borderRadius:"full",transition:"all 0.3s ease",position:"relative",children:s.progress_percentage>20&&h.jsxs(V,{fontSize:"xs",color:"white",fontWeight:"bold",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textShadow:"0 1px 2px rgba(0,0,0,0.3)",children:[s.progress_percentage,"%"]})})}),s.progress_percentage<=20&&h.jsxs(V,{fontSize:"xs",color:F,textAlign:"center",children:[s.progress_percentage,"%  "]})]}),h.jsx(N,{h:"1px",bg:Q}),h.jsxs(ee,{align:"start",gap:2,children:[h.jsx(V,{fontSize:"md",fontWeight:"bold",color:"gray.800",children:" :"}),h.jsxs(de,{gap:2,align:"center",children:[h.jsxs(de,{gap:1,children:[h.jsx(V,{fontSize:"xl",fontWeight:"bold",color:(f?.total_points??s.question_points)===s.question_points?"green.600":(f?.total_points??s.question_points)<s.question_points?"orange.600":"blue.600",children:f?.total_points??s.question_points}),h.jsxs(V,{fontSize:"lg",fontWeight:"medium",color:"gray.600",children:["/ ",s.question_points]})]}),(f?.total_points??s.question_points)!==s.question_points&&h.jsx(N,{px:2,py:1,borderRadius:"md",bg:(f?.total_points??s.question_points)<s.question_points?"orange.100":"blue.100",border:"1px solid",borderColor:(f?.total_points??s.question_points)<s.question_points?"orange.300":"blue.300",children:h.jsx(V,{fontSize:"xs",fontWeight:"medium",color:(f?.total_points??s.question_points)<s.question_points?"orange.700":"blue.700",children:(f?.total_points??s.question_points)<s.question_points?" ":" "})})]})]})]}),h.jsx(N,{h:"1px",bg:Q}),h.jsxs(ee,{align:"stretch",gap:3,children:[h.jsx(V,{fontSize:"md",fontWeight:"medium",color:"gray.700",children:" "}),c&&c.map((te,Ce)=>{const ve=f?.selected_item_ids.includes(te.id)||!1,je=m===te.id;return h.jsxs(de,{align:"start",gap:3,children:[h.jsx(N,{w:"20px",h:"20px",border:"2px solid",borderColor:ve?"blue.500":"gray.300",bg:ve?"blue.500":"white",borderRadius:"sm",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",onClick:()=>ge(te.id),mt:1,children:ve&&h.jsx(V,{fontSize:"xs",color:"white",fontWeight:"bold",children:""})}),h.jsx(N,{w:"20px",h:"20px",bg:"gray.200",borderRadius:"sm",display:"flex",alignItems:"center",justifyContent:"center",mt:1,children:h.jsx(V,{fontSize:"xs",fontWeight:"bold",color:"gray.600",children:Ce+1})}),h.jsx(ee,{align:"start",gap:1,flex:"1",children:je?h.jsxs(ee,{align:"stretch",gap:2,w:"full",bg:"blue.50",p:3,borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[h.jsx(ee,{gap:2,w:"full",children:h.jsxs(de,{gap:2,children:[h.jsx(Yt,{size:"sm",value:te.label,onChange:Je=>{const tt={...te,label:Je.target.value};d(c.map(nt=>nt.id===te.id?tt:nt))},placeholder:" "}),h.jsx(Yt,{size:"sm",type:"number",w:"80px",value:te.delta_points,onChange:Je=>{const tt={...te,delta_points:parseFloat(Je.target.value)||0};d(c.map(nt=>nt.id===te.id?tt:nt))},placeholder:"0"})]})}),h.jsxs(de,{gap:2,children:[h.jsxs(Se,{size:"xs",colorScheme:"green",onClick:()=>pe(te.id,te),children:[h.jsx(ye,{as:Go,mr:1}),""]}),h.jsxs(Se,{size:"xs",variant:"outline",onClick:()=>b(null),children:[h.jsx(ye,{as:zi,mr:1}),""]})]})]}):h.jsxs(de,{justify:"space-between",w:"full",cursor:"pointer",onClick:()=>b(te.id),_hover:{bg:"gray.100"},bg:"gray.50",p:3,borderRadius:"md",border:"1px solid",borderColor:"gray.200",children:[h.jsxs(ee,{align:"start",gap:1,children:[h.jsxs(de,{gap:2,align:"center",children:[h.jsx(N,{px:2,py:1,borderRadius:"md",bg:te.delta_points>=0?"green.100":"red.100",border:"1px solid",borderColor:te.delta_points>=0?"green.300":"red.300",children:h.jsxs(V,{fontSize:"xs",fontWeight:"bold",color:te.delta_points>=0?"green.700":"red.700",children:[te.delta_points>=0?`+${te.delta_points}`:`${te.delta_points}`," "]})}),te.delta_points<0&&h.jsx(V,{fontSize:"xs",color:"red.500",fontWeight:"medium",children:" "})]}),h.jsx(V,{fontSize:"sm",color:"gray.700",fontWeight:"medium",children:te.label})]}),h.jsx(uh,{size:"xs",variant:"ghost",colorScheme:"red","aria-label":"",onClick:Je=>{Je.stopPropagation(),Ee(te.id)},children:h.jsx(ye,{as:il})})]})})]},te.id)}),y?h.jsxs(de,{align:"start",gap:3,children:[h.jsx(N,{w:"20px",h:"20px",mt:1}),h.jsx(N,{w:"20px",h:"20px",bg:"gray.200",borderRadius:"sm",display:"flex",alignItems:"center",justifyContent:"center",mt:1,children:h.jsx(V,{fontSize:"xs",fontWeight:"bold",color:"gray.600",children:"+"})}),h.jsx(ee,{align:"start",gap:1,flex:"1",children:h.jsxs(ee,{align:"stretch",gap:2,w:"full",bg:"green.50",p:3,borderRadius:"md",border:"1px solid",borderColor:"green.200",children:[h.jsxs(ee,{gap:2,w:"full",children:[h.jsxs(de,{gap:2,children:[h.jsx(Yt,{size:"sm",placeholder:" ",value:x.label||"",onChange:te=>C({...x,label:te.target.value})}),h.jsx(Yt,{size:"sm",type:"number",w:"80px",placeholder:"0",value:x.delta_points||0,onChange:te=>C({...x,delta_points:parseFloat(te.target.value)||0})})]}),h.jsxs(de,{gap:2,children:[h.jsx(Se,{size:"xs",variant:x.is_positive?"solid":"outline",colorScheme:"green",onClick:()=>C({...x,is_positive:!0}),children:""}),h.jsx(Se,{size:"xs",variant:x.is_positive?"outline":"solid",colorScheme:"red",onClick:()=>C({...x,is_positive:!1}),children:""})]})]}),h.jsxs(de,{gap:2,children:[h.jsxs(Se,{size:"xs",colorScheme:"green",onClick:ue,children:[h.jsx(ye,{as:Go,mr:1}),""]}),h.jsxs(Se,{size:"xs",variant:"outline",onClick:()=>{S(!1),C({label:"",delta_points:0,is_positive:!0})},children:[h.jsx(ye,{as:zi,mr:1}),""]})]})]})})]}):h.jsxs(de,{align:"start",gap:3,children:[h.jsx(N,{w:"20px",h:"20px",mt:1}),h.jsx(N,{w:"20px",h:"20px",bg:"gray.200",borderRadius:"sm",display:"flex",alignItems:"center",justifyContent:"center",mt:1,children:h.jsx(V,{fontSize:"xs",fontWeight:"bold",color:"gray.600",children:"+"})}),h.jsx(N,{flex:"1",cursor:"pointer",onClick:()=>S(!0),_hover:{bg:"gray.100"},bg:"gray.50",p:3,borderRadius:"md",border:"1px dashed",borderColor:"gray.400",children:h.jsx(V,{fontSize:"sm",color:"gray.600",fontWeight:"medium",children:"  "})})]})]})]})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"space-between",mx:"auto",px:{base:4,md:6},gap:3,children:[h.jsxs(V,{fontSize:"md",color:se,fontWeight:"bold",children:[" ",s.current_submission_index+1,"  ",s.total_submissions_for_question]}),h.jsxs(de,{gap:3,children:[h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:Ae,disabled:!s.previous_submission_id,children:[h.jsx(A8,{style:{marginRight:"4px"}})," "]}),h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingRight:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:Re,disabled:!s.next_submission_id,children:[" ",h.jsx(E8,{style:{marginLeft:"4px"}})]})]})]})})]})})]}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:W,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{children:"No grading data found"})})]})},IK=()=>{const{assignmentId:t}=pr(),{assignment:e,isLoading:n,error:r}=Gc(t),[i,s]=A.useState(null),[a,c]=A.useState([]),[d,f]=A.useState({}),[g,m]=A.useState(!0),[b,y]=A.useState(null),[S,x]=A.useState(""),[C,E]=A.useState("student_name"),[k,T]=A.useState("asc"),R=K("white","gray.900"),_=K("gray.800","white"),O=K("gray.600","gray.300"),I=K("gray.200","gray.700"),M=K("gray.50","gray.800"),L=K("gray.50","gray.800"),$=K("gray.100","gray.700"),U=K("white","gray.800");A.useEffect(()=>{(async()=>{if(t){m(!0),y(null);try{const se=await Be.get(`/api/assignments/${t}/grade-statistics/`);s(se);const Z=(await Be.get(`/api/assignments/${t}/student-grades/`)).grades||[];c(Z);const fe={};Z.forEach(ce=>{if(ce.is_graded){const _e=Math.round(ce.total_score);fe[_e.toString()]=(fe[_e.toString()]||0)+1}}),f(fe)}catch(se){console.error("Error loading review grades data:",se),y("    ")}finally{m(!1)}}})()},[t]);const D=Q=>{C===Q?T(k==="asc"?"desc":"asc"):(E(Q),T("asc"))},B=Q=>C!==Q?h.jsx(ye,{as:Mg,color:"gray.400"}):h.jsx(ye,{as:k==="asc"?Mg:S8,color:"blue.500"}),H=a.filter(Q=>Q.student_name.toLowerCase().includes(S.toLowerCase())||Q.email.toLowerCase().includes(S.toLowerCase())).sort((Q,se)=>{const F=Q[C],Z=se[C];return typeof F=="string"&&typeof Z=="string"?k==="asc"?F.localeCompare(Z):Z.localeCompare(F):typeof F=="number"&&typeof Z=="number"?k==="asc"?F-Z:Z-F:typeof F=="boolean"&&typeof Z=="boolean"?k==="asc"?F?1:-1:Z?-1:1:0}),P=(()=>{if(!i||!d)return[];const Q=[{start:0,end:20,label:"0-20"},{start:20,end:40,label:"20-40"},{start:40,end:60,label:"40-60"},{start:60,end:80,label:"60-80"},{start:80,end:100,label:"80-100"}],se=[];return Q.forEach(({start:F,end:Z,label:fe})=>{let ce=0;Object.entries(d).forEach(([Ae,Re])=>{const ge=parseFloat(Ae);ge>=F&&ge<Z&&(ce+=Re)});const _e=i.total_students>0?ce/i.total_students*100:0;se.push({range:fe,count:ce,percentage:_e})}),se})(),W=Math.max(...P.map(Q=>Q.count));return n||g?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:R,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{gap:4,children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:_,children:"    ..."})]})})]}):r||b?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:R,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(N,{p:4,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:[h.jsx(V,{color:"red.700",fontWeight:"bold",children:"!"}),h.jsx(V,{color:"red.600",children:r||b})]})})]}):h.jsxs(A.Fragment,{children:[h.jsxs(ht,{templateAreas:{base:'"main"',md:'"sidebar main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"sidebar",children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:R,children:h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(ee,{align:"start",gap:2,children:[h.jsxs(St,{size:"xl",color:_,fontWeight:"bold",children:["   ",e?.title]}),h.jsxs(de,{gap:4,children:[h.jsxs(de,{gap:2,children:[h.jsx(N,{w:3,h:3,bg:"green.500",borderRadius:"full"}),h.jsx(V,{fontSize:"sm",color:O,children:"   "})]}),h.jsxs(de,{gap:2,children:[h.jsx(N,{w:3,h:3,bg:"gray.500",borderRadius:"full"}),h.jsx(V,{fontSize:"sm",color:O,children:"  "})]})]})]}),h.jsx(N,{bg:U,p:6,borderRadius:"lg",boxShadow:"sm",border:"1px solid",borderColor:I,children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:_,children:" "}),h.jsxs(N,{children:[h.jsxs(de,{justify:"space-between",mb:2,px:4,children:[h.jsx(V,{fontSize:"xs",color:O,children:"0"}),h.jsx(V,{fontSize:"xs",color:O,children:"20"}),h.jsx(V,{fontSize:"xs",color:O,children:"40"}),h.jsx(V,{fontSize:"xs",color:O,children:"60"}),h.jsx(V,{fontSize:"xs",color:O,children:"80"}),h.jsx(V,{fontSize:"xs",color:O,children:"100"})]}),h.jsx(ee,{align:"stretch",gap:3,children:P.map((Q,se)=>h.jsx(N,{position:"relative",children:h.jsxs(de,{align:"center",gap:4,children:[h.jsx(V,{fontSize:"sm",color:O,w:"60px",textAlign:"right",children:Q.range}),h.jsxs(N,{flex:"1",h:"30px",bg:"gray.100",borderRadius:"md",overflow:"hidden",position:"relative",children:[h.jsx(N,{h:"100%",w:`${W>0?Q.count/W*100:0}%`,bg:"blue.500",borderRadius:"md",transition:"width 0.5s ease",boxShadow:"sm"}),Q.count>0&&h.jsx(V,{fontSize:"sm",color:"white",fontWeight:"bold",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textShadow:"0 1px 2px rgba(0,0,0,0.5)",zIndex:1,children:Q.count})]})]})},se))}),h.jsx(V,{fontSize:"xs",color:O,textAlign:"center",mt:2,children:" "})]})]})}),h.jsx(N,{bg:U,p:6,borderRadius:"lg",boxShadow:"sm",border:"1px solid",borderColor:I,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:_,children:" "}),h.jsxs(ht,{templateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:4,children:[h.jsxs(Zu,{children:[h.jsx(Ju,{color:O,children:""}),h.jsx(ed,{color:_,children:i?.minimum?.toFixed(1)||"0.0"})]}),h.jsxs(Zu,{children:[h.jsx(Ju,{color:O,children:""}),h.jsx(ed,{color:_,children:i?.median?.toFixed(1)||"0.0"})]}),h.jsxs(Zu,{children:[h.jsx(Ju,{color:O,children:""}),h.jsx(ed,{color:_,children:i?.maximum?.toFixed(1)||"0.0"})]}),h.jsxs(Zu,{children:[h.jsx(Ju,{color:O,children:""}),h.jsx(ed,{color:_,children:i?.mean?.toFixed(1)||"0.0"})]}),h.jsxs(Zu,{children:[h.jsx(Ju,{color:O,children:" "}),h.jsx(ed,{color:_,children:i?.std_dev?.toFixed(1)||"0.0"}),h.jsx(D$,{children:h.jsx(ye,{as:DO})})]})]})]})}),h.jsx(N,{bg:U,p:6,borderRadius:"lg",boxShadow:"sm",border:"1px solid",borderColor:I,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsxs(V,{fontSize:"lg",fontWeight:"bold",color:_,children:[H.length," "]}),h.jsxs(N,{position:"relative",maxW:"300px",children:[h.jsx(Yt,{placeholder:"  ...",value:S,onChange:Q=>x(Q.target.value),pl:10}),h.jsx(ye,{as:FO,color:"gray.400",position:"absolute",left:3,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"})]})]}),h.jsx(N,{borderWidth:"1px",borderColor:I,borderRadius:"md",overflow:"hidden",maxH:"calc(100vh - 300px)",overflowY:"auto",children:h.jsxs(tO,{children:[h.jsx(nO,{bg:M,position:"sticky",top:0,zIndex:10,children:h.jsxs(Od,{children:[h.jsx(ki,{cursor:"pointer",onClick:()=>D("student_name"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:"   "}),B("student_name")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>D("email"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:""}),B("email")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>D("total_score"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsxs(V,{fontSize:"sm",fontWeight:"semibold",children:["/",i?.maximum?.toFixed(1)||"0.0"]}),B("total_score")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>D("is_graded"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:" "}),B("is_graded")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>D("is_viewed"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:" "}),B("is_viewed")]})}),h.jsx(ki,{cursor:"pointer",onClick:()=>D("graded_at"),_hover:{bg:$},userSelect:"none",py:4,px:6,children:h.jsxs(de,{children:[h.jsx(V,{fontSize:"sm",fontWeight:"semibold",children:" "}),B("graded_at")]})})]})}),h.jsx(rO,{children:H.length===0?h.jsx(Od,{children:h.jsx(mi,{colSpan:6,textAlign:"center",py:8,children:h.jsx(V,{color:O,children:"   "})})}):H.map(Q=>h.jsxs(Od,{_hover:{bg:L},cursor:"pointer",children:[h.jsx(mi,{py:4,px:4,children:h.jsx(V,{fontWeight:"medium",color:_,children:Q.student_name||"( )"})}),h.jsx(mi,{py:4,px:4,children:h.jsx(V,{fontSize:"sm",color:O,children:Q.email||"--"})}),h.jsx(mi,{py:4,px:4,children:h.jsx(V,{fontWeight:"bold",color:Q.total_score>=Q.max_score*.8?"green.500":Q.total_score>=Q.max_score*.6?"orange.500":"red.500",children:Q.total_score?.toFixed(1)||"0.0"})}),h.jsx(mi,{py:4,px:4,children:Q.is_graded?h.jsxs(Za,{colorScheme:"green",variant:"subtle",size:"sm",children:[h.jsx(ye,{as:Go,mr:1})," "]}):h.jsxs(Za,{colorScheme:"red",variant:"subtle",size:"sm",children:[h.jsx(ye,{as:zi,mr:1})," "]})}),h.jsx(mi,{py:4,px:4,children:h.jsx(Za,{colorScheme:Q.is_viewed?"blue":"gray",variant:"subtle",size:"sm",children:Q.is_viewed?" ":" "})}),h.jsx(mi,{py:4,px:4,children:h.jsx(V,{fontSize:"sm",color:O,children:Q.graded_at?new Date(Q.graded_at).toLocaleDateString("fa-IR"):"--"})})]},Q.id))})]})})]})})]})})})]}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"flex-end",mx:"auto",px:{base:4,md:6},gap:3,children:[h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},children:[h.jsx(ye,{as:IO,mr:2})," "]}),h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingRight:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},children:[" ",h.jsx(ye,{as:Mg,ml:2})]})]})})]})},TP=({isOpen:t,onClose:e,assignmentTitle:n,assignmentId:r,onUploadSuccess:i,isUpdating:s=!1})=>{const a=K("white","gray.800"),c=K("gray.800","white"),d=K("gray.600","gray.300"),f=K("gray.200","gray.600"),g=K("gray.50","gray.700"),m=K("blue.50","blue.900"),[b,y]=A.useState(null),[S,x]=A.useState(!1),[C,E]=A.useState(null),k=_=>{const O=_.target.files?.[0];O&&(O.type==="application/pdf"?(y(O),E(null)):(E("   PDF  "),y(null)))},T=async()=>{if(b){x(!0),E(null);try{const _=new FormData;_.append("file",b),console.log("Uploading file:",b.name,"to assignment:",r),console.log("FormData contents:",Array.from(_.entries())),console.log("Is updating existing submission:",s);const O=s?Be.put:Be.post;console.log("Using HTTP method:",s?"PUT":"POST");const I=await O(`/api/assignments/${r}/submissions/student/upload/`,_,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",I.data),i(b),e(),y(null),E(null)}catch(_){console.error("Upload error:",_),console.error("Error response:",_.response),console.error("Error response data:",_.response?.data);let O="   ";_.response?.data?.error?_.response.data.error.includes("already have a submission")?O='      .      ""  .':O=_.response.data.error:_.response?.data?.detail&&(O=_.response.data.detail),E(O)}finally{x(!1)}}},R=()=>{y(null),E(null),e()};return t?h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",p:4,children:h.jsxs(N,{bg:a,borderRadius:"lg",maxW:"500px",w:"100%",maxH:"90vh",overflowY:"auto",boxShadow:"xl",children:[h.jsx(N,{p:6,borderBottom:"1px solid",borderColor:f,children:h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsx(V,{color:c,fontSize:"lg",fontWeight:"bold",children:"  "}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:R,p:1,minW:"auto",h:"auto",children:h.jsx(ye,{as:zi,boxSize:4})})]})}),h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(N,{p:4,bg:g,borderRadius:"md",border:"1px solid",borderColor:f,children:h.jsx(V,{color:c,fontWeight:"medium",fontSize:"md",children:n})}),h.jsxs(N,{p:6,border:"2px dashed",borderColor:b?"green.300":"gray.300",borderRadius:"md",bg:b?"green.50":g,textAlign:"center",cursor:"pointer",_hover:{borderColor:"blue.400"},onClick:()=>document.getElementById("file-input")?.click(),children:[h.jsx("input",{id:"file-input",type:"file",accept:".pdf",onChange:k,style:{display:"none"}}),b?h.jsxs(ee,{gap:2,children:[h.jsx(ye,{as:Go,color:"green.500",boxSize:8}),h.jsx(V,{color:"green.600",fontWeight:"medium",children:"  "}),h.jsx(V,{color:"green.500",fontSize:"sm",children:b.name})]}):h.jsxs(ee,{gap:2,children:[h.jsx(ye,{as:Ss,color:"gray.400",boxSize:8}),h.jsx(V,{color:d,fontWeight:"medium",children:" PDF    "}),h.jsx(V,{color:"gray.400",fontSize:"sm",children:"   "})]})]}),C&&h.jsx(N,{p:3,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:zi,color:"red.500",boxSize:4}),h.jsx(V,{fontSize:"sm",color:"red.600",children:C})]})}),h.jsx(N,{p:3,bg:m,borderRadius:"md",children:h.jsx(V,{color:"blue.600",fontSize:"sm",lineHeight:"1.6",children:"           ."})})]})}),h.jsx(N,{p:6,borderTop:"1px solid",borderColor:f,children:h.jsxs(de,{gap:3,children:[h.jsx(Se,{variant:"outline",onClick:R,size:"sm",disabled:S,children:""}),h.jsxs(Se,{colorScheme:"blue",onClick:T,size:"sm",disabled:!b||S,loading:S,loadingText:"  ...",children:[h.jsx(ye,{as:Ss,mr:1}),"  "]})]})})]})}):null},MK=()=>{const{courseId:t,assignmentId:e}=pr(),n=yn(),r=$i(),i=r.state?.assignment,s=r.state?.uploadedFile,a=r.state?.isEditing,[c,d]=A.useState([]),[f,g]=A.useState([]),[m,b]=A.useState(!0),[y,S]=A.useState(!1),[x,C]=A.useState(null),[E,k]=A.useState(""),[T,R]=A.useState(null),[_,O]=A.useState(!1),I=K("white","gray.900"),M=K("gray.800","white");A.useEffect(()=>()=>{s&&E&&E.startsWith("blob:")&&URL.revokeObjectURL(E)},[s,E]),A.useEffect(()=>{e&&(async()=>{try{b(!0),C(null);const G=await Mc.getQuestions(parseInt(e));if(console.log("Questions response:",G),G&&Array.isArray(G)){d(G);const P=G.filter(W=>W.id!==void 0).map(W=>({question_id:W.id,page_numbers:W.default_page_numbers||[]}));g(P)}else console.warn("No questions found for assignment:",e),d([]),g([]);if(s&&!a){console.log("Using uploaded file:",s);const P=URL.createObjectURL(s);k(P),console.log("Uploaded file URL:",P)}else try{const P=await Be.get(`/api/assignments/${e}/submissions/student/`);if(console.log("Student submission data:",P),P){if(R(P),P.file){const W=P.file.startsWith("http")?P.file:`http://localhost:8000${P.file}`;k(W),console.log("Existing submission file URL:",W)}else console.warn("No file found in submission:",P);try{const W=await Be.get(`/api/assignments/submissions/${P.id}/`);console.log("Submission details response:",W);const Q=W.page_map||{};console.log("Existing page map:",Q);const se=G.filter(F=>F.id!==void 0).map(F=>({question_id:F.id,page_numbers:Q[F.id]||F.default_page_numbers||[]}));console.log("Converted existing outline:",se),g(se)}catch(W){console.warn("Could not load existing page map:",W)}}}catch(P){console.warn("No existing submission found:",P)}}catch(G){console.error("Error loading data:",G),C("   ")}finally{b(!1)}})()},[e]);const L=async()=>{if(e){S(!0);try{console.log("Saving submission outline:",f);const H=f.reduce((G,P)=>(G[P.question_id]=P.page_numbers,G),{});if(console.log("Page map to save:",H),T){const G=await Be.put(`/api/assignments/submissions/${T.id}/page-map/`,{page_map:H});console.log("Update response:",G)}else console.log("No existing submission to update");alert("      "),n(`/courses/${t}/assignments`)}catch(H){console.error("Error saving submission outline:",H),console.error("Error details:",H.response?.data),alert("     : "+(H.response?.data?.error||H.message))}finally{S(!1)}}},$=()=>{n(`/courses/${t}/assignments`)},U=()=>{O(!0)},D=()=>{O(!1)},B=async H=>{try{const G=URL.createObjectURL(H);if(k(G),console.log("File changed successfully:",G),T&&e){const P=new FormData;P.append("file",H),await Be.put(`/api/assignments/${e}/submissions/student/upload/`,P,{headers:{"Content-Type":"multipart/form-data"}}),console.log("File updated on server successfully")}O(!1)}catch(G){console.error("Error updating file:",G),alert("   : "+(G.response?.data?.error||G.message))}};return m?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:I,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{color:M,children:"  ..."})]})})]}):x?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{})}),h.jsx(Oe,{area:"main",bg:I,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(V,{color:"red.500",children:x})})]}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:i?.title||"",courseSubtitle:`${i?.due_at?new Date(i.due_at).toLocaleDateString("fa-IR"):" "}`,courseCode:i?.id?.toString()||"",instructor:"",courseId:t})}),h.jsx(Oe,{area:"main",bg:K("gray.50","gray.900"),position:"relative",children:h.jsxs(ee,{align:"stretch",h:"100vh",p:6,gap:0,children:[h.jsx(N,{bg:K("white","gray.800"),p:6,borderRadius:"lg",boxShadow:"sm",border:"1px solid",borderColor:K("gray.200","gray.600"),mb:6,children:h.jsxs(de,{justify:"space-between",align:"center",mb:3,children:[h.jsxs(ee,{align:"start",gap:2,children:[h.jsxs(de,{align:"center",gap:3,children:[h.jsx(N,{p:2,borderRadius:"md",bg:K("blue.50","blue.900"),color:K("blue.600","blue.300"),children:h.jsx(ye,{as:Ss,boxSize:5})}),h.jsxs(ee,{align:"start",gap:0,children:[h.jsx(V,{fontSize:"2xl",fontWeight:"bold",color:M,children:a?" ":" "}),h.jsx(V,{fontSize:"sm",color:K("gray.500","gray.400"),children:T?"  ":" "})]})]}),h.jsx(V,{fontSize:"lg",color:K("gray.700","gray.300"),fontWeight:"medium",children:i?.title||""})]}),h.jsxs(de,{gap:3,children:[a&&h.jsxs(Se,{paddingLeft:2,size:"md",bg:"blue.500",variant:"solid",onClick:U,_hover:{transform:"translateY(-1px)",boxShadow:"md"},transition:"all 0.2s",children:[h.jsx(ye,{as:Ss,mr:2})," "]}),h.jsxs(Se,{paddingLeft:2,size:"md",variant:"outline",colorScheme:"gray",onClick:()=>n(`/courses/${t}/assignments`),_hover:{transform:"translateY(-1px)",boxShadow:"md"},transition:"all 0.2s",children:[h.jsx(ye,{as:Ax,mr:2}),""]})]})]})}),h.jsx(N,{flex:"1",bg:K("white","gray.800"),borderRadius:"lg",boxShadow:"sm",border:"1px solid",borderColor:K("gray.200","gray.600"),overflow:"hidden",children:h.jsx(_P,{pdfUrl:E,questions:c.filter(H=>H.id!==void 0),submissionOutline:f,onOutlineChange:g,onSave:L,onCancel:$,isSaving:y,numPages:T?.num_pages||0,submissionId:T?.id})})]})}),_&&h.jsx(TP,{isOpen:_,onClose:D,assignmentTitle:i?.title||"",assignmentId:parseInt(e),onUploadSuccess:B,isUpdating:!0})]})},DK={getProfile:async()=>Be.get(pn.ENDPOINTS.PROFILE),updateProfile:async t=>Be.patch(pn.ENDPOINTS.PROFILE,t)},LK=()=>{const t=yn(),{user:e,isAuthenticated:n,updateProfile:r}=Wi(),i=$p({placement:"top"}),s=K("white","gray.900"),a=K("gray.800","white"),c=K("gray.200","gray.700"),[d,f]=A.useState({name:"",email:"",first_name:"",last_name:"",bio:""}),[g,m]=A.useState(!1);A.useEffect(()=>{e&&(console.log("ProfilePage - User data:",e),f({name:e.name||"",email:e.email||"",first_name:e.first_name||"",last_name:e.last_name||"",bio:e.bio||""}))},[e]),A.useEffect(()=>{(async()=>{try{if(e)console.log("ProfilePage - Using user data from useAuth:",e),f({name:e.name||"",email:e.email||"",first_name:e.first_name||"",last_name:e.last_name||"",bio:e.bio||""});else{const E=await DK.getProfile();console.log("ProfilePage - Profile data from API:",E),f({name:E.name||"",email:E.email||"",first_name:E.first_name||"",last_name:E.last_name||"",bio:E.bio||""})}}catch(E){console.error("Error loading profile:",E),e&&f({name:e.name||"",email:e.email||"",first_name:e.first_name||"",last_name:e.last_name||"",bio:e.bio||""})}})()},[e]),A.useEffect(()=>{n||t("/login")},[n,t]);const b=(C,E)=>{f(k=>({...k,[C]:E}))},y=()=>{t("/")},S=()=>{const C=[];return d.name.trim()||C.push("   "),d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||C.push("   "):C.push("  "),C},x=async()=>{const C=S();if(C.length>0){i.create({title:"  ",description:C.join(" "),type:"error",duration:5e3});return}m(!0);try{console.log("ProfilePage - Updating profile:",d),await r(d),i.create({title:"  ",description:"     ",type:"success",duration:3e3}),setTimeout(()=>{window.location.reload()},1500)}catch(E){console.error("Error updating profile:",E);let k="     ";E?.response?.data?.detail?k=E.response.data.detail:E?.response?.data?.message?k=E.response.data.message:E?.message&&(k=E.message),i.create({title:"  ",description:k,type:"error",duration:5e3})}finally{m(!1)}};return e?h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{config:im(e?.role)})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:s,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsx(St,{size:"xl",color:a,children:" "}),h.jsx(N,{width:"50%",borderWidth:"1px",borderColor:c,borderRadius:"lg",p:8,bg:K("gray.50","gray.800"),boxShadow:"sm",children:h.jsxs(ee,{align:"stretch",gap:8,children:[h.jsxs(N,{children:[h.jsxs(N,{as:"label",fontWeight:"medium",color:a,display:"block",mb:2,children:["  ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsx(Yt,{paddingRight:2,value:d.name,onChange:C=>b("name",C.target.value),color:a,placeholder:"     ",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(N,{children:[h.jsxs(N,{as:"label",fontWeight:"medium",color:a,display:"block",mb:2,children:[" ",h.jsx(V,{as:"span",color:"red.500",children:"*"})]}),h.jsx(Yt,{paddingRight:2,type:"email",value:d.email,onChange:C=>b("email",C.target.value),color:a,placeholder:"    ",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(de,{gap:4,children:[h.jsxs(N,{flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:a,display:"block",mb:2,children:""}),h.jsx(Yt,{paddingRight:2,value:d.first_name,onChange:C=>b("first_name",C.target.value),color:a,placeholder:"",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]}),h.jsxs(N,{flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:a,display:"block",mb:2,children:" "}),h.jsx(Yt,{paddingRight:2,value:d.last_name,onChange:C=>b("last_name",C.target.value),color:a,placeholder:" ",_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px #3182ce"},bg:K("white","gray.700"),borderColor:K("gray.300","gray.600")})]})]}),h.jsxs(de,{justify:"space-between",gap:3,children:[h.jsx(Se,{p:2,variant:"outline",onClick:y,children:""}),h.jsxs(Se,{paddingLeft:2,colorScheme:"teal",onClick:x,loading:g,loadingText:"  ...",children:[h.jsx(ye,{as:Tx,mr:2})," "]})]})]})})]})})})]}):h.jsx(N,{bg:s,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:a,children:"   ..."})]})})},zK=({children:t})=>{const{isAuthenticated:e,isLoading:n}=Wi();return n?h.jsx(N,{display:"flex",justifyContent:"center",alignItems:"center",minH:"100vh",children:h.jsxs(ee,{gap:4,children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{children:"  ..."})]})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(TW,{to:"/login",replace:!0})},FK=({course:t})=>{const e=K("gray.100","gray.800"),n=K("gray.200","gray.700"),r=K("gray.600","gray.300"),i=yn(),s=()=>{i(`/courses/${t.id}`)};return h.jsxs(N,{bg:e,border:"1px",borderColor:n,borderRadius:"lg",overflow:"hidden",boxShadow:"md",_hover:{transform:"translateY(-4px)",shadow:"lg"},transition:"all 0.3s",cursor:"pointer",height:{base:"200px",md:"220px"},display:"flex",flexDirection:"column",fontFamily:"inherit",onClick:s,children:[h.jsxs(N,{p:{base:3,md:4},flex:"1",children:[h.jsxs(ee,{align:"start",mb:3,gap:2,children:[h.jsx(St,{size:"md",fontSize:{base:"sm",md:"md"},fontWeight:"bold",fontFamily:"inherit",lineHeight:"1.3",children:t.title}),h.jsx(V,{color:r,fontSize:{base:"xs",md:"sm"},fontFamily:"inherit",lineHeight:"1.4",children:t.courseCode})]}),h.jsxs(ee,{align:"start",gap:1,children:[h.jsxs(de,{color:r,fontSize:{base:"xs",md:"sm"},children:[h.jsx(ye,{as:qd}),h.jsx(V,{fontFamily:"inherit",children:t.instructor})]}),h.jsxs(de,{color:r,fontSize:{base:"xs",md:"sm"},children:[h.jsx(ye,{as:Qp}),h.jsxs(V,{fontFamily:"inherit",children:[t.students," "]})]})]})]}),h.jsx(N,{bg:"#2E5BBA",color:"white",p:{base:2,md:3},textAlign:"center",fontWeight:"medium",_hover:{bg:"#1E4A9A"},fontFamily:"inherit",children:h.jsxs(de,{justify:"center",gap:{base:1,md:2},children:[h.jsx(ye,{as:Ho,mr:{base:1,md:2}}),h.jsxs(V,{fontSize:{base:"xs",md:"sm"},fontFamily:"inherit",children:[t.assignments," "]})]})})]})},BK=({onClick:t})=>{const e=K("white","gray.800"),n=K("gray.300","gray.600"),r=K("gray.600","gray.300");return h.jsx(N,{bg:e,border:"2px dashed",borderColor:n,borderRadius:"lg",overflow:"hidden",cursor:"pointer",height:{base:"200px",md:"220px"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",_hover:{borderColor:"blue.400",transform:"translateY(-2px)",shadow:"md"},transition:"all 0.3s",onClick:t,children:h.jsxs(ee,{align:"center",children:[h.jsx(ye,{as:rl,boxSize:6,color:r,mb:2}),h.jsx(V,{color:r,fontSize:{base:"sm",md:"md"},fontWeight:"medium",textAlign:"center",children:"  "})]})})},VK=({courses:t,onCreateCourse:e})=>{const[n,r]=A.useState(!1),i=n?t:v7(t,1404),s=m7(i),a=b7(s),c=t.some(d=>(d.year||0)<1404);return h.jsxs(ee,{align:"start",width:"100%",children:[a.map(d=>h.jsxs(N,{width:"100%",mb:8,children:[h.jsx(St,{size:"lg",mb:4,color:"gray.700",fontFamily:"inherit",children:d}),h.jsxs(ht,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,children:[s[d].map(f=>h.jsx(Oe,{children:h.jsx(FK,{course:f})},f.id)),d===a[0]&&e&&h.jsx(Oe,{children:h.jsx(BK,{onClick:e})})]})]},d)),c&&h.jsx(N,{width:"100%",textAlign:"center",pt:4,children:h.jsx(Se,{variant:"ghost",color:"blue.600",fontSize:"md",_hover:{textDecoration:"underline"},onClick:()=>r(!n),children:h.jsxs(de,{children:[h.jsx(ye,{as:n?qo:xs}),h.jsx("span",{children:n?"   ":"  "})]})})})]})},HK=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,i]=A.useState(""),[s,a]=A.useState(null),[c,d]=A.useState(!1),f=K("white","gray.800"),g=K("gray.200","gray.600"),m=K("gray.800","white"),b=K("rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.6)");A.useEffect(()=>{const x=C=>{C.key==="Escape"&&t&&y()};if(t)return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[t]);const y=()=>{i(""),a(null),d(!1),e()},S=async()=>{if(!r.trim()){a("     ");return}if(r.trim().length<6){a("     ");return}a(null),d(!0);try{await n?.({entryCode:r.trim()}),y()}catch(x){a(x.message||"  .      .")}finally{d(!1)}};return t?h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:b,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",p:4,onClick:y,children:h.jsxs(N,{overflow:"hidden",bg:f,borderRadius:"lg",boxShadow:"2xl",maxW:"600px",w:"100%",onClick:x=>x.stopPropagation(),children:[h.jsx(N,{p:4,borderBottom:"1px",borderColor:g,bg:"blue.50",children:h.jsx(St,{size:"md",color:m,children:"    "})}),h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:m,children:"  "}),h.jsx(Yt,{value:r,onChange:x=>i(x.target.value),placeholder:"     ",color:m,textAlign:"center",fontSize:"md",letterSpacing:"0.1em"}),s&&h.jsx(N,{color:"red.500",fontSize:"sm",textAlign:"center",children:s})]}),h.jsxs(de,{justify:"flex-end",gap:3,pt:2,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:y,color:m,disabled:c,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"teal",onClick:S,loading:c,loadingText:"  ...",children:" "})]})]})})]})}):null},$K=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,i]=A.useState(""),[s,a]=A.useState(""),[c,d]=A.useState(""),[f,g]=A.useState("summer"),[m,b]=A.useState(1404),[y,S]=A.useState(null),x=K("white","gray.800"),C=K("gray.200","gray.600"),E=K("gray.800","white"),k=K("rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.6)"),T=K("#ffffff","#1a202c"),R=K("#e2e8f0","#4a5568"),_=K("#2d3748","#ffffff");A.useEffect(()=>{const M=L=>{L.key==="Escape"&&t&&O()};if(t)return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[t]);const O=()=>{i(""),a(""),d(""),g("spring"),b(1403),S(null),e()},I=()=>{const M={};if(r.trim()||(M.courseNumber="   "),s.trim()||(M.courseName="   "),Object.keys(M).length>0){S(M);return}S(null),n?.({title:s.trim(),code:r.trim(),description:c.trim()||void 0,term:f,year:m}),O()};return t?h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:k,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",p:4,onClick:O,children:h.jsxs(N,{bg:x,borderRadius:"lg",boxShadow:"2xl",maxW:"720px",w:"100%",maxH:"90vh",overflowY:"auto",onClick:M=>M.stopPropagation(),children:[h.jsx(N,{p:4,borderBottom:"1px",borderColor:C,bg:"blue.50",children:h.jsx(St,{size:"md",color:E,children:"  "})}),h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:E,children:" "}),h.jsx(Yt,{padding:2,value:r,onChange:M=>i(M.target.value),placeholder:": 1740028 ",color:E}),y?.courseNumber&&h.jsx(N,{color:"red.500",fontSize:"sm",children:y.courseNumber})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:E,children:" "}),h.jsx(Yt,{padding:2,value:s,onChange:M=>a(M.target.value),placeholder:":   ",color:E}),y?.courseName&&h.jsx(N,{color:"red.500",fontSize:"sm",children:y.courseName})]}),h.jsxs(ee,{align:"stretch",gap:2,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:E,children:" "}),h.jsx(iO,{value:c,onChange:M=>d(M.target.value),color:E,rows:3})]}),h.jsxs(de,{gap:4,children:[h.jsxs(ee,{align:"stretch",gap:2,flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:E,children:""}),h.jsxs("select",{value:f,onChange:M=>g(M.target.value),style:{color:_,backgroundColor:T,border:`1px solid ${R}`,borderRadius:"6px",padding:"8px 12px",fontSize:"14px",width:"100%",outline:"none",transition:"border-color 0.2s ease"},onFocus:M=>{M.target.style.borderColor="#3182ce",M.target.style.boxShadow="0 0 0 1px #3182ce"},onBlur:M=>{M.target.style.borderColor=R,M.target.style.boxShadow="none"},children:[h.jsx("option",{value:"fall",children:""}),h.jsx("option",{value:"winter",children:""}),h.jsx("option",{value:"spring",children:""}),h.jsx("option",{value:"summer",children:""})]})]}),h.jsxs(ee,{align:"stretch",gap:2,flex:1,children:[h.jsx(N,{as:"label",fontWeight:"medium",color:E,children:""}),h.jsxs("select",{value:m,onChange:M=>b(parseInt(M.target.value)),style:{color:_,backgroundColor:T,border:`1px solid ${R}`,borderRadius:"6px",padding:"8px 12px",fontSize:"14px",width:"100%",outline:"none",transition:"border-color 0.2s ease"},onFocus:M=>{M.target.style.borderColor="#3182ce",M.target.style.boxShadow="0 0 0 1px #3182ce"},onBlur:M=>{M.target.style.borderColor=R,M.target.style.boxShadow="none"},children:[h.jsx("option",{value:1403,children:"1403"}),h.jsx("option",{value:1404,children:"1404"}),h.jsx("option",{value:1405,children:"1405"}),h.jsx("option",{value:1406,children:"1406"}),h.jsx("option",{value:1407,children:"1407"})]})]})]}),h.jsxs(de,{justify:"flex-end",gap:3,pt:2,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:O,color:E,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"teal",onClick:I,children:" "})]})]})})]})}):null},RP=()=>{const t=K("white","gray.900"),e=K("gray.800","white"),n=K("blue.50","blue.900"),r=K("gray.600","gray.300"),i=$p({placement:"top"}),s=kE(),a=kE(),{courses:c,isLoading:d,error:f,createCourse:g,clearError:m}=dj(),{isAuthenticated:b,user:y}=Wi(),S=yn(),x=y?.role==="instructor",C=async k=>{try{const T=await hr.enrollCourse({invite_code:k.entryCode});if(T.already_enrolled)throw new Error(`    "${T.course.title}"  `);i.create({title:" ",description:`    "${T.course.title}"  `,type:"success",duration:5e3}),s.onClose(),S(`/courses/${T.course.id}`)}catch(T){throw console.error("Failed to enroll in course:",T),T}},E=async k=>{try{const T=await g(k);a.onClose(),S(`/courses/${T.id}`)}catch(T){console.error("Failed to create course:",T)}};return d?h.jsx(N,{bg:t,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(St,{size:"md",color:e,children:"   ..."})]})}):f?h.jsxs(N,{bg:t,minH:"100vh",p:6,children:[h.jsx(N,{bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",p:4,mb:4,children:h.jsx(V,{color:"red.600",fontWeight:"medium",children:f})}),h.jsx(Se,{onClick:m,children:" "})]}):b?h.jsxs(N,{bg:t,minH:"100vh",p:6,position:"relative",pb:24,fontFamily:"inherit",children:[h.jsx(ee,{align:"start",mb:8,children:h.jsx(St,{size:"xl",color:e,fontWeight:"bold",fontFamily:"inherit",fontSize:{base:"xl",md:"2xl",lg:"3xl"},children:" "})}),c.length===0?h.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",minH:"60vh",textAlign:"center",children:h.jsxs(ee,{gap:6,maxW:"500px",children:[h.jsx(N,{bg:n,borderRadius:"full",p:8,boxShadow:"lg",children:h.jsx(ye,{as:Ho,boxSize:16,color:"blue.500"})}),h.jsxs(ee,{gap:4,children:[h.jsx(St,{size:"lg",color:e,fontFamily:"inherit",fontSize:{base:"lg",md:"xl",lg:"2xl"},children:"   "}),h.jsx(V,{color:r,fontSize:{base:"sm",md:"md"},lineHeight:"1.6",maxW:"400px",children:x?"                .":"         ."})]}),h.jsxs(de,{gap:4,pt:4,children:[x&&h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:"md",paddingLeft:4,_hover:{bg:"#1E4A9A"},onClick:a.onOpen,children:[h.jsx(ye,{as:rl,mr:2}),"  "]}),h.jsxs(Se,{bg:t,variant:"outline",colorScheme:"blue",size:"md",paddingLeft:4,borderColor:"#4A90E2",color:"#4A90E2",_hover:{bg:"#4A90E2",color:"white"},onClick:s.onOpen,children:[h.jsx(ye,{as:Ho,mr:2}),"  "]})]})]})}):h.jsx(VK,{courses:c,onCreateCourse:x?a.onOpen:void 0}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsxs(de,{justify:"flex-end",mx:"auto",px:{base:4,md:6},children:[h.jsxs(Se,{bg:t,variant:"outline",colorScheme:"blue",size:{base:"sm",md:"md"},paddingLeft:2,borderColor:"#4A90E2",color:"#4A90E2",_hover:{bg:"#4A90E2",color:"white"},fontSize:{base:"xs",md:"sm"},onClick:s.onOpen,children:[h.jsx(ye,{as:Ho,mr:2}),"  "]}),x&&h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:a.onOpen,children:[h.jsx(ye,{as:rl,mr:2})," "]})]})}),h.jsx(HK,{isOpen:s.open,onClose:s.onClose,onSubmit:C}),h.jsx($K,{isOpen:a.open,onClose:a.onClose,onSubmit:E})]}):h.jsx(N,{bg:t,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(ee,{children:h.jsx(St,{size:"md",color:e,children:"  "})})})},UK=()=>{const{user:t}=Wi();return h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{config:im(t?.role)})}),h.jsx(Oe,{area:"main",children:h.jsx(RP,{})})]})},WK=()=>{const{user:t}=Wi();return h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{config:im(t?.role)})}),h.jsx(Oe,{area:"main",children:h.jsx(RP,{})})]})},zT=()=>{const{user:t,isLoading:e}=Wi();return e?h.jsx("div",{children:"Loading..."}):t?.role==="student"?h.jsx(WK,{}):h.jsx(UK,{})},aS=t=>{const[e,n]=A.useState([]),[r,i]=A.useState(0),[s,a]=A.useState(!0),[c,d]=A.useState(null),f=A.useCallback(async()=>{if(!t){n([]),i(0),a(!1),d("Course ID is undefined");return}try{a(!0),d(null);const g=await vh.getCourseAssignments(parseInt(t));n(g.results||[]),i(g.count||0)}catch(g){const m=g.response?.data?.detail||"Failed to fetch assignments";d(m),n([]),i(0)}finally{a(!1)}},[t]);return A.useEffect(()=>{f()},[f]),{assignments:e,assignmentCount:r,isLoading:s,error:c,refetch:f}},GK=()=>{const{courseId:t}=pr(),{course:e,isLoading:n,error:r}=Jo(t),{assignments:i,isLoading:s}=aS(t),a=yn(),[c,d]=A.useState(!1),[f,g]=A.useState(null),[m,b]=A.useState(!1),y=D=>{a(`/courses/${t}/assignments/${D}/settings`)},S=D=>{g(D),d(!0)},x=async()=>{if(f){b(!0);try{await vh.deleteAssignment(f),window.location.reload()}catch(D){console.error("Error deleting assignment:",D)}finally{b(!1)}}},C=K("white","gray.900"),E=K("gray.800","white"),k=K("gray.600","gray.300"),T=K("gray.200","gray.700"),R=K("gray.50","gray.800"),_=K("gray.50","gray.800"),O=K("gray.200","gray.600"),I=K("white","gray.700"),M=K("gray.200","gray.600"),L=K("blue.50","blue.900"),$=K("red.50","red.900"),U=K("white","gray.800");return n?h.jsx(N,{bg:C,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:E,children:"   ..."})]})}):r||!e?h.jsx(N,{bg:C,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:k,children:r||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:e.title,courseSubtitle:`${xi(e.term)} ${e.year}`,courseCode:e.courseCode,instructor:e.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:C,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(N,{children:[h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsx(St,{size:"xl",color:E,fontWeight:"bold",children:e.title}),h.jsx(N,{height:"20px",width:"1px",bg:k}),h.jsxs(V,{color:k,fontSize:"lg",children:[xi(e.term)," ",e.year]})]}),h.jsxs(V,{color:k,fontSize:"sm",children:[" : ",e.courseCode]})]}),h.jsxs(N,{width:"50%",children:[h.jsx(St,{size:"md",color:E,mb:2,children:""}),h.jsx(N,{height:"2px",width:"100%",bg:"gray.400",mb:3}),h.jsx(V,{color:E,fontSize:"sm",children:e.description||"        ."})]}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:T,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:R,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:T,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:"  "}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:E,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:"  "}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:E,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:E,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",width:"50px"})]})}),h.jsx(N,{as:"tbody",children:s?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",gridColumn:"span 8",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:E,children:"   ..."})]})})}):i.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:8,children:h.jsxs(ee,{children:[h.jsx(V,{color:k,fontSize:"md",children:"    ."}),h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"xs",md:"xs"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:()=>a(`/courses/${t}/assignments/new`),children:[h.jsx(ye,{as:rl,mr:2})," "]})]})})}):i.map(D=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:T,_hover:{bg:_},children:[h.jsx(N,{as:"td",p:3,color:E,fontWeight:"medium",children:h.jsx(Se,{variant:"ghost",color:E,fontWeight:"medium",p:0,h:"auto",textAlign:"left",textDecoration:"underline",onClick:()=>a(`/courses/${t}/assignments/${D.id}/submissions`),_hover:{color:"blue.500",textDecoration:"underline"},children:D.title})}),h.jsx(N,{as:"td",p:3,color:k,children:new Date(D.created_at).toLocaleDateString("fa-IR")}),h.jsx(N,{as:"td",p:3,color:k,children:D.due_at?new Date(D.due_at).toLocaleDateString("fa-IR"):" "}),h.jsx(N,{as:"td",p:3,color:E,children:D.total_submissions||0}),h.jsx(N,{as:"td",p:2,children:h.jsxs(ee,{align:"start",gap:1,children:[h.jsx(N,{width:"250px",height:"12px",bg:O,borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${D.grading_progress||0}%`,height:"100%",bg:D.grading_progress===100?"green.500":D.grading_progress>0?"blue.500":"gray.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:k,children:[D.grading_progress||0,"%"]})]})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(N,{w:"24px",h:"24px",borderRadius:"full",bg:D.is_published?"blue.500":"gray.300",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",children:D.is_published&&h.jsx(ye,{as:Go,color:"white",boxSize:3})})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(V,{color:D.regrade_enabled?"blue.500":"red.500",fontWeight:"medium",fontSize:"sm",children:D.regrade_enabled?"ON":"OFF"})}),h.jsx(N,{as:"td",p:3,textAlign:"center",position:"absolute",children:h.jsxs(hx,{children:[h.jsx(fx,{asChild:!0,children:h.jsx(uh,{variant:"ghost",size:"sm","aria-label":"",_hover:{bg:"gray.100"},children:h.jsx(ye,{as:zO})})}),h.jsxs(gx,{bg:I,border:"1px solid",borderColor:M,borderRadius:"md",boxShadow:"lg",minW:"180px",py:1,zIndex:1e3,dir:"rtl",position:"absolute",left:0,children:[h.jsx(Ja,{value:"settings",onClick:()=>y(D.id),bg:"transparent",cursor:"pointer",_hover:{bg:L},_focus:{bg:L},py:2,px:3,fontSize:"sm",children:h.jsxs(de,{w:"full",children:[h.jsx(ye,{as:Yo,color:"blue.500"}),h.jsx(V,{color:"blue.500",children:" "})]})}),h.jsx(Ja,{value:"delete",onClick:()=>S(D.id),bg:"transparent",cursor:"pointer",_hover:{bg:$},_focus:{bg:$},py:2,px:3,fontSize:"sm",children:h.jsxs(de,{w:"full",children:[h.jsx(ye,{as:il,color:"red.500"}),h.jsx(V,{color:"red.500",children:" "})]})})]})]})})]},D.id))})]})})})]})})}),c&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:U,borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:E,textAlign:"center",children:" "}),h.jsx(V,{fontSize:"sm",color:"red.500",textAlign:"center",children:"         "}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>{d(!1),g(null)},disabled:m,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",onClick:x,loading:m,loadingText:"  ...",children:""})]})]})})})]})},qK=({isOpen:t,onClose:e,assignmentTitle:n,templateUrl:r,isLoading:i=!1,error:s})=>{const a=K("white","gray.800"),c=K("gray.800","white"),d=K("gray.600","gray.300"),f=K("gray.200","gray.600"),g=()=>{if(r){const m=document.createElement("a");m.href=r.startsWith("http")?r:`http://localhost:8000${r}`,m.download=`template_${n.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m)}};return t?h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",p:4,children:h.jsxs(N,{bg:a,borderRadius:"lg",maxW:"500px",w:"100%",maxH:"90vh",overflowY:"auto",boxShadow:"xl",children:[h.jsx(N,{p:6,borderBottom:"1px solid",borderColor:f,children:h.jsxs(de,{justify:"space-between",align:"center",children:[h.jsx(V,{color:c,fontSize:"lg",fontWeight:"bold",children:"  "}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:e,p:1,minW:"auto",h:"auto",children:h.jsx(ye,{as:zi,boxSize:4})})]})}),h.jsx(N,{p:6,children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(N,{p:4,bg:K("gray.50","gray.700"),borderRadius:"md",border:"1px solid",borderColor:f,children:h.jsx(V,{color:c,fontWeight:"medium",fontSize:"md",children:n})}),i&&h.jsxs(ee,{gap:3,children:[h.jsx(Tt,{size:"lg",color:"blue.500"}),h.jsx(V,{color:d,children:"   ..."})]}),s&&h.jsx(N,{p:3,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:h.jsxs(de,{gap:2,children:[h.jsx(ye,{as:zi,color:"red.500",boxSize:4}),h.jsx(V,{fontSize:"sm",color:"red.600",children:s})]})}),!i&&!s&&r&&h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsxs(de,{gap:3,p:3,bg:K("blue.50","blue.900"),borderRadius:"md",children:[h.jsx(ye,{as:Yv,color:"blue.500",boxSize:5}),h.jsxs(ee,{align:"start",gap:1,flex:1,children:[h.jsx(V,{color:"blue.600",fontWeight:"medium",fontSize:"sm",children:"   "}),h.jsx(V,{color:"blue.500",fontSize:"xs",children:" PDF    "})]})]}),h.jsx(N,{p:3,bg:K("gray.50","gray.700"),borderRadius:"md",border:"1px solid",borderColor:f,children:h.jsx(V,{color:d,fontSize:"sm",lineHeight:"1.6",children:"       .            ."})})]}),!i&&!s&&!r&&h.jsxs(ee,{gap:3,children:[h.jsx(ye,{as:Yv,color:"gray.400",boxSize:8}),h.jsx(V,{color:d,textAlign:"center",children:"       "})]})]})}),h.jsx(N,{p:6,borderTop:"1px solid",borderColor:f,children:h.jsxs(de,{gap:3,children:[h.jsx(Se,{paddingX:4,variant:"outline",onClick:e,size:"sm",children:""}),r&&h.jsxs(Se,{paddingX:2,bg:"blue.500",color:"white",_hover:{bg:"blue.600"},onClick:g,size:"sm",children:[h.jsx(ye,{as:IO,mr:1})," "]})]})})]})}):null},kP=()=>{const{courseId:t}=pr(),e=yn(),{course:n,isLoading:r,error:i}=Jo(t),{assignments:s,isLoading:a}=aS(t),[c,d]=A.useState(!1),[f,g]=A.useState(null),[m,b]=A.useState({}),[y,S]=A.useState(!1),[x,C]=A.useState(null),E=K("white","gray.900"),k=K("gray.800","white"),T=K("gray.600","gray.300"),R=K("gray.200","gray.700"),_=K("gray.50","gray.800"),O=K("gray.50","gray.800"),I=B=>{g({title:B.title,templateUrl:B.template_pdf}),d(!0)},M=()=>{d(!1),g(null)},L=async()=>{if(!s||s.length===0)return;if(!localStorage.getItem("access_token")){console.warn("No access token found, skipping submission status loading");return}const H={};for(const G of s)try{console.log(`Loading submission status for assignment ${G.id}...`);const P=await Be.get(`/api/assignments/${G.id}/submissions/student/`);console.log(`Assignment ${G.id} submission data:`,P),P?P.grades&&P.grades.length>0?(H[G.id]="graded",console.log(`Assignment ${G.id} status: graded`)):(H[G.id]="submitted",console.log(`Assignment ${G.id} status: submitted`)):(H[G.id]="not_submitted",console.log(`Assignment ${G.id} status: not_submitted (no submission data)`))}catch(P){console.warn(`Could not load submission status for assignment ${G.id}:`,P),console.warn("Error details:",P.response?.data),H[G.id]="not_submitted",console.log(`Assignment ${G.id} status: not_submitted (error)`)}console.log("Final submission status map:",H),b(H)};A.useEffect(()=>{s&&s.length>0&&L()},[s]);const $=B=>{const H=m[B.id];console.log(`Button clicked for assignment ${B.id}, status:`,H),console.log("Current submission status map:",m),H==="submitted"||H==="graded"?(console.log("Navigating to edit page..."),e(`/courses/${t}/assignments/${B.id}/submit`,{state:{assignment:B,isEditing:!0}})):(console.log("Opening upload popup..."),C(B),S(!0))},U=()=>{S(!1),C(null)},D=B=>{e(`/courses/${t}/assignments/${x.id}/submit`,{state:{assignment:x,uploadedFile:B}})};return r?h.jsx(N,{bg:E,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:k,children:"   ..."})]})}):i||!n?h.jsx(N,{bg:E,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:T,children:i||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:n.title,courseSubtitle:`${xi(n.term)} ${n.year}`,courseCode:n.courseCode,instructor:n.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:E,minH:"100vh",p:{base:4,md:6},children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsxs(N,{children:[h.jsxs(de,{align:"center",gap:3,mb:2,children:[h.jsxs(St,{size:"xl",color:k,fontWeight:"bold",children:[" ",n.title]}),h.jsx(N,{height:"20px",width:"1px",bg:T}),h.jsxs(V,{color:T,fontSize:"lg",children:[xi(n.term)," ",n.year]})]}),h.jsxs(V,{color:T,fontSize:"sm",children:[" : ",n.courseCode]})]}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:R,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:_,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:R,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:k,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:k,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:k,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:k,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:k,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:k,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:k,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:k,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:k,fontWeight:"semibold",children:" "})]})}),h.jsx(N,{as:"tbody",children:a?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",gridColumn:"span 9",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:k,children:"   ..."})]})})}):s.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:9,children:h.jsx(ee,{children:h.jsx(V,{color:T,fontSize:"md",children:"   ."})})})}):s.map(B=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:R,_hover:{bg:O},children:[h.jsx(N,{as:"td",p:3,color:k,fontWeight:"medium",children:h.jsx(Se,{variant:"ghost",color:k,fontWeight:"medium",p:0,h:"auto",textAlign:"left",textDecoration:"underline",onClick:()=>I(B),_hover:{color:"blue.500",textDecoration:"underline"},children:B.title})}),h.jsx(N,{as:"td",p:3,color:T,children:new Date(B.created_at).toLocaleDateString("fa-IR")}),h.jsx(N,{as:"td",p:3,color:T,children:B.due_at?new Date(B.due_at).toLocaleDateString("fa-IR"):" "}),h.jsx(N,{as:"td",p:3,color:k,children:B.total_points}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(N,{w:"24px",h:"24px",borderRadius:"full",bg:B.is_published?"green.500":"gray.300",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto"})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:B.due_at?(()=>{const H=new Date,P=new Date(B.due_at).getTime()-H.getTime(),W=Math.ceil(P/(1e3*3600*24));if(W<0)return h.jsxs(ee,{align:"center",gap:1,children:[h.jsx(N,{width:"200px",height:"12px",bg:"gray.200",borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:"100%",height:"100%",bg:"gray.500",borderRadius:"md"})}),h.jsx(V,{fontSize:"xs",color:"gray.600",children:" "})]});if(W<=3){const Q=Math.max(0,Math.min(100,(3-W)/3*100));return h.jsxs(ee,{align:"center",gap:1,children:[h.jsx(N,{width:"200px",height:"12px",bg:"red.100",borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${Q}%`,height:"100%",bg:"red.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:"red.600",children:[W,"  "]})]})}else if(W<=7){const Q=Math.max(0,Math.min(100,(7-W)/7*100));return h.jsxs(ee,{align:"center",gap:1,children:[h.jsx(N,{width:"200px",height:"12px",bg:"orange.100",borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${Q}%`,height:"100%",bg:"orange.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:"orange.600",children:[W,"  "]})]})}else return h.jsxs(ee,{align:"center",gap:1,children:[h.jsx(N,{width:"200px",height:"12px",bg:"blue.100",borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:"15%",height:"100%",bg:"blue.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:"blue.600",children:[W,"  "]})]})})():h.jsx(V,{fontSize:"xs",color:"gray.500",children:" "})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(V,{fontSize:"sm",fontWeight:"medium",color:m[B.id]==="graded"?"green.600":m[B.id]==="submitted"?"blue.600":"gray.500",children:m[B.id]==="graded"?" ":m[B.id]==="submitted"?" ":" "})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsxs(Se,{size:"sm",paddingX:2,bg:"blue.500",color:"white",_hover:{bg:"blue.600"},variant:"outline",onClick:()=>$(B),children:[h.jsx(ye,{as:Ss,mr:1}),(()=>{const H=m[B.id],G=H==="submitted"||H==="graded"?"":"";return console.log(`Assignment ${B.id} button text: ${G} (status: ${H})`),G})()]})}),h.jsx(N,{as:"td",p:3,textAlign:"center",color:k,children:h.jsxs(de,{justify:"center",gap:1,children:[h.jsx(ye,{as:Yv,color:"gray.500"}),h.jsxs(V,{fontSize:"sm",children:["- / ",B.total_points]})]})})]},B.id))})]})})})]})})}),h.jsx(qK,{isOpen:c,onClose:M,assignmentTitle:f?.title||"",templateUrl:f?.templateUrl}),h.jsx(TP,{isOpen:y,onClose:U,assignmentTitle:x?.title||"",assignmentId:x?.id||0,onUploadSuccess:D})]})},YK=()=>{const{user:t,isLoading:e}=Wi();return e?h.jsx("div",{children:"Loading..."}):t?.role==="student"?h.jsx(kP,{}):h.jsx(GK,{})},XK=()=>{const{courseId:t}=pr(),e=yn(),{course:n,isLoading:r,error:i}=Jo(t),{assignments:s,assignmentCount:a,isLoading:c}=aS(t),[d,f]=A.useState(!1),[g,m]=A.useState(null),[b,y]=A.useState(!1),S=H=>{e(`/courses/${t}/assignments/${H}/settings`)},x=H=>{e(`/courses/${t}/assignments/${H}/review-grades`)},C=H=>{m(H),f(!0)},E=async()=>{if(g){y(!0);try{await vh.deleteAssignment(g),window.location.reload()}catch(H){console.error("Error deleting assignment:",H)}finally{y(!1)}}},k=K("white","gray.900"),T=K("gray.800","white"),R=K("gray.600","gray.300"),_=K("gray.200","gray.700"),O=K("gray.50","gray.800"),I=K("gray.50","gray.800"),M=K("gray.200","gray.600"),L=K("white","gray.700"),$=K("gray.200","gray.600"),U=K("blue.50","blue.900"),D=K("red.50","red.900"),B=K("white","gray.800");return r?h.jsx(N,{bg:k,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"xl",color:"blue.500"}),h.jsx(V,{color:T,children:"   ..."})]})}):i||!n?h.jsx(N,{bg:k,minH:"100vh",p:6,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(ee,{children:[h.jsx(V,{color:"red.500",fontSize:"lg",children:"   "}),h.jsx(V,{color:R,children:i||"  "})]})}):h.jsxs(ht,{templateAreas:{base:'"main"',md:'"aside main"'},templateColumns:{base:"1fr",md:"300px 1fr"},minH:"100vh",gap:0,children:[h.jsx(Oe,{area:"aside",display:{base:"none",md:"block"},children:h.jsx(yt,{courseTitle:n.title,courseSubtitle:`${xi(n.term)} ${n.year}`,courseCode:n.courseCode,instructor:n.instructor,courseId:t})}),h.jsx(Oe,{area:"main",children:h.jsx(N,{bg:k,minH:"100vh",p:{base:4,md:6},pb:24,children:h.jsxs(ee,{align:"stretch",gap:6,children:[h.jsx(N,{children:h.jsx(St,{margin:5,size:"xl",color:T,fontWeight:"bold",fontFamily:"inherit",fontSize:{base:"xl",md:"2xl",lg:"3xl"},children:c?h.jsxs(de,{children:[h.jsx(Tt,{size:"sm"}),h.jsx(V,{children:"  ..."})]}):`${a} `})}),h.jsx(ee,{align:"stretch",gap:4,children:h.jsx(N,{borderWidth:"1px",borderColor:_,borderRadius:"md",overflow:"hidden",children:h.jsxs(N,{as:"table",width:"100%",fontSize:"sm",children:[h.jsx(N,{as:"thead",bg:O,children:h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:_,children:[h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:" "}),h.jsx(ye,{as:xs,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:"  "}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"right",color:T,fontWeight:"semibold",children:h.jsxs(de,{gap:1,children:[h.jsx(V,{children:"  "}),h.jsx(ye,{as:qo,boxSize:3})]})}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:T,fontWeight:"semibold",children:""}),h.jsx(N,{as:"th",p:3,textAlign:"center",color:T,fontWeight:"semibold",children:" "}),h.jsx(N,{as:"th",p:3,textAlign:"center",width:"50px"})]})}),h.jsx(N,{as:"tbody",children:c?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",gridColumn:"span 9",children:h.jsxs(ee,{children:[h.jsx(Tt,{size:"md",color:"blue.500"}),h.jsx(V,{color:T,children:"   ..."})]})})}):s.length===0?h.jsx(N,{as:"tr",children:h.jsx(N,{as:"td",p:6,textAlign:"center",colSpan:9,children:h.jsxs(ee,{children:[h.jsx(V,{color:R,fontSize:"lg",children:"   ."}),h.jsx(V,{color:R,fontSize:"sm",children:"      ."})]})})}):s.map(H=>h.jsxs(N,{as:"tr",borderBottom:"1px",borderColor:_,_hover:{bg:I},children:[h.jsx(N,{as:"td",p:3,color:T,fontWeight:"medium",children:h.jsx(Se,{variant:"ghost",color:T,fontWeight:"medium",p:0,h:"auto",textAlign:"left",textDecoration:"underline",onClick:()=>e(`/courses/${t}/assignments/${H.id}/submissions`),_hover:{color:"blue.500",textDecoration:"underline"},children:H.title})}),h.jsx(N,{as:"td",p:3,color:T,fontWeight:"medium",children:H.total_points}),h.jsx(N,{as:"td",p:3,color:R,children:new Date(H.created_at).toLocaleDateString("fa-IR")}),h.jsx(N,{as:"td",p:3,color:R,children:H.due_at?new Date(H.due_at).toLocaleDateString("fa-IR"):" "}),h.jsx(N,{as:"td",p:3,color:T,children:H.total_submissions||0}),h.jsx(N,{as:"td",p:2,children:h.jsxs(ee,{align:"start",gap:1,children:[h.jsx(N,{width:"250px",height:"12px",bg:M,borderRadius:"md",position:"relative",overflow:"hidden",children:h.jsx(N,{width:`${H.grading_progress||0}%`,height:"100%",bg:(H.grading_progress||0)===100?"green.500":(H.grading_progress||0)>0?"blue.500":"gray.500",borderRadius:"md"})}),h.jsxs(V,{fontSize:"xs",color:R,children:[H.grading_progress||0,"%"]})]})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(N,{w:"24px",h:"24px",borderRadius:"full",bg:H.is_published?"blue.500":"gray.300",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",children:H.is_published&&h.jsx(ye,{as:Go,color:"white",boxSize:3})})}),h.jsx(N,{as:"td",p:3,textAlign:"center",children:h.jsx(V,{color:H.regrade_enabled?"blue.500":"red.500",fontWeight:"medium",fontSize:"sm",children:H.regrade_enabled?"ON":"OFF"})}),h.jsx(N,{as:"td",p:3,textAlign:"center",position:"absolute",children:h.jsxs(hx,{children:[h.jsx(fx,{asChild:!0,children:h.jsx(uh,{variant:"ghost",size:"sm","aria-label":"",_hover:{bg:"gray.100"},children:h.jsx(ye,{as:zO})})}),h.jsxs(gx,{bg:L,border:"1px solid",borderColor:$,borderRadius:"md",boxShadow:"lg",minW:"180px",py:1,zIndex:1e3,dir:"rtl",position:"absolute",left:0,children:[h.jsx(Ja,{value:"review-grades",onClick:()=>x(H.id),bg:"transparent",cursor:"pointer",_hover:{bg:U},_focus:{bg:U},py:2,px:3,fontSize:"sm",children:h.jsxs(de,{w:"full",children:[h.jsx(ye,{as:qv,color:"blue.500"}),h.jsx(V,{color:"blue.500",children:" "})]})}),h.jsx(Ja,{value:"settings",onClick:()=>S(H.id),bg:"transparent",cursor:"pointer",_hover:{bg:U},_focus:{bg:U},py:2,px:3,fontSize:"sm",children:h.jsxs(de,{w:"full",children:[h.jsx(ye,{as:Yo,color:"blue.500"}),h.jsx(V,{color:"blue.500",children:" "})]})}),h.jsx(Ja,{value:"delete",onClick:()=>C(H.id),bg:"transparent",cursor:"pointer",_hover:{bg:D},_focus:{bg:D},py:2,px:3,fontSize:"sm",children:h.jsxs(de,{w:"full",children:[h.jsx(ye,{as:il,color:"red.500"}),h.jsx(V,{color:"red.500",children:" "})]})})]})]})})]},H.id))})]})})})]})})}),h.jsx(N,{position:"fixed",bottom:0,left:0,right:0,bg:"gray.100",borderTop:"1px solid",borderColor:"gray.300",p:{base:1,md:2},zIndex:10,w:"100%",children:h.jsx(de,{justify:"flex-end",mx:"auto",px:{base:4,md:6},children:h.jsxs(Se,{bg:"#2E5BBA",color:"white",size:{base:"sm",md:"md"},paddingLeft:2,_hover:{bg:"#1E4A9A"},fontSize:{base:"xs",md:"sm"},onClick:()=>e(`/courses/${t}/assignments/new`),children:[h.jsx(ye,{as:rl,mr:2})," "]})})}),d&&h.jsx(N,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(N,{bg:B,borderRadius:"lg",p:6,maxW:"400px",w:"90%",boxShadow:"xl",children:h.jsxs(ee,{align:"stretch",gap:4,children:[h.jsx(V,{fontSize:"lg",fontWeight:"bold",color:T,textAlign:"center",children:" "}),h.jsx(V,{fontSize:"sm",color:"red.500",textAlign:"center",children:"         "}),h.jsxs(de,{justify:"center",gap:3,mt:4,children:[h.jsx(Se,{paddingX:2,variant:"outline",onClick:()=>{f(!1),m(null)},disabled:b,children:""}),h.jsx(Se,{paddingX:2,colorScheme:"red",onClick:E,loading:b,loadingText:"  ...",children:""})]})]})})})]})},KK=()=>{const{user:t,isLoading:e}=Wi();return e?h.jsx("div",{children:"Loading..."}):t?.role==="student"?h.jsx(kP,{}):h.jsx(XK,{})},QK=ZW([{path:"/login",element:h.jsx(c7,{})},{path:"/signup",element:h.jsx(d7,{})},{path:"/",element:h.jsx(zK,{children:h.jsx(h8,{})}),errorElement:h.jsx(d8,{}),children:[{index:!0,element:h.jsx(zT,{})},{path:"courses",element:h.jsx(zT,{})},{path:"courses/:courseId",element:h.jsx(YK,{})},{path:"courses/:courseId/assignments",element:h.jsx(KK,{})},{path:"courses/:courseId/assignments/new",element:h.jsx(Xq,{})},{path:"courses/:courseId/assignments/:assignmentId/outline",element:h.jsx(CK,{})},{path:"courses/:courseId/assignments/:assignmentId/submissions",element:h.jsx(_K,{})},{path:"courses/:courseId/assignments/:assignmentId/submissions/:submissionId/outline",element:h.jsx(OK,{})},{path:"courses/:courseId/assignments/:assignmentId/grade",element:h.jsx(jK,{})},{path:"courses/:courseId/assignments/:assignmentId/questions/:questionId/submissions",element:h.jsx(PK,{})},{path:"courses/:courseId/assignments/:assignmentId/questions/:questionId/submissions/:submissionId/grade",element:h.jsx(NK,{})},{path:"courses/:courseId/assignments/:assignmentId/review-grades",element:h.jsx(IK,{})},{path:"courses/:courseId/assignments/:assignmentId/submit",element:h.jsx(MK,{})},{path:"courses/:courseId/roster",element:h.jsx(y7,{})},{path:"courses/:courseId/extensions",element:h.jsx(x7,{})},{path:"courses/:courseId/settings",element:h.jsx(S7,{})},{path:"profile",element:h.jsx(LK,{})}]}]),ZK=console.error;console.error=(...t)=>{typeof t[0]=="string"&&t[0].includes('Each child in a list should have a unique "key" prop')&&(t[0].includes("MainBody")||t[0].includes("@react-shamsi_datepicker"))||ZK.apply(console,t)};UI.createRoot(document.getElementById("root")).render(h.jsx(A.StrictMode,{children:h.jsx(nU,{forcedTheme:"light",children:h.jsx(u8,{router:QK})})}));
